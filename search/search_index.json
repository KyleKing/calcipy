{"config":{"lang":["en"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"]},"docs":[{"location":"","title":"calcipy","text":"<p><code>calcipy</code> is a Python package that implements best practices such as code style (linting, auto-fixes), documentation, CI/CD, and logging. Like the calcium carbonate in hard coral, packages can be built on the <code>calcipy</code> foundation.</p> <p><code>calcipy</code> has some configurability, but is tailored for my particular use cases. If you want the same sort of functionality, there are a number of alternatives to consider:</p> <ul> <li>pyscaffold is a much more mature project that aims for the same goals, but with a slightly different approach and tech stack (tox vs. nox, cookiecutter vs. copier, etc.)</li> <li>tidypy, pylama, and codecheck offer similar functionality of bundling and running static checkers, but makes far fewer assumptions</li> <li>pytoil is a general CLI tool for developer automation</li> <li>And many more such as pyta, prospector, wemake-python-styleguide / cjolowicz/cookiecutter-hypermodern-python, formate, johnthagen/python-blueprint, oxsecurity/megalinter, trialandsuccess/su6, precious, etc.</li> </ul>"},{"location":"#installation","title":"Installation","text":"<p>Calcipy needs a few static files managed using copier and a template project: kyleking/calcipy_template</p> <p>You can quickly use the template to create a new project or add calcipy to an existing one:</p> <pre><code># Below examples assume you have Astral uv installed (which provides uvx)\n#   If you have your shell configured, `uv tool install copier` allows usage of `copier ...` instead of `uvx copier ...`\n\n# To create a new project\nuvx copier copy gh:KyleKing/calcipy_template new_project\ncd new_project\n\n# Or convert/update an existing one\ncd my_project\nuvx copier copy gh:KyleKing/calcipy_template .\nuvx copier update\n</code></pre>"},{"location":"#calcipy-cli","title":"Calcipy CLI","text":"<p>Additionally, <code>calcipy</code> can be run as a CLI application without adding the package as a dependency.</p> <p>Quick Start:</p> <pre><code># For the CLI, only install a few of the extras which can be used from a few different CLI commands\nuv tool install 'calcipy[lint,tags]'\n\n# Use 'tags' to create a CODE_TAG_SUMMARY of the specified directory\ncalcipy-tags tags --help\ncalcipy-tags tags --base-dir=~/path/to/my_project\n</code></pre> <p>Note: the CLI output below is compressed for readability, but you can try running each of these commands locally to see the most up-to-date documentation and the full set of options. The \u201cUsage\u201d, \u201cCore options\u201d, and \u201cGlobal Task Options\u201d are the same for each subsequent command, so they are excluded for brevity.</p> <pre><code>&gt; calcipy-lint\nUsage: calcipy-lint [--core-opts] &lt;subcommand&gt; [--subcommand-opts] ...\n\nCore options:\n\n  --complete                         Print tab-completion candidates for given parse remainder.\n  --hide=STRING                      Set default value of run()'s 'hide' kwarg.\n  --print-completion-script=STRING   Print the tab-completion script for your preferred shell (bash|zsh|fish).\n  --prompt-for-sudo-password         Prompt user at start of session for the sudo.password config value.\n  --write-pyc                        Enable creation of .pyc files.\n  -d, --debug                        Enable debug output.\n  -D INT, --list-depth=INT           When listing tasks, only show the first INT levels.\n  -e, --echo                         Echo executed commands before running.\n  -f STRING, --config=STRING         Runtime configuration file to use.\n  -F STRING, --list-format=STRING    Change the display format used when listing tasks. Should be one of: flat (default), nested, json.\n  -h [STRING], --help[=STRING]       Show core or per-task help and exit.\n  -l [STRING], --list[=STRING]       List available tasks, optionally limited to a namespace.\n  -p, --pty                          Use a pty when executing shell commands.\n  -R, --dry                          Echo commands instead of running.\n  -T INT, --command-timeout=INT      Specify a global command execution timeout, in seconds.\n  -V, --version                      Show version and exit.\n  -w, --warn-only                    Warn, instead of failing, when shell commands fail.\n\nSubcommands:\n\n  lint.check (lint)   Run ruff as check-only.\n  lint.fix            Run ruff and apply fixes.\n  lint.prek           Run prek.\n  lint.watch          Run ruff as check-only.\n\nGlobal Task Options:\n\n  *file_args             List of Paths available globally to all tasks. Will resolve paths with working_dir\n  --keep-going           Continue running tasks even on failure\n  --working_dir=STRING   Set the cwd for the program. Example: \"../run --working-dir .. lint test\"\n  -v,-vv,-vvv            Globally configure logger verbosity (-vvv for most verbose)\n\n&gt; calcipy-pack\n\nSubcommands:\n\n  pack.bump-tag                  Experiment with bumping the git tag using `griffe` (experimental).\n  pack.lock                      Update package manager lock file.\n  pack.publish                   Build the distributed format(s) and publish.\n  pack.sync-pyproject-versions   Experiment with setting the pyproject.toml dependencies to the version from uv.lock (experimental).\n\n&gt; calcipy-tags\n\nSubcommands:\n\n  tags.collect-code-tags (tags)   Create a `CODE_TAG_SUMMARY.md` with a table for TODO- and FIXME-style code comments.\n\n&gt; calcipy-types\n\nSubcommands:\n\n  types.mypy      Run mypy.\n  types.pyright   Run pyright using the config in `pyproject.toml`.\n</code></pre>"},{"location":"#calcipy-pre-commit","title":"Calcipy Pre-Commit","text":"<p><code>calcipy</code> can also be used as a <code>pre-commit</code> task by adding the below snippet to your <code>pre-commit</code> file:</p> <pre><code>repos:\n  - repo: https://github.com/KyleKing/calcipy\n    rev: main\n    hooks:\n      - id: tags\n      - id: lint-fix\n      - id: types\n</code></pre> <p>Tip: running pre-commit with prek is recommended for performance: https://pypi.org/project/prek</p>"},{"location":"#project-status","title":"Project Status","text":"<p>See the <code>Open Issues</code> and/or the CODE_TAG_SUMMARY. For release history, see the CHANGELOG.</p>"},{"location":"#contributing","title":"Contributing","text":"<p>We welcome pull requests! For your pull request to be accepted smoothly, we suggest that you first open a GitHub issue to discuss your idea. For resources on getting started with the code base, see the below documentation:</p> <ul> <li>DEVELOPER_GUIDE</li> <li>STYLE_GUIDE</li> </ul>"},{"location":"#code-of-conduct","title":"Code of Conduct","text":"<p>We follow the Contributor Covenant Code of Conduct.</p>"},{"location":"#open-source-status","title":"Open Source Status","text":"<p>We try to reasonably meet most aspects of the \u201cOpenSSF scorecard\u201d from Open Source Insights</p>"},{"location":"#responsible-disclosure","title":"Responsible Disclosure","text":"<p>If you have any security issue to report, please contact the project maintainers privately. You can reach us at dev.act.kyle@gmail.com.</p>"},{"location":"#license","title":"License","text":"<p>LICENSE</p>"},{"location":"docs/CHANGELOG/","title":"CHANGELOG","text":""},{"location":"docs/CHANGELOG/#unreleased","title":"Unreleased","text":""},{"location":"docs/CHANGELOG/#feat","title":"Feat","text":"<ul> <li>migrate to prek</li> <li>switch to uv (#134)</li> </ul>"},{"location":"docs/CHANGELOG/#fix","title":"Fix","text":"<ul> <li>finish migrating noxfile</li> <li>finish migration to src/* uv_build organization</li> </ul>"},{"location":"docs/CHANGELOG/#500-2024-11-07","title":"5.0.0 (2024-11-07)","text":""},{"location":"docs/CHANGELOG/#feat_1","title":"Feat","text":"<ul> <li>remove licensecheck</li> <li>remove \u2018stale\u2019 module and pytest-recording</li> </ul>"},{"location":"docs/CHANGELOG/#430-2024-10-31","title":"4.3.0 (2024-10-31)","text":""},{"location":"docs/CHANGELOG/#feat_2","title":"Feat","text":"<ul> <li>add optional delimiters for alignment</li> </ul>"},{"location":"docs/CHANGELOG/#fix_1","title":"Fix","text":"<ul> <li>downgrade \u2018could not parse\u2019 to debug</li> <li>export \u2018ns\u2019 for recipes</li> </ul>"},{"location":"docs/CHANGELOG/#refactor","title":"Refactor","text":"<ul> <li>restore T suffix for consistency</li> </ul>"},{"location":"docs/CHANGELOG/#420-2024-10-31","title":"4.2.0 (2024-10-31)","text":""},{"location":"docs/CHANGELOG/#feat_3","title":"Feat","text":"<ul> <li>add markdown_tables.format_table</li> </ul>"},{"location":"docs/CHANGELOG/#fix_2","title":"Fix","text":"<ul> <li>set minimum urllib3 version</li> <li>use uvx instead of pipx</li> <li>attempt to output tasks even when some dependencies are missing</li> <li>correct typo in DeferedTask</li> </ul>"},{"location":"docs/CHANGELOG/#refactor_1","title":"Refactor","text":"<ul> <li>finish removing pydantic dependency</li> <li>switch serialized BaseModel to dataclass</li> <li>switch some BaseModels to plain dataclasses</li> <li>sync Github Labeler</li> </ul>"},{"location":"docs/CHANGELOG/#410-2024-10-07","title":"4.1.0 (2024-10-07)","text":""},{"location":"docs/CHANGELOG/#feat_4","title":"Feat","text":"<ul> <li>remove pylint</li> </ul>"},{"location":"docs/CHANGELOG/#fix_3","title":"Fix","text":"<ul> <li>upgrade pre-commit</li> <li>remove unused test.step</li> <li>pack: handle missing dependenies group section</li> <li>handle when dev-dependencies are missing</li> <li>minimize calcipy extras when testing in nox</li> <li>handle git, path, and other complex versions for sync task</li> <li>pinning urllib3 for Python 3.11 wasn\u2019t necessary</li> </ul>"},{"location":"docs/CHANGELOG/#refactor_2","title":"Refactor","text":"<ul> <li>resolve ruff errors</li> <li>minor logging improvements for pack.sync</li> </ul>"},{"location":"docs/CHANGELOG/#400-2024-07-06","title":"4.0.0 (2024-07-06)","text":""},{"location":"docs/CHANGELOG/#fix_4","title":"Fix","text":"<ul> <li>add timeout to httpx requests</li> <li>don\u2019t sync versions when a maximum version is specified</li> <li>prevent installing urllib3 in Python 3.10</li> <li>add missing pylint extra</li> </ul>"},{"location":"docs/CHANGELOG/#refactor_3","title":"Refactor","text":"<ul> <li>reduce sync_package_deps complexity</li> <li>try debugging urllib3 inconsistencies</li> </ul>"},{"location":"docs/CHANGELOG/#400rc2-2024-07-05","title":"4.0.0rc2 (2024-07-05)","text":""},{"location":"docs/CHANGELOG/#fix_5","title":"Fix","text":"<ul> <li>install pyyaml for tags extra</li> <li>correctly calculate markdown table widths</li> </ul>"},{"location":"docs/CHANGELOG/#400rc1-2024-07-05","title":"4.0.0rc1 (2024-07-05)","text":""},{"location":"docs/CHANGELOG/#fix_6","title":"Fix","text":"<ul> <li>wheel: don\u2019t distribute top-level LICENSE file</li> <li>ensure consistent whitespace when writing markdown tables</li> <li>restore pyyaml extra</li> </ul>"},{"location":"docs/CHANGELOG/#400rc0-2024-07-05","title":"4.0.0rc0 (2024-07-05)","text":""},{"location":"docs/CHANGELOG/#feat_5","title":"Feat","text":"<ul> <li>add pack.sync-package-dependencies experiment</li> </ul>"},{"location":"docs/CHANGELOG/#fix_7","title":"Fix","text":"<ul> <li>improve output from stale task and semaphore concurrency</li> <li>#132: remove mkdocs section-index and literate nav</li> </ul>"},{"location":"docs/CHANGELOG/#refactor_4","title":"Refactor","text":"<ul> <li>#132: remove @beartype decorators</li> <li>#132: restore commitizen for changelog creation</li> <li>#132: remove basedpyright; too many false positives</li> <li>#132: remove unused mkdocs-markdown-include-plugin</li> <li>make pyyaml required only for doc extra</li> <li>#132: remove commitizen</li> <li>#132: finish replacing pandas for markdown tables</li> <li>#132: partially remove pandas</li> <li>rename to write_template_formatted_md_sections</li> <li>#132: remove transitions</li> <li>#132: remove pyreverse diagrams</li> <li>#132: remove MkDocs revision date plugin</li> <li>#132: remove plantuml-mkdocs integration</li> <li>#132: remove dependency on bidict and pyrate-limiter</li> </ul>"},{"location":"docs/CHANGELOG/#302-2024-06-16","title":"3.0.2 (2024-06-16)","text":""},{"location":"docs/CHANGELOG/#fix_8","title":"Fix","text":"<ul> <li>use calcipy.collection for Collection import</li> <li>quote each file-arg to linting tasks</li> </ul>"},{"location":"docs/CHANGELOG/#refactor_5","title":"Refactor","text":"<ul> <li>format cli file</li> </ul>"},{"location":"docs/CHANGELOG/#301-2024-06-12","title":"3.0.1 (2024-06-12)","text":""},{"location":"docs/CHANGELOG/#fix_9","title":"Fix","text":"<ul> <li>don\u2019t pass arguments to pyright CLI</li> </ul>"},{"location":"docs/CHANGELOG/#perf","title":"Perf","text":"<ul> <li>cache known executables</li> </ul>"},{"location":"docs/CHANGELOG/#300-2024-06-07","title":"3.0.0 (2024-06-07)","text":""},{"location":"docs/CHANGELOG/#fix_10","title":"Fix","text":"<ul> <li>finish migration from autopep8 to ruff</li> <li>resolve remaining ruff errors manually</li> <li>use all-caps LOGGER from corallium</li> <li>require lock before install-extras</li> <li>copier-auto-update</li> </ul>"},{"location":"docs/CHANGELOG/#refactor_6","title":"Refactor","text":"<ul> <li>unsafe fixes from ruff</li> <li>safe fixes from ruff</li> </ul>"},{"location":"docs/CHANGELOG/#220rc0-2024-06-06","title":"2.2.0rc0 (2024-06-06)","text":""},{"location":"docs/CHANGELOG/#feat_6","title":"Feat","text":"<ul> <li>remove bandit/security task</li> <li>remove flake8</li> </ul>"},{"location":"docs/CHANGELOG/#fix_11","title":"Fix","text":"<ul> <li>make experimental dependencies optional</li> <li>remove pip-check</li> <li>shorten main task list</li> <li>remove autopep8</li> <li>remove semgrep</li> </ul>"},{"location":"docs/CHANGELOG/#210-2024-04-17","title":"2.1.0 (2024-04-17)","text":""},{"location":"docs/CHANGELOG/#feat_7","title":"Feat","text":"<ul> <li>add basedpyright</li> </ul>"},{"location":"docs/CHANGELOG/#fix_12","title":"Fix","text":"<ul> <li>exclude plantuml package 1.10.0</li> </ul>"},{"location":"docs/CHANGELOG/#refactor_7","title":"Refactor","text":"<ul> <li>replace filter with iterator</li> </ul>"},{"location":"docs/CHANGELOG/#204-2024-01-31","title":"2.0.4 (2024-01-31)","text":""},{"location":"docs/CHANGELOG/#fix_13","title":"Fix","text":"<ul> <li>add \u2013doc-sub-dir for Code Tag generation without copier-answers</li> <li>create the code tag summary directory if it doesn\u2019t already exist</li> </ul>"},{"location":"docs/CHANGELOG/#203-2023-11-21","title":"2.0.3 (2023-11-21)","text":""},{"location":"docs/CHANGELOG/#fix_14","title":"Fix","text":"<ul> <li>pin a recent version of virtualenv for Python 3.12 + Nox</li> </ul>"},{"location":"docs/CHANGELOG/#202-2023-11-08","title":"2.0.2 (2023-11-08)","text":""},{"location":"docs/CHANGELOG/#refactor_8","title":"Refactor","text":"<ul> <li>copier-auto-update</li> </ul>"},{"location":"docs/CHANGELOG/#201-2023-09-08","title":"2.0.1 (2023-09-08)","text":""},{"location":"docs/CHANGELOG/#fix_15","title":"Fix","text":"<ul> <li>add missing setuptools for some mkdocs dependencies</li> <li>add calcipy-docs and restore missing extras for type checking</li> <li>add scoped \u2018calcipy-test\u2019</li> </ul>"},{"location":"docs/CHANGELOG/#refactor_9","title":"Refactor","text":"<ul> <li>really move nox</li> <li>use ruff.external to allow list flake8 rules</li> </ul>"},{"location":"docs/CHANGELOG/#200-2023-09-02","title":"2.0.0 (2023-09-02)","text":""},{"location":"docs/CHANGELOG/#feat_8","title":"Feat","text":"<ul> <li>drop Python 3.8</li> </ul>"},{"location":"docs/CHANGELOG/#fix_16","title":"Fix","text":"<ul> <li>specify a unique name when binding new kwargs</li> </ul>"},{"location":"docs/CHANGELOG/#164-2023-08-28","title":"1.6.4 (2023-08-28)","text":""},{"location":"docs/CHANGELOG/#fix_17","title":"Fix","text":"<ul> <li>update pyrate-limiter</li> </ul>"},{"location":"docs/CHANGELOG/#refactor_10","title":"Refactor","text":"<ul> <li>address pydantic v2 migration warnings</li> </ul>"},{"location":"docs/CHANGELOG/#163-2023-08-13","title":"1.6.3 (2023-08-13)","text":""},{"location":"docs/CHANGELOG/#fix_18","title":"Fix","text":"<ul> <li>remove redundant beartype to lru_cache</li> </ul>"},{"location":"docs/CHANGELOG/#refactor_11","title":"Refactor","text":"<ul> <li>resolve asdf</li> <li>tried get_env_vars</li> </ul>"},{"location":"docs/CHANGELOG/#162-2023-08-12","title":"1.6.2 (2023-08-12)","text":""},{"location":"docs/CHANGELOG/#161rc0-2023-08-12","title":"1.6.1rc0 (2023-08-12)","text":""},{"location":"docs/CHANGELOG/#fix_19","title":"Fix","text":"<ul> <li>support partial kwargs for pre/post</li> <li>defer Task to support decorator chaining</li> </ul>"},{"location":"docs/CHANGELOG/#refactor_12","title":"Refactor","text":"<ul> <li>setup for deferred task refactor</li> <li>update dependency versions</li> <li>update copier for a more generic environment variable</li> </ul>"},{"location":"docs/CHANGELOG/#160-2023-07-23","title":"1.6.0 (2023-07-23)","text":""},{"location":"docs/CHANGELOG/#feat_9","title":"Feat","text":"<ul> <li>experiment with griffe for version bumping</li> </ul>"},{"location":"docs/CHANGELOG/#fix_20","title":"Fix","text":"<ul> <li>resolve minor bugs in griffe experiment</li> <li>remove dependency on flake8-beartype</li> </ul>"},{"location":"docs/CHANGELOG/#refactor_13","title":"Refactor","text":"<ul> <li>downgrade replacement machine error to warning</li> </ul>"},{"location":"docs/CHANGELOG/#150-2023-07-22","title":"1.5.0 (2023-07-22)","text":""},{"location":"docs/CHANGELOG/#feat_10","title":"Feat","text":"<ul> <li>add configurable ignore patterns for tags</li> </ul>"},{"location":"docs/CHANGELOG/#refactor_14","title":"Refactor","text":"<ul> <li>resolve pylint warnings</li> <li>run bump-pydantic</li> </ul>"},{"location":"docs/CHANGELOG/#142-2023-07-16","title":"1.4.2 (2023-07-16)","text":""},{"location":"docs/CHANGELOG/#fix_21","title":"Fix","text":"<ul> <li>use the correct exclude rule for semgrep</li> <li>support pydantic v2 serialization</li> <li>skip SemGrep rule to pin GitHub Actions to commit IDs</li> </ul>"},{"location":"docs/CHANGELOG/#refactor_15","title":"Refactor","text":"<ul> <li>resolve local test suite problems</li> </ul>"},{"location":"docs/CHANGELOG/#141-2023-07-07","title":"1.4.1 (2023-07-07)","text":""},{"location":"docs/CHANGELOG/#fix_22","title":"Fix","text":"<ul> <li>retrieve only unique python versions from .tool-versions</li> </ul>"},{"location":"docs/CHANGELOG/#140-2023-06-25","title":"1.4.0 (2023-06-25)","text":""},{"location":"docs/CHANGELOG/#feat_11","title":"Feat","text":"<ul> <li>add calcipy-pack to use install-extras without the extras</li> </ul>"},{"location":"docs/CHANGELOG/#fix_23","title":"Fix","text":"<ul> <li>show a readable warning when gh, pyright, and/or pre-commit are not installed</li> <li>use calcipy\u2019s python environment when installed with pipx</li> </ul>"},{"location":"docs/CHANGELOG/#130-2023-06-21","title":"1.3.0 (2023-06-21)","text":""},{"location":"docs/CHANGELOG/#feat_12","title":"Feat","text":"<ul> <li>switch to httpx for async requests</li> </ul>"},{"location":"docs/CHANGELOG/#perf_1","title":"Perf","text":"<ul> <li>lazy cache compiling the regex</li> </ul>"},{"location":"docs/CHANGELOG/#126-2023-06-17","title":"1.2.6 (2023-06-17)","text":""},{"location":"docs/CHANGELOG/#fix_24","title":"Fix","text":"<ul> <li>handle missing git remotes in code tag collection</li> <li>always re-cache packages if empty</li> <li>ignore new TD002 &amp; TD003 linting rules</li> </ul>"},{"location":"docs/CHANGELOG/#refactor_16","title":"Refactor","text":"<ul> <li>try to handle exceptions when no git origin URL</li> </ul>"},{"location":"docs/CHANGELOG/#125-2023-05-23","title":"1.2.5 (2023-05-23)","text":""},{"location":"docs/CHANGELOG/#fix_25","title":"Fix","text":"<ul> <li>resolve typing and import errors</li> <li>upgrade to invoke 2.1.2</li> </ul>"},{"location":"docs/CHANGELOG/#refactor_17","title":"Refactor","text":"<ul> <li>suppress ruff autofix</li> </ul>"},{"location":"docs/CHANGELOG/#124-2023-05-16","title":"1.2.4 (2023-05-16)","text":""},{"location":"docs/CHANGELOG/#fix_26","title":"Fix","text":"<ul> <li>add pack.install-extras</li> <li>bump minimum pymdown dependency</li> <li>pydantic alias doesn\u2019t work like that</li> <li>refactor for higher pylint quality</li> <li>update the help string to include \u2013keep-going</li> <li>support branch coverage</li> <li>move pyright to \u2018main\u2019 tasks</li> </ul>"},{"location":"docs/CHANGELOG/#123-2023-04-08","title":"1.2.3 (2023-04-08)","text":""},{"location":"docs/CHANGELOG/#fix_27","title":"Fix","text":"<ul> <li>handle dev installs when only calcipy</li> </ul>"},{"location":"docs/CHANGELOG/#122-2023-04-08","title":"1.2.2 (2023-04-08)","text":""},{"location":"docs/CHANGELOG/#fix_28","title":"Fix","text":"<ul> <li>add preview of \u2013keep-going</li> </ul>"},{"location":"docs/CHANGELOG/#refactor_18","title":"Refactor","text":"<ul> <li>extract task logic from wrapper</li> </ul>"},{"location":"docs/CHANGELOG/#121-2023-04-07","title":"1.2.1 (2023-04-07)","text":""},{"location":"docs/CHANGELOG/#fix_29","title":"Fix","text":"<ul> <li>skip assert_used in bandit</li> </ul>"},{"location":"docs/CHANGELOG/#120-2023-04-06","title":"1.2.0 (2023-04-06)","text":""},{"location":"docs/CHANGELOG/#feat_13","title":"Feat","text":"<ul> <li>add test.check with duplicate name logic</li> </ul>"},{"location":"docs/CHANGELOG/#fix_30","title":"Fix","text":"<ul> <li>remove lru_cache, which was causing mypy errors</li> </ul>"},{"location":"docs/CHANGELOG/#111-2023-04-06","title":"1.1.1 (2023-04-06)","text":""},{"location":"docs/CHANGELOG/#fix_31","title":"Fix","text":"<ul> <li>resolve linting errors</li> <li>use copier copy</li> </ul>"},{"location":"docs/CHANGELOG/#110-2023-04-06","title":"1.1.0 (2023-04-06)","text":""},{"location":"docs/CHANGELOG/#feat_14","title":"Feat","text":"<ul> <li>add experimental check duplicate test names</li> </ul>"},{"location":"docs/CHANGELOG/#fix_32","title":"Fix","text":"<ul> <li>suppress unexpected exit errors in update docs</li> <li>skip pre-commit uninstall for doc.deploy when pre-commit not available</li> <li>skip pre-commit on doc.deploy</li> </ul>"},{"location":"docs/CHANGELOG/#101-2023-03-01","title":"1.0.1 (2023-03-01)","text":""},{"location":"docs/CHANGELOG/#fix_33","title":"Fix","text":"<ul> <li>bump minimum ruff version</li> </ul>"},{"location":"docs/CHANGELOG/#100-2023-02-25","title":"1.0.0 (2023-02-25)","text":""},{"location":"docs/CHANGELOG/#fix_34","title":"Fix","text":"<ul> <li>lower default logging level</li> </ul>"},{"location":"docs/CHANGELOG/#100rc7-2023-02-23","title":"1.0.0rc7 (2023-02-23)","text":""},{"location":"docs/CHANGELOG/#feat_15","title":"Feat","text":"<ul> <li>add lint.security to pre-commit lint-fix hook</li> </ul>"},{"location":"docs/CHANGELOG/#fix_35","title":"Fix","text":"<ul> <li>remove types hook, which doesn\u2019t work when not local</li> </ul>"},{"location":"docs/CHANGELOG/#refactor_19","title":"Refactor","text":"<ul> <li>make task summary optional</li> <li>configure start program inline</li> </ul>"},{"location":"docs/CHANGELOG/#100rc6-2023-02-22","title":"1.0.0rc6 (2023-02-22)","text":""},{"location":"docs/CHANGELOG/#fix_36","title":"Fix","text":"<ul> <li>provide subcommands to support pre-commit</li> </ul>"},{"location":"docs/CHANGELOG/#100rc5-2023-02-22","title":"1.0.0rc5 (2023-02-22)","text":""},{"location":"docs/CHANGELOG/#feat_16","title":"Feat","text":"<ul> <li>add pre-commit hooks and update docs</li> </ul>"},{"location":"docs/CHANGELOG/#fix_37","title":"Fix","text":"<ul> <li>handle KeyError when not yet on PyPi\u2019s JSON API</li> </ul>"},{"location":"docs/CHANGELOG/#refactor_20","title":"Refactor","text":"<ul> <li>sync with corallium ruff and remove flake8 class-attr-order</li> </ul>"},{"location":"docs/CHANGELOG/#100rc4-2023-02-22","title":"1.0.0rc4 (2023-02-22)","text":""},{"location":"docs/CHANGELOG/#fix_38","title":"Fix","text":"<ul> <li>fully support nox and corallium</li> </ul>"},{"location":"docs/CHANGELOG/#100rc3-2023-02-22","title":"1.0.0rc3 (2023-02-22)","text":""},{"location":"docs/CHANGELOG/#fix_39","title":"Fix","text":"<ul> <li>add depedency on corallium</li> </ul>"},{"location":"docs/CHANGELOG/#100rc2-2023-02-21","title":"1.0.0rc2 (2023-02-21)","text":""},{"location":"docs/CHANGELOG/#feat_17","title":"Feat","text":"<ul> <li>merge shoal source code into calcipy</li> </ul>"},{"location":"docs/CHANGELOG/#100rc1-2023-02-21","title":"1.0.0rc1 (2023-02-21)","text":""},{"location":"docs/CHANGELOG/#fix_40","title":"Fix","text":"<ul> <li>upgrade shoal dependency and add summary</li> <li>add pylint to document</li> <li>move autopep8 to the lint extras</li> </ul>"},{"location":"docs/CHANGELOG/#100rc0-2023-02-20","title":"1.0.0rc0 (2023-02-20)","text":""},{"location":"docs/CHANGELOG/#feat_18","title":"Feat","text":"<ul> <li>fully support working-dir by wrapping ctx.run</li> <li>recursively find the tool versions file</li> <li>add dont_skip for testing</li> <li>add tests for code tag collector</li> <li>replace dg with user configuration file</li> <li>better support min-cover</li> <li>unit test write_autoformatted_md_sections</li> <li>start using check_imports</li> <li>support prereleases and add autopep8</li> <li>introduce cl namespace</li> <li>run lint on file_args and use absolufy</li> <li>add initial version of doc namespace</li> <li>remove pre-commit; add doc and ddict extras</li> <li>add progress indicator to tasks</li> <li>add lint.security</li> <li>add ./run to generlize local entrypoint</li> <li>add lint.pre-commit</li> <li>restore most of noxfile</li> <li>run mypy-silent and add main task</li> <li>use can_skip for the package_lock file</li> <li>start manually fixing lint issues</li> <li>add linting</li> <li>migrate over stale package logic</li> <li>add pyright, mypy, and DEFAULTS</li> <li>add write_json and cached pyproject reader</li> <li>add pytest-based tasks and first unit tests</li> <li>experiment with parallel processing</li> <li>init placeholders for new namespaces</li> <li>add can_skip</li> <li>add initial nox task to invoke</li> <li>switch to invoke</li> <li>start restoring files and switching to shoal</li> <li>add shoal</li> </ul>"},{"location":"docs/CHANGELOG/#fix_41","title":"Fix","text":"<ul> <li>correct ignore pattern logic and expand task tests</li> <li>get doc and cl tasks working</li> <li>code tag summary and rename default tasks</li> <li>properly map CLI arguments to code tag collector</li> <li>show all URLs on the same line in CTC</li> <li>write Code Tags to docs/docs</li> <li>resolve issues with test.watch-json</li> </ul>"},{"location":"docs/CHANGELOG/#refactor_21","title":"Refactor","text":"<ul> <li>update Progress task</li> <li>extract use_pty to a default in shoal</li> <li>generlize find_in_parents for pyproject.toml as well</li> <li>introduce logger.print and print_debug</li> <li>drop absolufy-imports task</li> <li>simplify configuration</li> <li>fix remaining pyright and flake8 errors</li> <li>rename write-json to coverage</li> <li>resolve pylint issues</li> <li>reorder main tasks</li> <li>resolve flake8 warnings and better manage filenames</li> <li>apply autopep8 to fix whitespace issues</li> <li>import initialized logger directly</li> <li>try to wrap running tasks programmatically\u2026</li> <li>run prc main</li> <li>move log configuration to shoal.cli.task</li> <li>resolve typecheck errors</li> <li>manually resolve additional linting errors</li> <li>make lint.check default</li> <li>extract start program to shoal</li> <li>another round of manual lint corrections</li> <li>move can_skip to shoal</li> <li> <p>nest invoke-specific code in tasks/</p> </li> <li> <p>drop pytest-html and conftest completely</p> </li> </ul>"},{"location":"docs/CHANGELOG/#0216-2023-01-31","title":"0.21.6 (2023-01-31)","text":""},{"location":"docs/CHANGELOG/#feat_19","title":"Feat","text":"<ul> <li>use the \u2013now flag for ptw!</li> </ul>"},{"location":"docs/CHANGELOG/#refactor_22","title":"Refactor","text":"<ul> <li>remove autoflake in favor of unimport</li> </ul>"},{"location":"docs/CHANGELOG/#0215-2022-11-27","title":"0.21.5 (2022-11-27)","text":""},{"location":"docs/CHANGELOG/#fix_42","title":"Fix","text":"<ul> <li>escape % in yaml files as well</li> </ul>"},{"location":"docs/CHANGELOG/#0214-2022-11-20","title":"0.21.4 (2022-11-20)","text":""},{"location":"docs/CHANGELOG/#fix_43","title":"Fix","text":"<ul> <li>handle % in path names for ctt</li> <li>suppress code tag failures when not a git directory</li> <li>add support for tomllib in Python 3.11!</li> </ul>"},{"location":"docs/CHANGELOG/#refactor_23","title":"Refactor","text":"<ul> <li>copier update</li> </ul>"},{"location":"docs/CHANGELOG/#0213-2022-11-13","title":"0.21.3 (2022-11-13)","text":""},{"location":"docs/CHANGELOG/#fix_44","title":"Fix","text":"<ul> <li>remove unimplemented diff-cover</li> <li>exit 1 on semgrep errors</li> </ul>"},{"location":"docs/CHANGELOG/#0212-2022-11-12","title":"0.21.2 (2022-11-12)","text":""},{"location":"docs/CHANGELOG/#fix_45","title":"Fix","text":"<ul> <li>add relative path prefix for linting \u2018./\u2019</li> <li>ensure that cz bump doesn\u2019t break the requirements file</li> <li>bump minimum pip-check</li> </ul>"},{"location":"docs/CHANGELOG/#0211-2022-11-05","title":"0.21.1 (2022-11-05)","text":""},{"location":"docs/CHANGELOG/#fix_46","title":"Fix","text":"<ul> <li>install poetry for \u2018doit publish\u2019</li> <li>bump minimum mkdocs for deploy_docs</li> </ul>"},{"location":"docs/CHANGELOG/#0210-2022-11-05","title":"0.21.0 (2022-11-05)","text":""},{"location":"docs/CHANGELOG/#feat_20","title":"Feat","text":"<ul> <li>remove if-expr and other unnecessary new flake8 plugins</li> <li>merge extra flake8 packages based on flake8-aggressive</li> </ul>"},{"location":"docs/CHANGELOG/#fix_47","title":"Fix","text":"<ul> <li>prevent line break in table for Code Tag summary</li> <li>add pdbr with rich to replace pdbpp</li> </ul>"},{"location":"docs/CHANGELOG/#0201-2022-10-19","title":"0.20.1 (2022-10-19)","text":""},{"location":"docs/CHANGELOG/#fix_48","title":"Fix","text":"<ul> <li>drop pdbpp and add flake8-fine-pytest</li> </ul>"},{"location":"docs/CHANGELOG/#0200-2022-10-16","title":"0.20.0 (2022-10-16)","text":""},{"location":"docs/CHANGELOG/#feat_21","title":"Feat","text":"<ul> <li>sign commitizen tags</li> <li>add plantuml generation to mkdocs</li> </ul>"},{"location":"docs/CHANGELOG/#fix_49","title":"Fix","text":"<ul> <li>remove version conflict with flake8-simplify and cl_bump</li> </ul>"},{"location":"docs/CHANGELOG/#0191-2022-10-13","title":"0.19.1 (2022-10-13)","text":""},{"location":"docs/CHANGELOG/#fix_50","title":"Fix","text":"<ul> <li>don\u2019t auto-install types</li> </ul>"},{"location":"docs/CHANGELOG/#0190-2022-10-06","title":"0.19.0 (2022-10-06)","text":""},{"location":"docs/CHANGELOG/#feat_22","title":"Feat","text":"<ul> <li>support optional logging of arguments</li> </ul>"},{"location":"docs/CHANGELOG/#fix_51","title":"Fix","text":"<ul> <li>split mypy install from mypy run</li> </ul>"},{"location":"docs/CHANGELOG/#0180-2022-09-27","title":"0.18.0 (2022-09-27)","text":""},{"location":"docs/CHANGELOG/#feat_23","title":"Feat","text":"<ul> <li>support Arrow in pydantic and mypy (ArrowType was causing errors)</li> <li>remove pdoc(s) from document task</li> <li>add gen_ref_nav!</li> <li>tried pybetter, but too focused on adding all</li> <li>#102: sort-of-replace pdocs, but pdoc only shows one function</li> <li>add mypy install argument</li> <li>expand flake8 and reduce tests</li> </ul>"},{"location":"docs/CHANGELOG/#fix_52","title":"Fix","text":"<ul> <li>re-run prdc</li> <li>lower fail-under for diff. Raise for regular test</li> <li>standardize on a single doit task list</li> <li>Pathlib.absolute is not documented. Use .resolve</li> </ul>"},{"location":"docs/CHANGELOG/#refactor_24","title":"Refactor","text":"<ul> <li>add type hints and minor changes for mypy</li> <li>make python files non-executable (chmod -x)</li> </ul>"},{"location":"docs/CHANGELOG/#0171-2022-09-22","title":"0.17.1 (2022-09-22)","text":""},{"location":"docs/CHANGELOG/#fix_53","title":"Fix","text":"<ul> <li>pytest cache assert circular reference</li> </ul>"},{"location":"docs/CHANGELOG/#refactor_25","title":"Refactor","text":"<ul> <li>move check_security from nox into doit</li> </ul>"},{"location":"docs/CHANGELOG/#0170-2022-09-17","title":"0.17.0 (2022-09-17)","text":""},{"location":"docs/CHANGELOG/#feat_24","title":"Feat","text":"<ul> <li>add docformat</li> <li>make pyupgrade flag configurable based on minimum python version</li> <li>replace pendulum with arrow</li> <li>update to latest copier</li> </ul>"},{"location":"docs/CHANGELOG/#fix_54","title":"Fix","text":"<ul> <li>move yamllint configuration to project-specific config</li> <li>naive datetimes can\u2019t be subtracted on Windows</li> <li>hack together a dictionary instead of punq</li> <li>drop safety because of false positives on Calcipy CalVer</li> </ul>"},{"location":"docs/CHANGELOG/#refactor_26","title":"Refactor","text":"<ul> <li>experiment with custom semgrep rules</li> <li>formalize solution from last commit</li> <li>try to fix punq by switching to functions</li> <li>fix one test, refactor a little, but punq is still not working</li> <li>begin replacing attrs with pydantic</li> <li>update semgrep nox task</li> <li>upgrade copier with linting fixes</li> </ul>"},{"location":"docs/CHANGELOG/#0160-2022-08-04","title":"0.16.0 (2022-08-04)","text":""},{"location":"docs/CHANGELOG/#feat_25","title":"Feat","text":"<ul> <li>add flake8-simplify</li> </ul>"},{"location":"docs/CHANGELOG/#fix_55","title":"Fix","text":"<ul> <li>show only date in coverage table</li> </ul>"},{"location":"docs/CHANGELOG/#0150-2022-08-03","title":"0.15.0 (2022-08-03)","text":""},{"location":"docs/CHANGELOG/#fix_56","title":"Fix","text":"<ul> <li>resolve pyroma errors by installing poetry as a module</li> </ul>"},{"location":"docs/CHANGELOG/#0150rc0-2022-07-24","title":"0.15.0rc0 (2022-07-24)","text":""},{"location":"docs/CHANGELOG/#feat_26","title":"Feat","text":"<ul> <li>init update workflow and toml sorter</li> <li>create script to bump toml minimum requirements</li> </ul>"},{"location":"docs/CHANGELOG/#fix_57","title":"Fix","text":"<ul> <li>properly handle missing datetime</li> <li>try to use separate sqlite files for pre-commit and doit</li> <li>correct safety arguments</li> <li>use the unversioned API for releases</li> <li>try to handle pypi response when no \u201creleases\u201d</li> <li>handle prefix of \u201c*\u201d</li> <li>improve error message when \u201creleases\u201d not present</li> <li> <p>use sqlite3 for pre-commit concurrent doit access</p> </li> <li> <p>bump Python to 3.8.4 and drop 3.7</p> </li> </ul>"},{"location":"docs/CHANGELOG/#0145-2022-03-05","title":"0.14.5 (2022-03-05)","text":""},{"location":"docs/CHANGELOG/#fix_58","title":"Fix","text":"<ul> <li>#91: prevent minified files from appearing in Code Tag Summary</li> </ul>"},{"location":"docs/CHANGELOG/#0144-2022-03-01","title":"0.14.4 (2022-03-01)","text":""},{"location":"docs/CHANGELOG/#fix_59","title":"Fix","text":"<ul> <li>set upper limit to fix flake8-bandit compat</li> </ul>"},{"location":"docs/CHANGELOG/#0143-2022-03-01","title":"0.14.3 (2022-03-01)","text":""},{"location":"docs/CHANGELOG/#fix_60","title":"Fix","text":"<ul> <li>suppress only known git blame errors</li> <li>use Github tables to prevent multi-line rows in Code Tag Summary</li> </ul>"},{"location":"docs/CHANGELOG/#0142-2022-02-27","title":"0.14.2 (2022-02-27)","text":""},{"location":"docs/CHANGELOG/#fix_61","title":"Fix","text":"<ul> <li>don\u2019t allow multi-line tables</li> </ul>"},{"location":"docs/CHANGELOG/#0141-2022-02-27","title":"0.14.1 (2022-02-27)","text":""},{"location":"docs/CHANGELOG/#fix_62","title":"Fix","text":"<ul> <li>lower pandas constraint for better 3.7 support</li> <li>drop generation of requirements.txt</li> </ul>"},{"location":"docs/CHANGELOG/#0140-2022-02-27","title":"0.14.0 (2022-02-27)","text":""},{"location":"docs/CHANGELOG/#feat_27","title":"Feat","text":"<ul> <li>use next-gen attrs syntax</li> <li>improve code tag regex</li> </ul>"},{"location":"docs/CHANGELOG/#fix_63","title":"Fix","text":"<ul> <li>correct type annotations</li> <li>undo silent nox step</li> <li>make coverage.json optional for task_doc</li> </ul>"},{"location":"docs/CHANGELOG/#0130-2022-02-23","title":"0.13.0 (2022-02-23)","text":""},{"location":"docs/CHANGELOG/#feat_28","title":"Feat","text":"<ul> <li>drop AppVeyor and update with copier</li> <li>#67: initialize GH CI Action</li> </ul>"},{"location":"docs/CHANGELOG/#fix_64","title":"Fix","text":"<ul> <li>drop appveyor from cz version files</li> <li>attempt to resolve UnicodeError on Windows action</li> <li>address more minor CI errors</li> <li>make yamllint more relaxed</li> <li>attempt to resolve CI issues</li> <li>remove diff-quality check until fixed for CI</li> <li>always use Interactive when using /dev/null</li> <li>run push hook stage and format subproject</li> <li>support Python 3.7.12</li> <li>don\u2019t suppress nox missing interpreter errors</li> </ul>"},{"location":"docs/CHANGELOG/#refactor_27","title":"Refactor","text":"<ul> <li>pre-commit can be run in one command</li> <li>resolve LGTM error</li> </ul>"},{"location":"docs/CHANGELOG/#0122-2022-02-21","title":"0.12.2 (2022-02-21)","text":""},{"location":"docs/CHANGELOG/#fix_65","title":"Fix","text":"<ul> <li>skip cassette files</li> </ul>"},{"location":"docs/CHANGELOG/#0121-2022-02-18","title":"0.12.1 (2022-02-18)","text":""},{"location":"docs/CHANGELOG/#fix_66","title":"Fix","text":"<ul> <li>always return 0 to complete format task</li> <li>use short paths when formatting Python code if available</li> </ul>"},{"location":"docs/CHANGELOG/#0120-2022-02-18","title":"0.12.0 (2022-02-18)","text":""},{"location":"docs/CHANGELOG/#feat_29","title":"Feat","text":"<ul> <li>initialize calcipy pre-commit hook</li> </ul>"},{"location":"docs/CHANGELOG/#0110-2022-02-18","title":"0.11.0 (2022-02-18)","text":""},{"location":"docs/CHANGELOG/#feat_30","title":"Feat","text":"<ul> <li>don\u2019t verify on cz_bump</li> </ul>"},{"location":"docs/CHANGELOG/#refactor_28","title":"Refactor","text":"<ul> <li>format fixes</li> <li>reduce noise on matched vulnerabilities</li> <li>make run_cmd public</li> <li>remove jsonlint action</li> <li>use beartype typing</li> <li>move pre-commit hooks into doit</li> </ul>"},{"location":"docs/CHANGELOG/#0100-2022-01-19","title":"0.10.0 (2022-01-19)","text":""},{"location":"docs/CHANGELOG/#feat_31","title":"Feat","text":"<ul> <li>create Github release if gh CLI is installed</li> </ul>"},{"location":"docs/CHANGELOG/#091-2022-01-17","title":"0.9.1 (2022-01-17)","text":""},{"location":"docs/CHANGELOG/#fix_67","title":"Fix","text":"<ul> <li>correct code-tag-collector for CLI use</li> <li>use target file\u2019s directory for git info</li> </ul>"},{"location":"docs/CHANGELOG/#refactor_29","title":"Refactor","text":"<ul> <li>drop template echo command</li> </ul>"},{"location":"docs/CHANGELOG/#090-2022-01-17","title":"0.9.0 (2022-01-17)","text":""},{"location":"docs/CHANGELOG/#feat_32","title":"Feat","text":"<ul> <li>show code tag summary as a table</li> <li>add date of last blame to code tag summary</li> <li>only link code tag from line number</li> <li>use revision-specific commit hashes</li> <li>add git links to code tag summary</li> <li>add python format pre-commit hook</li> <li>add support for TOML formatting with taplo</li> </ul>"},{"location":"docs/CHANGELOG/#fix_68","title":"Fix","text":"<ul> <li>handle \u201c0000..\u201d hash by using branch name</li> <li>handle non-git directories</li> <li>use correct line number for pinned hash</li> <li>handle git dependencies when checking stale packages</li> <li>use positional arguments for pre-commit commands</li> <li>correct syntax error in pre-commit command</li> </ul>"},{"location":"docs/CHANGELOG/#refactor_30","title":"Refactor","text":"<ul> <li>make slow python pre-commit push-only</li> <li>apply auto-format tools to test project</li> </ul>"},{"location":"docs/CHANGELOG/#082-2022-01-16","title":"0.8.2 (2022-01-16)","text":""},{"location":"docs/CHANGELOG/#fix_69","title":"Fix","text":"<ul> <li>drop all references to CalVer</li> </ul>"},{"location":"docs/CHANGELOG/#081-2022-01-16","title":"0.8.1 (2022-01-16)","text":""},{"location":"docs/CHANGELOG/#refactor_31","title":"Refactor","text":"<ul> <li>drop tag_format and use semver-only</li> </ul>"},{"location":"docs/CHANGELOG/#080-2022-01-16","title":"0.8.0 (2022-01-16)","text":""},{"location":"docs/CHANGELOG/#feat_33","title":"Feat","text":"<ul> <li>add pip-check for prettier outdated</li> <li>add cct command</li> <li>initialize the cement CLI application</li> <li>replace toml with tomli (#74)</li> <li>move wily to nox to reduce version conflicts</li> <li>add pip-audit</li> <li>add attrs_strict</li> <li>trim trailing whitespace from doc output</li> </ul>"},{"location":"docs/CHANGELOG/#fix_70","title":"Fix","text":"<ul> <li>bump year to 2022</li> <li>code_tag_collector must return doit-compliant value (None)</li> <li>only run pre-commit once</li> <li>Code Tag Collector cannot return a Path for DoIt tasks</li> <li>cct was not being created as an alias. Use full command</li> <li>wily</li> <li>properly exclude auto-generated doc files from code tag collector</li> <li>run ptw on whole directory, not just test files</li> <li>drop FYI and NOTE from Code Tags</li> </ul>"},{"location":"docs/CHANGELOG/#refactor_32","title":"Refactor","text":"<ul> <li>fix PY-W2000 by using all</li> <li>move file_search to top-level</li> <li>just run pre-commit install</li> <li>replace pass with \u2026 to keep it from being removed</li> </ul>"},{"location":"docs/CHANGELOG/#060rc2-2022-08-04","title":"0.6.0rc2 (2022-08-04)","text":""},{"location":"docs/CHANGELOG/#feat_34","title":"Feat","text":"<ul> <li>drop pytest-cov and run coverage directly</li> </ul>"},{"location":"docs/CHANGELOG/#fix_71","title":"Fix","text":"<ul> <li>swap pytest-watch(er) and other version bumps</li> <li>pin min-version (xenon) &amp; drop preconvert and flake8-mock</li> </ul>"},{"location":"docs/CHANGELOG/#060rc1-2022-08-04","title":"0.6.0rc1 (2022-08-04)","text":""},{"location":"docs/CHANGELOG/#fix_72","title":"Fix","text":"<ul> <li>bug in noxfile and code tags reading doc output files</li> </ul>"},{"location":"docs/CHANGELOG/#060rc0-2022-08-04","title":"0.6.0rc0 (2022-08-04)","text":""},{"location":"docs/CHANGELOG/#feat_35","title":"Feat","text":"<ul> <li>implement pylint rules</li> <li>add xenon (wraps radon)</li> <li>condense doit output in show_cmd</li> <li>initial semgrep implementation</li> <li>add code diagrams to doc-site</li> <li>add notes on wily and pylint</li> <li>add vulture</li> <li>diff-quality (lint)</li> <li>add it</li> <li>add output if no stale packages found</li> <li>add autoflake</li> </ul>"},{"location":"docs/CHANGELOG/#fix_73","title":"Fix","text":"<ul> <li>try to fix issues found with pytest_cache_assert</li> <li>drop unused Python2 demjson</li> <li>error in noxfile with poetry install</li> </ul>"},{"location":"docs/CHANGELOG/#refactor_33","title":"Refactor","text":"<ul> <li>decouple code tag collector from DG</li> <li>improve lint_py and the return type check is working</li> <li>zip release task</li> <li>cleanup a few minor errors</li> <li>use Interactive instead of Chrome</li> <li>apply fixes found from semgrep</li> <li>rename \u201cwrappers\u201d to \u201cdot_dict\u201d</li> <li>prevent mutation in DG.set_paths</li> </ul>"},{"location":"docs/CHANGELOG/#031rc0-2022-08-04","title":"0.3.1rc0 (2022-08-04)","text":""},{"location":"docs/CHANGELOG/#feat_36","title":"Feat","text":"<ul> <li>add task to zip artifacts from testing</li> <li>implement pandas.to_markdown for cov table</li> <li>#58: implement doc task and merge serve_docs</li> <li>make loading YAML files more generic</li> <li>create doit summary report</li> <li>add task to check license compliance</li> <li>move lock into doit tasks with file-dependency</li> <li>#38: re-implement coverage and write source</li> <li>drop subprocess-tee</li> <li>#36: WIP implementation of doc formatting</li> <li>implement publish tasks</li> <li>add pip outdated to stale check</li> <li>implement check for stale packages</li> <li>begin implementing stale package check</li> <li>smart default tasks for CI vs. local</li> <li>make nox imports optional</li> <li>try doit rather than CWD for initial path</li> <li>move noxfile into calcipy</li> <li>integrate nox to doit tasks</li> <li>WIP check for stale dep &amp; placeholder publish</li> <li>add additional configuration options</li> <li>add nox tasks</li> <li>add detect-secrets as pre-commit</li> <li>lint non-Python files</li> <li>read doc_dir from copier file</li> <li>make most settings configurable</li> <li>added dotted-dict wrapper of Box</li> <li>delete old files rather than full directory</li> <li>filter with glob-like ignore_patterns (2/2)</li> <li>add security check task</li> <li>add skip_phrase for code tag skipping</li> <li>beartype - roar!</li> <li>optionally clear log directory. Move file_helpers from base</li> <li>new tail-like reverse read_lines</li> <li>rename DIG to DG because doit is one word</li> <li>retrieve doc_dir from copier</li> <li>add log-setup fun for doit</li> <li>make (source) doc_dir configurable</li> <li>add sanitizer</li> <li>add pytype</li> <li>#36: start WIP ReadMeMachine</li> <li>#36: merge logic of markdown auto-formatters</li> <li>make code tag partially configurable</li> <li>move check_types into calcipy</li> <li>import templates from pdocs</li> </ul>"},{"location":"docs/CHANGELOG/#fix_74","title":"Fix","text":"<ul> <li>install full dev-dep as temporary nox workaround</li> <li>prevent committing changelog at base dir</li> <li>remove type_name from docstring for Google-style</li> <li>run pytest as a module for nox</li> <li>resolve doc_dir and style errors</li> <li>#58: remove None from pdocs output</li> <li>deconflict doit/nox</li> <li>repair failing test</li> <li>packaging needed keyword argument</li> <li>import and nox syntax errors</li> <li>run push pre-commit hooks with doit</li> <li>show log warning instead of error for stale dep</li> <li>improve output from check_stale</li> <li>errors caught in testing</li> <li>suppress beartype warnings for now</li> <li>drop logger middleware</li> <li>catch most calcipy section typos in toml</li> <li>remove check-secrets but keep snippets</li> <li>errors in ignore patterns</li> <li>import doit and expand nox test file</li> <li>skip tags must be at bottom</li> <li>reset Lint paths instead of extend</li> <li>use find_files for code tag summary</li> <li>don\u2019t manually add the package source dir</li> <li>lint typing and improve tests</li> <li>create separate file_search file to fix imports</li> <li>#51: replace glob with git-based file identification</li> <li>#53: Use Interact instead of LongRunning</li> <li>undo PEP585 for runtime beartype</li> <li>resolve file explosion from _find_files</li> <li>import the loguru Logger class safely</li> <li>additional problems found with mypy</li> <li>fix Doit Types and start beartype</li> <li>add no-verify to cl_bump</li> <li>correct isort configuration</li> <li>restore ReadMeMachine</li> <li>repair small bugs found in tests</li> <li>make transitions optional</li> </ul>"},{"location":"docs/CHANGELOG/#refactor_34","title":"Refactor","text":"<ul> <li>see if only one space is okay for skipcq</li> <li>fix anti-pattern with nox session decorator and arg</li> <li>improve code quality</li> <li>try to suppress deepsource errors</li> <li>address DeepSource issues</li> <li>split up set_paths from DG</li> <li>fix formatting error from pre-push</li> <li>rename doc_dir to doc_sub_dir for clarity</li> <li>apply 0.0.10 template</li> <li>move markdown to subdirectory for mkdocs</li> <li>move isort back to toml</li> <li>fix edge case in diff-cov failing and lint errors</li> <li>relicense with MIT for better compliance</li> <li>create generic doit-runner for noxfile</li> <li>fix some type issues</li> <li>minor fixes from AppVeyor testing</li> <li>#38: reduce complexity</li> <li>minor cleanup to docs</li> <li>apply pre-commit autoformat</li> <li>auto-drop skipcq comment</li> <li>format with VSCode</li> <li>fix lint errors in YAML files</li> <li>move find file paths to DG.meta</li> <li>move if_found_unlink to file_helpers</li> <li>fix formatting with pre-commit</li> <li>fix attribute names for path types (1/2)</li> <li>use calcipy:skip-tags</li> <li>fix minor code tags</li> <li>move __temp_chdir and improve fix_dg</li> <li>narrow type ignore use</li> <li>use path_file of file_path</li> <li>apply auto-fixes from pre-commit</li> <li>replace all glob-search with find_files</li> <li>remove find_files from code_tag script</li> <li>update isort for trailing-comma</li> <li>move excluded lint rules to DG</li> <li>apply PEP585 and add pre-commit hook</li> <li>fix capitalization for doit (one word, all lowercase)</li> <li>improve activate_debug_logging</li> <li>try to replace Any with BaseAction</li> <li>apply 0.0.2 minor fixes</li> <li>apply 0.0.1 version of calcipy_template</li> <li>minor renaming for _MarkdownMachine</li> <li>fix lock file and line length</li> <li>run more pre-commit checks on commit</li> <li>standardize on code tags and cleanup</li> </ul>"},{"location":"docs/CHANGELOG/#perf_2","title":"Perf","text":"<ul> <li>combine autopep8 paths into single command</li> <li>combine files for linting in one command</li> </ul>"},{"location":"docs/CHANGELOG/#020a0-2022-08-04","title":"0.2.0a0 (2022-08-04)","text":""},{"location":"docs/CHANGELOG/#feat_37","title":"Feat","text":"<ul> <li>push tags with no pre-commit hooks on pre</li> <li>use Interactive instead of \u2014yes for cl_bump*</li> <li>remove tag create/remove tasks</li> <li>new task cl_bump_pre</li> <li>replace MIT license with Unlicense</li> <li>use cz_legacy to generate changelogs</li> <li>remove task in anticipation of copier #26</li> <li>improve git pre-commit hooks</li> <li>new add-trailing-comma and pyupgrade hooks</li> <li>new mkdocs tasks and improvements</li> <li>new optional preconvert to serialize logs</li> <li>move logger configuration to log_helpers</li> <li>new cl_bump task. Closes #21</li> </ul>"},{"location":"docs/CHANGELOG/#fix_75","title":"Fix","text":"<ul> <li>do not pass filenames to pre-commit</li> <li>#43: add year to version for pseudo-calver</li> <li>prevent legacy types for new commits</li> <li>prevent circular import in doit_tasks</li> <li>extras need to be defined as optional</li> <li>rollback hook changes as they are not working</li> <li>install hooks for push</li> <li>LongRunning passed tasks that should fail</li> <li>yesqa removed necessary noqa (H303, etc)</li> <li>incorrect output paths</li> <li>reduce false tags found (WIP). Fix #24</li> <li>regression in lint_project tasks</li> <li>unincremented version in toml</li> </ul>"},{"location":"docs/CHANGELOG/#refactor_35","title":"Refactor","text":"<ul> <li>#22: restore MIT license</li> <li>copy+paste unmodified labels workflow</li> <li>update local TODO notes</li> <li>make toml an optional import</li> <li>rename path_source to path_project</li> <li>rename DIG_CWD as PATH_TEST_PROJECT</li> <li>rename test file</li> <li>doit is lowercase (CC looks like Dolt)</li> <li>replace sh with subprocess-tee</li> <li>reduce excess logging</li> <li>move DOIT_CONFIG to import</li> <li>move dig test to dig test file</li> </ul>"},{"location":"docs/CHANGELOG/#010-2020-12-19","title":"0.1.0 (2020-12-19)","text":""},{"location":"docs/CHANGELOG/#feat_38","title":"Feat","text":"<ul> <li>new write_cl task utilizing comittizen</li> <li>new task, pre_commit_hooks</li> </ul>"},{"location":"docs/CHANGELOG/#refactor_36","title":"Refactor","text":"<ul> <li>show STDOUT formatting in DoIt task</li> <li>remove archived code</li> </ul>"},{"location":"docs/CHANGELOG/#003-2020-12-10","title":"0.0.3 (2020-12-10)","text":""},{"location":"docs/CHANGELOG/#002-2020-11-14","title":"0.0.2 (2020-11-14)","text":""},{"location":"docs/CHANGELOG/#001-2020-11-14","title":"0.0.1 (2020-11-14)","text":""},{"location":"docs/CODE_TAG_SUMMARY/","title":"Collected Code Tags","text":"Type Comment Last Edit Source File PLANNED finish updating docstrings for Returns 2024-10-08 pyproject.toml:166 FIXME port back to corallium (temporarily extended to support uv and mise) 2025-11-02 src/calcipy/_corallium/file_helpers.py:60 FIXME port back to corallium (temporarily extended to support uv) 2025-11-02 src/calcipy/_corallium/file_helpers.py:85 TODO Performantly support either ./src/&lt;&gt;/ and ./&lt;&gt;/ 2025-11-02 src/calcipy/tasks/lint.py:33 <p>Found code tags for FIXME (2), TODO (1), PLANNED (1)</p>"},{"location":"docs/DEVELOPER_GUIDE/","title":"Developer Notes","text":""},{"location":"docs/DEVELOPER_GUIDE/#local-development","title":"Local Development","text":"<pre><code>git clone https://github.com/kyleking/calcipy.git\ncd calcipy\nuv sync --all-extras\n\n# See the available tasks\nuv run calcipy\n# Or use a local 'run' file (so that 'calcipy' can be extended)\n./run\n\n# Run the default task list (lint, auto-format, test coverage, etc.)\n./run main\n\n# Make code changes and run specific tasks as needed:\n./run lint.fix test\n\n# Install globally\nuv tool install \".[ddict,doc,experimental,lint,nox,tags,test,types]\" --force --editable\n</code></pre>"},{"location":"docs/DEVELOPER_GUIDE/#maintenance","title":"Maintenance","text":"<p>Dependency upgrades can be accomplished with:</p> <pre><code>uv lock --upgrade\nuv sync --all-extras\n</code></pre>"},{"location":"docs/DEVELOPER_GUIDE/#publishing","title":"Publishing","text":"<p>For testing, create an account on TestPyPi. Either set \u2018UV_PUBLISH_TOKEN\u2019 or input the generated token when prompted by the command.</p> <pre><code>./run main pack.publish --to-test-pypi\n</code></pre> <p>To publish to the real PyPi</p> <pre><code>./run release\n\n# Or for a pre-release\n./run release --suffix=rc\n</code></pre>"},{"location":"docs/DEVELOPER_GUIDE/#current-status","title":"Current Status","text":"File Statements Missing Excluded Coverage <code>src/calcipy/__init__.py</code> 4 0 0 100.0% <code>src/calcipy/_corallium/__init__.py</code> 2 0 0 100.0% <code>src/calcipy/_corallium/file_helpers.py</code> 44 0 0 95.0% <code>src/calcipy/_runtime_type_check_setup.py</code> 13 0 37 100.0% <code>src/calcipy/can_skip.py</code> 14 1 0 88.9% <code>src/calcipy/cli.py</code> 34 1 77 92.1% <code>src/calcipy/code_tag_collector/__init__.py</code> 5 2 0 60.0% <code>src/calcipy/code_tag_collector/_collector.py</code> 130 2 0 97.0% <code>src/calcipy/collection.py</code> 45 3 65 88.2% <code>src/calcipy/dot_dict/__init__.py</code> 5 2 0 60.0% <code>src/calcipy/dot_dict/_dot_dict.py</code> 6 0 0 100.0% <code>src/calcipy/experiments/__init__.py</code> 0 0 0 100.0% <code>src/calcipy/experiments/bump_programmatically.py</code> 22 16 0 25.0% <code>src/calcipy/experiments/check_duplicate_test_names.py</code> 33 0 2 98.2% <code>src/calcipy/experiments/sync_package_dependencies.py</code> 51 12 0 73.3% <code>src/calcipy/file_search.py</code> 32 0 2 100.0% <code>src/calcipy/invoke_helpers.py</code> 27 4 0 79.3% <code>src/calcipy/markdown_table.py</code> 28 4 0 80.0% <code>src/calcipy/md_writer/__init__.py</code> 5 2 0 60.0% <code>src/calcipy/md_writer/_writer.py</code> 93 6 0 89.7% <code>src/calcipy/noxfile/__init__.py</code> 5 2 0 60.0% <code>src/calcipy/noxfile/_noxfile.py</code> 12 0 30 100.0% <code>src/calcipy/scripts.py</code> 6 0 51 100.0% <code>src/calcipy/tasks/__init__.py</code> 0 0 0 100.0% <code>src/calcipy/tasks/all_tasks.py</code> 37 0 0 100.0% <code>src/calcipy/tasks/cl.py</code> 26 5 0 75.0% <code>src/calcipy/tasks/defaults.py</code> 17 0 0 94.7% <code>src/calcipy/tasks/doc.py</code> 29 0 8 100.0% <code>src/calcipy/tasks/executable_utils.py</code> 32 0 0 97.2% <code>src/calcipy/tasks/lint.py</code> 38 2 0 87.0% <code>src/calcipy/tasks/most_tasks.py</code> 29 0 0 100.0% <code>src/calcipy/tasks/nox.py</code> 8 0 0 100.0% <code>src/calcipy/tasks/pack.py</code> 53 10 3 76.2% <code>src/calcipy/tasks/tags.py</code> 18 1 0 90.0% <code>src/calcipy/tasks/test.py</code> 40 1 2 93.8% <code>src/calcipy/tasks/types.py</code> 11 0 0 100.0% Totals 954 76 277 89.0% <p>Generated on: 2025-11-02</p>"},{"location":"docs/MIGRATION/","title":"Migration Guide","text":""},{"location":"docs/MIGRATION/#v5","title":"<code>v5</code>","text":"<p>The breaking changes include removing <code>stale</code> and <code>pack.check_license</code></p>"},{"location":"docs/MIGRATION/#speed-test","title":"Speed Test","text":"<p>After further reduction of dependencies, the CLI performance has continued to improve:</p> <pre><code>&gt; poetry run pip freeze | wc -l\n79\n</code></pre> <pre><code>&gt; hyperfine -m 20 --warmup 5 ./run\nBenchmark 1: ./run\nTime (mean \u00b1 \u03c3):     397.1 ms \u00b1  12.2 ms    [User: 268.4 ms, System: 57.0 ms]\nRange (min \u2026 max):   385.9 ms \u2026 421.5 ms    20 runs\n</code></pre>"},{"location":"docs/MIGRATION/#v4","title":"<code>v4</code>","text":"<p>The total number of dependencies was reduce even further by replacing flake8, isort, and other tooling with ruff; fewer mkdocs plugins; and fewer steps in the <code>main</code> run task to speed up normal usage.</p> <p>The only breaking change impacted <code>recipes</code> when <code>write_autoformatted_md_sections</code> was renamed to <code>write_template_formatted_md_sections</code>.</p>"},{"location":"docs/MIGRATION/#speed-test_1","title":"Speed Test","text":"<p>Following up on performance checks from the <code>v2</code> migration. The performance is comparable, but you will see savings in cache size and poetry install and when running <code>main</code> (<code>./run main</code> for Calcipy, currently takes ~20s)</p> <pre><code>&gt; hyperfine -m 20 --warmup 5 ./run\nBenchmark 1: ./run\nTime (mean \u00b1 \u03c3):     863.9 ms \u00b1  10.0 ms    [User: 550.7 ms, System: 102.3 ms]\nRange (min \u2026 max):   848.5 ms \u2026 885.3 ms    20 runs\n&gt; hyperfine -m 20 --warmup 5 \"poetry run calcipy-tags\"\nBenchmark 1: poetry run calcipy-tags\nTime (mean \u00b1 \u03c3):     770.5 ms \u00b1   5.7 ms    [User: 470.6 ms, System: 89.5 ms]\nRange (min \u2026 max):   760.1 ms \u2026 780.3 ms    20 runs\n</code></pre>"},{"location":"docs/MIGRATION/#v3","title":"<code>v3</code>","text":"<p>Replaced features from flake8 and plugins with corresponding checks from ruff, however both are still used in parallel.</p>"},{"location":"docs/MIGRATION/#v2","title":"<code>v2</code>","text":""},{"location":"docs/MIGRATION/#background","title":"Background","text":"<p>calcipy <code>v1</code> was a complete rewrite to switch from <code>doit</code> to <code>invoke</code>:</p> <ul> <li>with <code>invoke</code>, tasks can be run from anywhere without a <code>dodo.py</code> file</li> <li>tasks can be loaded lazily, which means that some performance gains are possible</li> <li>since there is no shared state file, tasks can be more easily run from pre-commit or generally in parallel</li> </ul> <p><code>doit</code> excelled at clearly delineated task output and run summary, but <code>invoke</code> isn\u2019t designed that way. I would like to improve the CLI output, but the benefits are worth this tradeoff.</p> <p>calcipy <code>v0</code> was built on doit and thus required a <code>dodo.py</code> file. I began adding <code>cement</code> to support a separate CLI for <code>calcipy</code> installed with <code>pipx</code> or <code>uvx</code>, but that required a lot of boilerplate code. With <code>doit</code>, the string command needed to be complete at task evaluation rather than runtime, so globbing files couldn\u2019t be resolved lazily.</p>"},{"location":"docs/MIGRATION/#migration","title":"Migration","text":"<p>While refactoring, the global configuration was mostly removed (<code>DoitGlobals</code>) along with a few tasks, but the main functionality is still present. Any project dependent on <code>calcipy</code> will need substantial changes. The easiest way to start migrating is to run <code>copier copy gh:KyleKing/calcipy_template .</code> for calcipy_template</p>"},{"location":"docs/MIGRATION/#speed-test_2","title":"Speed Test","text":"<p>It turns out that switching to <code>invoke</code> appears to have only saved 100ms</p> <pre><code>&gt; hyperfine -m 20 --warmup 5 ./run\nBenchmark 1: ./run\nTime (mean \u00b1 \u03c3):     863.9 ms \u00b1  10.0 ms    [User: 550.7 ms, System: 102.3 ms]\nRange (min \u2026 max):   848.5 ms \u2026 885.3 ms    20 runs\n&gt; hyperfine -m 20 --warmup 5 \"poetry run calcipy-tags\"\nBenchmark 1: poetry run calcipy-tags\nTime (mean \u00b1 \u03c3):     770.5 ms \u00b1   5.7 ms    [User: 470.6 ms, System: 89.5 ms]\nRange (min \u2026 max):   760.1 ms \u2026 780.3 ms    20 runs\n</code></pre> <pre><code>&gt; hyperfine -m 20 --warmup 5 \"poetry run python -c 'print(1)'\"\nBenchmark 1: poetry run python -c 'print(1)'\nTime (mean \u00b1 \u03c3):     377.9 ms \u00b1   3.1 ms    [User: 235.0 ms, System: 61.8 ms]\nRange (min \u2026 max):   372.7 ms \u2026 384.0 ms    20 runs\n&gt; hyperfine -m 20 --warmup 5 ./run\nBenchmark 1: ./run\nTime (mean \u00b1 \u03c3):     936.0 ms \u00b1  26.9 ms    [User: 1548.2 ms, System: 1687.7 ms]\nRange (min \u2026 max):   896.4 ms \u2026 1009.4 ms    20 runs\n&gt; hyperfine -m 20 --warmup 5 \"poetry run calcipy_tags\"\nBenchmark 1: poetry run calcipy_tags\nTime (mean \u00b1 \u03c3):     618.5 ms \u00b1  29.7 ms    [User: 1536.8 ms, System: 1066.2 ms]\nRange (min \u2026 max):   578.2 ms \u2026 694.9 ms    20 runs\n&gt; hyperfine -m 20 --warmup 5 \"poetry run doit list\"\nBenchmark 1: poetry run doit list\nTime (mean \u00b1 \u03c3):      1.002 s \u00b1  0.015 s    [User: 1.643 s, System: 1.682 s]\nRange (min \u2026 max):    0.974 s \u2026  1.023 s    20 runs\n</code></pre> <p>Additionally, the major decrease in dependencies will make install and update actions much faster. With the recommended extras installed, <code>calcipy-v1</code> has 124 dependencies (with all extras, 164) vs. <code>calcipy-v0</code>\u2019s 259. Counted with: <code>cat .calcipy_packaging.lock | jq 'keys' | wc -l</code></p>"},{"location":"docs/MIGRATION/#code-comparison","title":"Code Comparison","text":"<p>Accounting for code extracted to <code>corallium</code>, the overall number of lines decreased from 1772 to 1550 or only 12%, while increasing the CLI and <code>pre-commit</code> capabilities.</p> <pre><code>~/calcipy-v0 &gt; cloc calcipy\n-------------------------------------------------------------------------------\nLanguage                     files          blank        comment           code\n-------------------------------------------------------------------------------\nPython                          26            942           1075           1772\n-------------------------------------------------------------------------------\nSUM:                            26            942           1075           1772\n-------------------------------------------------------------------------------\n~/calcipy &gt; cloc calcipy\n-------------------------------------------------------------------------------\nLanguage                     files          blank        comment           code\n-------------------------------------------------------------------------------\nPython                          27            454            438           1185\n-------------------------------------------------------------------------------\nSUM:                            27            454            438           1185\n-------------------------------------------------------------------------------\n~/corallium &gt; cloc corallium\n-------------------------------------------------------------------------------\nLanguage                     files          blank        comment           code\n-------------------------------------------------------------------------------\nPython                           7            176            149            365\n-------------------------------------------------------------------------------\nSUM:                             7            176            149            365\n-------------------------------------------------------------------------------\n\n~/calcipy &gt; cloc tests\n-------------------------------------------------------------------------------\nLanguage                     files          blank        comment           code\n-------------------------------------------------------------------------------\nYAML                             2              0              0            580\nPython                          19            176             68            578\nJSON                             2              0              0             60\nMarkdown                         3              9             10              8\nText                             1              0              0              2\n-------------------------------------------------------------------------------\nSUM:                            27            185             78           1228\n-------------------------------------------------------------------------------\n~/calcipy-v0 &gt; cloc tests\n-------------------------------------------------------------------------------\nLanguage                     files          blank        comment           code\n-------------------------------------------------------------------------------\nJSON                            30              0              0            762\nYAML                             2              0              0            580\nPython                          24            314            186            578\nMarkdown                         3              9             10              8\n-------------------------------------------------------------------------------\nSUM:                            59            323            196           1928\n-------------------------------------------------------------------------------\n~/corallium &gt; cloc tests\n-------------------------------------------------------------------------------\nLanguage                     files          blank        comment           code\n-------------------------------------------------------------------------------\nPython                           6             36             15             69\nMarkdown                         1              1              0              2\n-------------------------------------------------------------------------------\nSUM:                             7             37             15             71\n-------------------------------------------------------------------------------\n</code></pre>"},{"location":"docs/MIGRATION/#doit-output","title":"doit output","text":"<p>I would like to restore the <code>doit</code> task summary, but <code>invoke</code>\u2019s architecture doesn\u2019t really make this possible. The <code>--continue</code> option was extremely useful, but that also might not be achievable.</p> <pre><code>&gt; poetry run doit run\n.  format_recipes &gt; [\n        Python: function format_recipes\n]\n\n2023-02-19 10:40:23.954 | INFO     | recipes.formatter:_write_toc:287 - Creating TOC for: ./recipes/docs/breakfast\n2023-02-19 10:40:23.957 | INFO     | recipes.formatter:_write_toc:287 - Creating TOC for: ./recipes/docs/rice\n2023-02-19 10:40:23.959 | INFO     | recipes.formatter:_write_toc:287 - Creating TOC for: ./recipes/docs/meals\n2023-02-19 10:40:23.964 | INFO     | recipes.formatter:_write_toc:287 - Creating TOC for: ./recipes/docs/seafood\n2023-02-19 10:40:23.967 | INFO     | recipes.formatter:_write_toc:287 - Creating TOC for: ./recipes/docs/pizza\n2023-02-19 10:40:23.969 | INFO     | recipes.formatter:_write_toc:287 - Creating TOC for: ./recipes/docs/poultry\n2023-02-19 10:40:23.972 | INFO     | recipes.formatter:_write_toc:287 - Creating TOC for: ./recipes/docs/sushi\n.  collect_code_tags &gt; [\n        Python: function write_code_tag_file\n]\n\n.  cl_write &gt; [\n        Cmd: poetry run cz changelog\n        Python: function _move_cl\n]\n\n.  lock &gt; [\n        Cmd: poetry lock --no-update\n]\n\nResolving dependencies...\n.  nox_coverage &gt; [\n        Cmd: poetry run nox --error-on-missing-interpreters --session coverage\n]\n\n...\n\ndoit&gt; Summary:\ndoit&gt; format_recipes was successful\ndoit&gt; collect_code_tags was successful\ndoit&gt; cl_write was successful\ndoit&gt; lock was successful\ndoit&gt; nox_coverage was successful\ndoit&gt; auto_format was successful\ndoit&gt; document was successful\ndoit&gt; check_for_stale_packages was successful\ndoit&gt; pre_commit_hooks failed (red)\ndoit&gt; lint_project was not run\ndoit&gt; static_checks was not run\ndoit&gt; security_checks was not run\ndoit&gt; check_types was not run\n</code></pre>"},{"location":"docs/STYLE_GUIDE/","title":"Personal Style Guides","text":""},{"location":"docs/STYLE_GUIDE/#git","title":"Git","text":"<p>We use Commitizen to manage both an auto-generated Changelog and incrementing the release version following semver. For both of these automated outputs to work well, please follow the Conventional Commits style, which is described in more detail below.</p>"},{"location":"docs/STYLE_GUIDE/#commitizen-types-and-scopes","title":"Commitizen Types and Scopes","text":"<p><code>type(scope): description</code></p> <ul> <li>Types<ul> <li>fix: A bug fix</li> <li>feat: A new feature</li> <li>docs: Documentation-only changes (code comments, separate docs)</li> <li>style: Changes that do not affect the meaning of the code (white-space, formatting, missing semi-colons)</li> <li>perf: A code change that improves performance</li> <li>refactor: A change to production code that is not a fix, feat, or perf</li> <li>test: Adding missing or correcting existing tests</li> <li>build: Changes that affect the build system or external dependencies</li> <li>ci: Changes to our CI configuration files and scripts</li> <li>A <code>!</code> can be used to indicate a breaking change (<code>refactor!: drop support for Node 6</code>)</li> <li>SemVer Rules<ul> <li>Based on commit type, the version will be auto-incremented: <code>fix : PATCH // feat : MINOR // BREAKING CHANGE : MAJOR</code></li> </ul> </li> </ul> </li> <li>Scopes<ul> <li>A Class, File name, Issue Number, other appropriate noun. As examples: <code>build(uv): bump requests to v3</code> or <code>style(#32): add missing type annotations</code></li> </ul> </li> <li>Tips<ul> <li>What if a commit fits multiple types?<ul> <li>Go back and make multiple commits whenever possible. Part of the benefit of Conventional Commits is the focus on more organized and intentional changes</li> </ul> </li> <li>Use <code>git rebase -i</code> to fix commit names prior to merging if incorrect types/scopes are used</li> </ul> </li> </ul>"},{"location":"docs/STYLE_GUIDE/#git-description-guidelines","title":"Git Description Guidelines","text":"<ul> <li>Commit message guidelines<ul> <li>Full sentence with verb (lowercase) and concise description. Below are modified examples for Conventional Commits<ul> <li><code>fix(roles): bug in admin role permissions</code></li> <li><code>feat(ui): implement new button design</code></li> <li><code>build(pip): upgrade package to remove vulnerabilities</code></li> <li><code>refactor: file structure to improve code readability</code></li> <li><code>perf(cli): rewrite methods</code></li> <li><code>feat(api): endpoints to implement new customer dashboard</code></li> </ul> </li> </ul> </li> <li>How to write a good commit message<ul> <li>A diff will tell you what changed, but only the commit message can properly tell you why.</li> <li>Keep in mind: This has all been said before.</li> <li>From the seven rules of a great Git commit message:<ul> <li>(2) Try for 50 characters, but consider 72 the hard limit</li> <li>(7) Use the body to explain what and why vs. how</li> </ul> </li> </ul> </li> </ul>"},{"location":"docs/STYLE_GUIDE/#issue-labels-and-milestones","title":"Issue Labels and Milestones","text":"<p>Personal Guide</p> <ul> <li>For Issue Labels, see [labels.yml][labels]</li> <li>Milestones<ul> <li>Current Tasks: main milestone (name could change based on a specific project, sprint, or month)</li> <li>Next Tasks</li> <li>Blue Sky</li> </ul> </li> </ul> Research <ul> <li>[Sane GitHub Labels](https://medium.com/@dave_lunny/sane-github-labels-c5d2e6004b63) and see [sensible-github-labels](https://github.com/Relequestual/sensible-github-labels) for full descriptions of each</li> <ul> <li>\u201cit is much more helpful to see the status and type of all issues at a glance.\u201d</li> <li>One of each:</li> <ul> <li>Status: \u2026</li> <ul><li>Abandoned, Accepted, Available, Blocked, Completed, In Progress, On Hold, Pending, Review Needed, Revision Needed</li></ul> <li>Type: \u2026</li> <ul><li>Bug, Maintenance, Question, Enhancement</li></ul> <li>Priority: \u2026</li> <ul><li>Critical, High, Medium, Low</li></ul> </ul> </ul> <li>[Britecharts](https://britecharts.github.io/britecharts/github-labels.html)</li> <ul> <li>Status: \u2026</li> <ul> <li>On Review \u2013 Request that we are pondering if including or not</li> <li>Needs Reproducing \u2013 For bugs that need to be reproduced in order to get fixed</li> <li>Needs Design \u2013 Feature that needs a design</li> <li>Ready to Go \u2013 Issue that has been defined and is ready to get started with</li> <li>In Progress \u2013 Issue that is being worked on right now.</li> <li>Completed \u2013 Finished feature or fix</li> </ul> <li>Type: \u2026</li> <ul> <li>Bug \u2013 An unexpected problem or unintended behavior</li> <li>Feature \u2013 A new feature request</li> <li>Maintenance \u2013 A regular maintenance chore or task, including refactors, build system, CI, performance improvements</li> <li>Documentation \u2013 A documentation improvement task</li> <li>Question \u2013 An issue or PR that needs more information or a user question</li> </ul> <li>Not Included</li> <ul> <li>Priority: They would add complexity and overhead due to the discussions, but could help with the roadmap</li> <li>Technology Labels: It can create too much overhead, as properly tag with technologies all the issues could be time consuming</li> </ul> </ul> </ul> <li>[Ian Bicking Blog](https://www.ianbicking.org/blog/2014/03/use-github-issues-to-organize-a-project.html)</li> <ul> <li>Milestone Overview</li> <ul> <li>What are we doing right now?</li> <li>What aren\u2019t we doing right now?</li> <ul> <li>2a. Stuff we\u2019ll probably do soon</li> <li>2b. Stuff we probably won\u2019t do soon</li> </ul> <li>What aren\u2019t we sure about?</li> </ul> <li>Milestone Descriptions</li> <ul> <li>Stuff we are doing right now: this is the \u201cmain\u201d milestone. We give it a name (like Alpha 2 or Strawberry Rhubarb Pie) and we write down what we are trying to accomplish with the milestone. We create a new milestone when we are ready for the next iteration.</li> <li>Stuff we\u2019ll probably do soon: this is a standing \u201c**Next Tasks**\u201d milestone. We never change or rename this milestone.</li> <ul><li>We use a permanent \u201cNext Tasks\u201d milestone (as opposed to renaming it to \u201cAlpha 3\u201d or actual-next-iteration milestone) because we don\u2019t want to presume or default to including something in the real next iteration. When we\u2019re ready to start planning the next iteration we\u2019ll create a new milestone, and only deliberately move things into that milestone.</li></ul> <li>Stuff we probably won\u2019t do soon: this is a standing \u201c**Blue Sky**\u201d milestone. We refer to these tickets and sometimes look through them, but they are easy to ignore, somewhat intentionally ignored.</li> <li>What aren\u2019t we sure about?: issues with no milestone.</li> </ul> <li>Label: \u201cNeeds Discussion\u201d - (addressed in a triage meeting) - use liberally for either big or small tickets</li> <li>\u201cIt\u2019s better to give people more power: it\u2019s actually helpful if people can overreach because it is an opportunity to establish where the limits really are and what purpose those limits have\u201d</li> </ul>"},{"location":"docs/STYLE_GUIDE/#external-links","title":"External Links","text":"<ul> <li>[Git: The Simple Guide][simple_git]</li> <li>[Commit Messages][gcmsg] and why use the present tense</li> <li>GitHub\u2019s Advice on GitHub</li> <li>Most Comprehensive Guide</li> <li>Git Pro Book (free)<ul> <li>Bash Tab-Completion Snippet</li> </ul> </li> </ul>"},{"location":"docs/STYLE_GUIDE/#python","title":"Python","text":"<ul> <li>Python Style Guides<ul> <li>https://gist.github.com/sloria/7001839</li> <li>http://www.nilunder.com/blog/2013/08/03/pythonic-sensibilities/</li> <li>https://innoq.github.io/cards42org_en/</li> <li>https://docs.openstack.org/hacking/latest/user/hacking.html#styleguide</li> <li>https://www.python.org/doc/humor/</li> <li>https://docs.python-guide.org/writing/reading/</li> <li>https://realpython.com/python-refactoring/</li> </ul> </li> </ul>"},{"location":"docs/STYLE_GUIDE/#adrs","title":"ADRs","text":"<ul> <li>ADR Approaches<ul> <li>https://infraeng.dev/tech-spec Template (And associated review) vs. https://infraeng.dev/decision-log/</li> <li>Y-Statements: abbreviated shorthand. Add this as a one-line decision option if a full ADR isn\u2019t needed (or when referencing an existing ADR) (https://scribe.rip/@docsoc/y-statements-10eb07b5a177)</li> <li>https://adr.github.io</li> <li>More formal implementation of ADRs (MADR) that this is based on. Template: https://github.com/adr/madr/blob/97fb8edec60b8dc70b8166ef62de34c4e26b46c0/template/adr-template.md</li> <li>https://github.com/ethereum/EIPs/blob/confluenceuser/EIPS/eip-5639.md</li> </ul> </li> <li>Examples<ul> <li>https://github.com/pawamoy/mkdocstrings/issues/28</li> <li>https://github.com/arachne-framework/architecture/blob/060a956277a5ad71df93da49fee52463408841af/adr-002-configuration.md</li> <li>https://github.com/arachne-framework/architecture/tree/060a956277a5ad71df93da49fee52463408841af</li> <li>https://github.com/ethereum/EIPs/blob/confluenceuser/EIPS/eip-1010.md</li> <li>https://docs-v1.prefect.io/core/pins/pin-01-introduce-pins.html</li> <li>https://peps.python.org/pep-0387/</li> <li>https://github.com/AICoE/aicoe-ci/blob/39de02af86a0d1f9dcd395fa88b858f1c6880411/docs/adr/0000-use-markdown-architectural-decision-records.md</li> <li>And many others!</li> </ul> </li> </ul> <p>&lt;\u2013 Links \u2013&gt;</p>"}]}