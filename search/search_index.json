{"config":{"lang":["en"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"]},"docs":[{"location":"","title":"calcipy","text":"<p><code>calcipy</code> is a Python package that implements best practices such as code style (linting, auto-fixes), documentation, CI/CD, and logging. Like the calcium carbonate in hard coral, packages can be built on the <code>calcipy</code> foundation.</p> <p><code>calcipy</code> has some configurability, but is tailored for my particular use cases. If you want the same sort of functionality, there are a number of alternatives to consider:</p> <ul> <li>pyscaffold is a much more mature project that aims for the same goals, but with a slightly different approach and tech stack (tox vs. nox, cookiecutter vs. copier, etc.)</li> <li>tidypy, pylama, and codecheck offer similar functionality of bundling and running static checkers, but makes far fewer assumptions</li> <li>pytoil is a general CLI tool for developer automation</li> <li>And many more such as pyta, prospector, wemake-python-styleguide / cjolowicz/cookiecutter-hypermodern-python, formate, johnthagen/python-blueprint, oxsecurity/megalinter, trialandsuccess/su6, precious, etc.</li> </ul>"},{"location":"#installation","title":"Installation","text":"<p><code>calcipy</code> can be used in two ways:</p>"},{"location":"#1-as-a-standalone-tool-recommended-for-linting-code-analysis","title":"1. As a Standalone Tool (Recommended for Linting &amp; Code Analysis)","text":"<p>Use <code>calcipy</code> as a standalone tool without adding it as a dependency. This is ideal for:</p> <ul> <li>Linting: Running <code>ruff</code> on any Python codebase</li> <li>Code Tag Collection: Creating TODO/FIXME summaries for any project</li> </ul> <pre><code># Install as a tool (minimal dependencies)\nuv tool install 'calcipy[tool]'\n\n# Or use without installing via uvx\nuvx --from 'calcipy[tool]' calcipy-lint --help\nuvx --from 'calcipy[tool]' calcipy-tags --help\n\n# Examples\ncalcipy-lint lint --help\ncalcipy-lint lint  # Lint current directory\n\ncalcipy-tags tags --help\ncalcipy-tags tags --base-dir=~/path/to/my_project\n</code></pre> <p>Tool Mode Capabilities:</p> <ul> <li>\u2705 <code>calcipy-lint</code> - Lint any Python codebase</li> <li>\u2705 <code>calcipy-tags</code> - Collect code tags from any directory</li> <li>\u26a0\ufe0f Other commands require project context (see below)</li> </ul>"},{"location":"#2-as-a-project-dependency-full-development-environment","title":"2. As a Project Dependency (Full Development Environment)","text":"<p>Add <code>calcipy</code> to your project for the complete development workflow including testing, documentation, type-checking, and more.</p>"},{"location":"#quick-start-with-template","title":"Quick Start with Template","text":"<p>Calcipy works best with its companion template project: kyleking/calcipy_template</p> <pre><code># Create a new project from template\nuvx copier copy gh:KyleKing/calcipy_template new_project\ncd new_project\n\n# Or add to existing project\ncd my_project\nuvx copier copy gh:KyleKing/calcipy_template .\nuvx copier update\n</code></pre>"},{"location":"#manual-installation","title":"Manual Installation","text":"<pre><code># Add as development dependency with all tools\nuv add --dev 'calcipy[dev]'\n\n# Or install specific extras\nuv add --dev 'calcipy[test,doc,types]'\n</code></pre> <p>Project Mode Capabilities:</p> <ul> <li><code>calcipy-test</code> - Run pytest with coverage</li> <li><code>calcipy-types</code> - Type checking with mypy/pyright</li> <li><code>calcipy-docs</code> - Build and deploy documentation</li> <li><code>calcipy-pack</code> - Package building and publishing</li> <li><code>calcipy</code> - Full task automation</li> </ul> <p>Note: the CLI output below is compressed for readability, but you can try running each of these commands locally to see the most up-to-date documentation and the full set of options. The \u201cUsage\u201d, \u201cCore options\u201d, and \u201cGlobal Task Options\u201d are the same for each subsequent command, so they are excluded for brevity.</p> <pre><code>&gt; calcipy-lint\nUsage: calcipy-lint [--core-opts] &lt;subcommand&gt; [--subcommand-opts] ...\n\nCore options:\n\n  --complete                         Print tab-completion candidates for given parse remainder.\n  --hide=STRING                      Set default value of run()'s 'hide' kwarg.\n  --print-completion-script=STRING   Print the tab-completion script for your preferred shell (bash|zsh|fish).\n  --prompt-for-sudo-password         Prompt user at start of session for the sudo.password config value.\n  --write-pyc                        Enable creation of .pyc files.\n  -d, --debug                        Enable debug output.\n  -D INT, --list-depth=INT           When listing tasks, only show the first INT levels.\n  -e, --echo                         Echo executed commands before running.\n  -f STRING, --config=STRING         Runtime configuration file to use.\n  -F STRING, --list-format=STRING    Change the display format used when listing tasks. Should be one of: flat (default), nested, json.\n  -h [STRING], --help[=STRING]       Show core or per-task help and exit.\n  -l [STRING], --list[=STRING]       List available tasks, optionally limited to a namespace.\n  -p, --pty                          Use a pty when executing shell commands.\n  -R, --dry                          Echo commands instead of running.\n  -T INT, --command-timeout=INT      Specify a global command execution timeout, in seconds.\n  -V, --version                      Show version and exit.\n  -w, --warn-only                    Warn, instead of failing, when shell commands fail.\n\nSubcommands:\n\n  lint.check (lint)   Run ruff as check-only.\n  lint.fix            Run ruff and apply fixes.\n  lint.prek           Run prek.\n  lint.watch          Run ruff as check-only.\n\nGlobal Task Options:\n\n  *file_args             List of Paths available globally to all tasks. Will resolve paths with working_dir\n  --keep-going           Continue running tasks even on failure\n  --working_dir=STRING   Set the cwd for the program. Example: \"../run --working-dir .. lint test\"\n  -v,-vv,-vvv            Globally configure logger verbosity (-vvv for most verbose)\n\n&gt; calcipy-pack\n\nSubcommands:\n\n  pack.bump-tag                  Experiment with bumping the git tag using `griffe` (experimental).\n  pack.lock                      Update package manager lock file.\n  pack.publish                   Build the distributed format(s) and publish.\n  pack.sync-pyproject-versions   Experiment with setting the pyproject.toml dependencies to the version from uv.lock (experimental).\n\n&gt; calcipy-tags\n\nSubcommands:\n\n  tags.collect-code-tags (tags)   Create a `CODE_TAG_SUMMARY.md` with a table for TODO- and FIXME-style code comments.\n\n&gt; calcipy-types\n\nSubcommands:\n\n  types.mypy      Run mypy.\n  types.pyright   Run pyright using the config in `pyproject.toml`.\n</code></pre>"},{"location":"#calcipy-pre-commit","title":"Calcipy Pre-Commit","text":"<p><code>calcipy</code> can also be used as a <code>pre-commit</code> task by adding the below snippet to your <code>pre-commit</code> file:</p> <pre><code>repos:\n  - repo: https://github.com/KyleKing/calcipy\n    rev: main\n    hooks:\n      - id: tags\n      - id: lint-fix\n      - id: types\n</code></pre> <p>Tip: running pre-commit with prek is recommended for performance: https://pypi.org/project/prek</p>"},{"location":"#project-status","title":"Project Status","text":"<p>See the <code>Open Issues</code> and/or the CODE_TAG_SUMMARY. For release history, see the CHANGELOG.</p>"},{"location":"#contributing","title":"Contributing","text":"<p>We welcome pull requests! For your pull request to be accepted smoothly, we suggest that you first open a GitHub issue to discuss your idea. For resources on getting started with the code base, see the below documentation:</p> <ul> <li>DEVELOPER_GUIDE</li> <li>STYLE_GUIDE</li> </ul>"},{"location":"#code-of-conduct","title":"Code of Conduct","text":"<p>We follow the Contributor Covenant Code of Conduct.</p>"},{"location":"#open-source-status","title":"Open Source Status","text":"<p>We try to reasonably meet most aspects of the \u201cOpenSSF scorecard\u201d from Open Source Insights</p>"},{"location":"#responsible-disclosure","title":"Responsible Disclosure","text":"<p>If you have any security issue to report, please contact the project maintainers privately. You can reach us at dev.act.kyle@gmail.com.</p>"},{"location":"#license","title":"License","text":"<p>LICENSE</p>"},{"location":"docs/CHANGELOG/","title":"CHANGELOG","text":""},{"location":"docs/CHANGELOG/#unreleased","title":"Unreleased","text":""},{"location":"docs/CHANGELOG/#feat","title":"Feat","text":"<ul> <li>complete poetry\u2192uv migration and add tool-first architecture</li> <li>migrate to prek</li> <li>switch to uv (#134)</li> </ul>"},{"location":"docs/CHANGELOG/#fix","title":"Fix","text":"<ul> <li>address CI failures and PR review feedback</li> <li>resolve PR feedback on sync_package_dependencies</li> <li>finish migrating noxfile</li> <li>finish migration to src/* uv_build organization</li> </ul>"},{"location":"docs/CHANGELOG/#refactor","title":"Refactor","text":"<ul> <li>restore pre-commit hooks</li> <li>explore mise as a nox alternative</li> <li>minor noxfile changes</li> <li>restore in-progress comments from \u201cwip?\u201d</li> </ul>"},{"location":"docs/CHANGELOG/#500-2024-11-07","title":"5.0.0 (2024-11-07)","text":""},{"location":"docs/CHANGELOG/#feat_1","title":"Feat","text":"<ul> <li>remove licensecheck</li> <li>remove \u2018stale\u2019 module and pytest-recording</li> </ul>"},{"location":"docs/CHANGELOG/#430-2024-10-31","title":"4.3.0 (2024-10-31)","text":""},{"location":"docs/CHANGELOG/#feat_2","title":"Feat","text":"<ul> <li>add optional delimiters for alignment</li> </ul>"},{"location":"docs/CHANGELOG/#fix_1","title":"Fix","text":"<ul> <li>downgrade \u2018could not parse\u2019 to debug</li> <li>export \u2018ns\u2019 for recipes</li> </ul>"},{"location":"docs/CHANGELOG/#refactor_1","title":"Refactor","text":"<ul> <li>restore T suffix for consistency</li> </ul>"},{"location":"docs/CHANGELOG/#420-2024-10-31","title":"4.2.0 (2024-10-31)","text":""},{"location":"docs/CHANGELOG/#feat_3","title":"Feat","text":"<ul> <li>add markdown_tables.format_table</li> </ul>"},{"location":"docs/CHANGELOG/#fix_2","title":"Fix","text":"<ul> <li>set minimum urllib3 version</li> <li>use uvx instead of pipx</li> <li>attempt to output tasks even when some dependencies are missing</li> <li>correct typo in DeferedTask</li> </ul>"},{"location":"docs/CHANGELOG/#refactor_2","title":"Refactor","text":"<ul> <li>finish removing pydantic dependency</li> <li>switch serialized BaseModel to dataclass</li> <li>switch some BaseModels to plain dataclasses</li> <li>sync Github Labeler</li> </ul>"},{"location":"docs/CHANGELOG/#410-2024-10-07","title":"4.1.0 (2024-10-07)","text":""},{"location":"docs/CHANGELOG/#feat_4","title":"Feat","text":"<ul> <li>remove pylint</li> </ul>"},{"location":"docs/CHANGELOG/#fix_3","title":"Fix","text":"<ul> <li>upgrade pre-commit</li> <li>remove unused test.step</li> <li>pack: handle missing dependenies group section</li> <li>handle when dev-dependencies are missing</li> <li>minimize calcipy extras when testing in nox</li> <li>handle git, path, and other complex versions for sync task</li> <li>pinning urllib3 for Python 3.11 wasn\u2019t necessary</li> </ul>"},{"location":"docs/CHANGELOG/#refactor_3","title":"Refactor","text":"<ul> <li>resolve ruff errors</li> <li>minor logging improvements for pack.sync</li> </ul>"},{"location":"docs/CHANGELOG/#400-2024-07-06","title":"4.0.0 (2024-07-06)","text":""},{"location":"docs/CHANGELOG/#fix_4","title":"Fix","text":"<ul> <li>add timeout to httpx requests</li> <li>don\u2019t sync versions when a maximum version is specified</li> <li>prevent installing urllib3 in Python 3.10</li> <li>add missing pylint extra</li> </ul>"},{"location":"docs/CHANGELOG/#refactor_4","title":"Refactor","text":"<ul> <li>reduce sync_package_deps complexity</li> <li>try debugging urllib3 inconsistencies</li> </ul>"},{"location":"docs/CHANGELOG/#400rc2-2024-07-05","title":"4.0.0rc2 (2024-07-05)","text":""},{"location":"docs/CHANGELOG/#fix_5","title":"Fix","text":"<ul> <li>install pyyaml for tags extra</li> <li>correctly calculate markdown table widths</li> </ul>"},{"location":"docs/CHANGELOG/#400rc1-2024-07-05","title":"4.0.0rc1 (2024-07-05)","text":""},{"location":"docs/CHANGELOG/#fix_6","title":"Fix","text":"<ul> <li>wheel: don\u2019t distribute top-level LICENSE file</li> <li>ensure consistent whitespace when writing markdown tables</li> <li>restore pyyaml extra</li> </ul>"},{"location":"docs/CHANGELOG/#400rc0-2024-07-05","title":"4.0.0rc0 (2024-07-05)","text":""},{"location":"docs/CHANGELOG/#feat_5","title":"Feat","text":"<ul> <li>add pack.sync-package-dependencies experiment</li> </ul>"},{"location":"docs/CHANGELOG/#fix_7","title":"Fix","text":"<ul> <li>improve output from stale task and semaphore concurrency</li> <li>#132: remove mkdocs section-index and literate nav</li> </ul>"},{"location":"docs/CHANGELOG/#refactor_5","title":"Refactor","text":"<ul> <li>#132: remove @beartype decorators</li> <li>#132: restore commitizen for changelog creation</li> <li>#132: remove basedpyright; too many false positives</li> <li>#132: remove unused mkdocs-markdown-include-plugin</li> <li>make pyyaml required only for doc extra</li> <li>#132: remove commitizen</li> <li>#132: finish replacing pandas for markdown tables</li> <li>#132: partially remove pandas</li> <li>rename to write_template_formatted_md_sections</li> <li>#132: remove transitions</li> <li>#132: remove pyreverse diagrams</li> <li>#132: remove MkDocs revision date plugin</li> <li>#132: remove plantuml-mkdocs integration</li> <li>#132: remove dependency on bidict and pyrate-limiter</li> </ul>"},{"location":"docs/CHANGELOG/#302-2024-06-16","title":"3.0.2 (2024-06-16)","text":""},{"location":"docs/CHANGELOG/#fix_8","title":"Fix","text":"<ul> <li>use calcipy.collection for Collection import</li> <li>quote each file-arg to linting tasks</li> </ul>"},{"location":"docs/CHANGELOG/#refactor_6","title":"Refactor","text":"<ul> <li>format cli file</li> </ul>"},{"location":"docs/CHANGELOG/#301-2024-06-12","title":"3.0.1 (2024-06-12)","text":""},{"location":"docs/CHANGELOG/#fix_9","title":"Fix","text":"<ul> <li>don\u2019t pass arguments to pyright CLI</li> </ul>"},{"location":"docs/CHANGELOG/#perf","title":"Perf","text":"<ul> <li>cache known executables</li> </ul>"},{"location":"docs/CHANGELOG/#300-2024-06-07","title":"3.0.0 (2024-06-07)","text":""},{"location":"docs/CHANGELOG/#fix_10","title":"Fix","text":"<ul> <li>finish migration from autopep8 to ruff</li> <li>resolve remaining ruff errors manually</li> <li>use all-caps LOGGER from corallium</li> <li>require lock before install-extras</li> <li>copier-auto-update</li> </ul>"},{"location":"docs/CHANGELOG/#refactor_7","title":"Refactor","text":"<ul> <li>unsafe fixes from ruff</li> <li>safe fixes from ruff</li> </ul>"},{"location":"docs/CHANGELOG/#220rc0-2024-06-06","title":"2.2.0rc0 (2024-06-06)","text":""},{"location":"docs/CHANGELOG/#feat_6","title":"Feat","text":"<ul> <li>remove bandit/security task</li> <li>remove flake8</li> </ul>"},{"location":"docs/CHANGELOG/#fix_11","title":"Fix","text":"<ul> <li>make experimental dependencies optional</li> <li>remove pip-check</li> <li>shorten main task list</li> <li>remove autopep8</li> <li>remove semgrep</li> </ul>"},{"location":"docs/CHANGELOG/#210-2024-04-17","title":"2.1.0 (2024-04-17)","text":""},{"location":"docs/CHANGELOG/#feat_7","title":"Feat","text":"<ul> <li>add basedpyright</li> </ul>"},{"location":"docs/CHANGELOG/#fix_12","title":"Fix","text":"<ul> <li>exclude plantuml package 1.10.0</li> </ul>"},{"location":"docs/CHANGELOG/#refactor_8","title":"Refactor","text":"<ul> <li>replace filter with iterator</li> </ul>"},{"location":"docs/CHANGELOG/#204-2024-01-31","title":"2.0.4 (2024-01-31)","text":""},{"location":"docs/CHANGELOG/#fix_13","title":"Fix","text":"<ul> <li>add \u2013doc-sub-dir for Code Tag generation without copier-answers</li> <li>create the code tag summary directory if it doesn\u2019t already exist</li> </ul>"},{"location":"docs/CHANGELOG/#203-2023-11-21","title":"2.0.3 (2023-11-21)","text":""},{"location":"docs/CHANGELOG/#fix_14","title":"Fix","text":"<ul> <li>pin a recent version of virtualenv for Python 3.12 + Nox</li> </ul>"},{"location":"docs/CHANGELOG/#202-2023-11-08","title":"2.0.2 (2023-11-08)","text":""},{"location":"docs/CHANGELOG/#refactor_9","title":"Refactor","text":"<ul> <li>copier-auto-update</li> </ul>"},{"location":"docs/CHANGELOG/#201-2023-09-08","title":"2.0.1 (2023-09-08)","text":""},{"location":"docs/CHANGELOG/#fix_15","title":"Fix","text":"<ul> <li>add missing setuptools for some mkdocs dependencies</li> <li>add calcipy-docs and restore missing extras for type checking</li> <li>add scoped \u2018calcipy-test\u2019</li> </ul>"},{"location":"docs/CHANGELOG/#refactor_10","title":"Refactor","text":"<ul> <li>really move nox</li> <li>use ruff.external to allow list flake8 rules</li> </ul>"},{"location":"docs/CHANGELOG/#200-2023-09-02","title":"2.0.0 (2023-09-02)","text":""},{"location":"docs/CHANGELOG/#feat_8","title":"Feat","text":"<ul> <li>drop Python 3.8</li> </ul>"},{"location":"docs/CHANGELOG/#fix_16","title":"Fix","text":"<ul> <li>specify a unique name when binding new kwargs</li> </ul>"},{"location":"docs/CHANGELOG/#164-2023-08-28","title":"1.6.4 (2023-08-28)","text":""},{"location":"docs/CHANGELOG/#fix_17","title":"Fix","text":"<ul> <li>update pyrate-limiter</li> </ul>"},{"location":"docs/CHANGELOG/#refactor_11","title":"Refactor","text":"<ul> <li>address pydantic v2 migration warnings</li> </ul>"},{"location":"docs/CHANGELOG/#163-2023-08-13","title":"1.6.3 (2023-08-13)","text":""},{"location":"docs/CHANGELOG/#fix_18","title":"Fix","text":"<ul> <li>remove redundant beartype to lru_cache</li> </ul>"},{"location":"docs/CHANGELOG/#refactor_12","title":"Refactor","text":"<ul> <li>resolve asdf</li> <li>tried get_env_vars</li> </ul>"},{"location":"docs/CHANGELOG/#162-2023-08-12","title":"1.6.2 (2023-08-12)","text":""},{"location":"docs/CHANGELOG/#161rc0-2023-08-12","title":"1.6.1rc0 (2023-08-12)","text":""},{"location":"docs/CHANGELOG/#fix_19","title":"Fix","text":"<ul> <li>support partial kwargs for pre/post</li> <li>defer Task to support decorator chaining</li> </ul>"},{"location":"docs/CHANGELOG/#refactor_13","title":"Refactor","text":"<ul> <li>setup for deferred task refactor</li> <li>update dependency versions</li> <li>update copier for a more generic environment variable</li> </ul>"},{"location":"docs/CHANGELOG/#160-2023-07-23","title":"1.6.0 (2023-07-23)","text":""},{"location":"docs/CHANGELOG/#feat_9","title":"Feat","text":"<ul> <li>experiment with griffe for version bumping</li> </ul>"},{"location":"docs/CHANGELOG/#fix_20","title":"Fix","text":"<ul> <li>resolve minor bugs in griffe experiment</li> <li>remove dependency on flake8-beartype</li> </ul>"},{"location":"docs/CHANGELOG/#refactor_14","title":"Refactor","text":"<ul> <li>downgrade replacement machine error to warning</li> </ul>"},{"location":"docs/CHANGELOG/#150-2023-07-22","title":"1.5.0 (2023-07-22)","text":""},{"location":"docs/CHANGELOG/#feat_10","title":"Feat","text":"<ul> <li>add configurable ignore patterns for tags</li> </ul>"},{"location":"docs/CHANGELOG/#refactor_15","title":"Refactor","text":"<ul> <li>resolve pylint warnings</li> <li>run bump-pydantic</li> </ul>"},{"location":"docs/CHANGELOG/#142-2023-07-16","title":"1.4.2 (2023-07-16)","text":""},{"location":"docs/CHANGELOG/#fix_21","title":"Fix","text":"<ul> <li>use the correct exclude rule for semgrep</li> <li>support pydantic v2 serialization</li> <li>skip SemGrep rule to pin GitHub Actions to commit IDs</li> </ul>"},{"location":"docs/CHANGELOG/#refactor_16","title":"Refactor","text":"<ul> <li>resolve local test suite problems</li> </ul>"},{"location":"docs/CHANGELOG/#141-2023-07-07","title":"1.4.1 (2023-07-07)","text":""},{"location":"docs/CHANGELOG/#fix_22","title":"Fix","text":"<ul> <li>retrieve only unique python versions from .tool-versions</li> </ul>"},{"location":"docs/CHANGELOG/#140-2023-06-25","title":"1.4.0 (2023-06-25)","text":""},{"location":"docs/CHANGELOG/#feat_11","title":"Feat","text":"<ul> <li>add calcipy-pack to use install-extras without the extras</li> </ul>"},{"location":"docs/CHANGELOG/#fix_23","title":"Fix","text":"<ul> <li>show a readable warning when gh, pyright, and/or pre-commit are not installed</li> <li>use calcipy\u2019s python environment when installed with pipx</li> </ul>"},{"location":"docs/CHANGELOG/#130-2023-06-21","title":"1.3.0 (2023-06-21)","text":""},{"location":"docs/CHANGELOG/#feat_12","title":"Feat","text":"<ul> <li>switch to httpx for async requests</li> </ul>"},{"location":"docs/CHANGELOG/#perf_1","title":"Perf","text":"<ul> <li>lazy cache compiling the regex</li> </ul>"},{"location":"docs/CHANGELOG/#126-2023-06-17","title":"1.2.6 (2023-06-17)","text":""},{"location":"docs/CHANGELOG/#fix_24","title":"Fix","text":"<ul> <li>handle missing git remotes in code tag collection</li> <li>always re-cache packages if empty</li> <li>ignore new TD002 &amp; TD003 linting rules</li> </ul>"},{"location":"docs/CHANGELOG/#refactor_17","title":"Refactor","text":"<ul> <li>try to handle exceptions when no git origin URL</li> </ul>"},{"location":"docs/CHANGELOG/#125-2023-05-23","title":"1.2.5 (2023-05-23)","text":""},{"location":"docs/CHANGELOG/#fix_25","title":"Fix","text":"<ul> <li>resolve typing and import errors</li> <li>upgrade to invoke 2.1.2</li> </ul>"},{"location":"docs/CHANGELOG/#refactor_18","title":"Refactor","text":"<ul> <li>suppress ruff autofix</li> </ul>"},{"location":"docs/CHANGELOG/#124-2023-05-16","title":"1.2.4 (2023-05-16)","text":""},{"location":"docs/CHANGELOG/#fix_26","title":"Fix","text":"<ul> <li>add pack.install-extras</li> <li>bump minimum pymdown dependency</li> <li>pydantic alias doesn\u2019t work like that</li> <li>refactor for higher pylint quality</li> <li>update the help string to include \u2013keep-going</li> <li>support branch coverage</li> <li>move pyright to \u2018main\u2019 tasks</li> </ul>"},{"location":"docs/CHANGELOG/#123-2023-04-08","title":"1.2.3 (2023-04-08)","text":""},{"location":"docs/CHANGELOG/#fix_27","title":"Fix","text":"<ul> <li>handle dev installs when only calcipy</li> </ul>"},{"location":"docs/CHANGELOG/#122-2023-04-08","title":"1.2.2 (2023-04-08)","text":""},{"location":"docs/CHANGELOG/#fix_28","title":"Fix","text":"<ul> <li>add preview of \u2013keep-going</li> </ul>"},{"location":"docs/CHANGELOG/#refactor_19","title":"Refactor","text":"<ul> <li>extract task logic from wrapper</li> </ul>"},{"location":"docs/CHANGELOG/#121-2023-04-07","title":"1.2.1 (2023-04-07)","text":""},{"location":"docs/CHANGELOG/#fix_29","title":"Fix","text":"<ul> <li>skip assert_used in bandit</li> </ul>"},{"location":"docs/CHANGELOG/#120-2023-04-06","title":"1.2.0 (2023-04-06)","text":""},{"location":"docs/CHANGELOG/#feat_13","title":"Feat","text":"<ul> <li>add test.check with duplicate name logic</li> </ul>"},{"location":"docs/CHANGELOG/#fix_30","title":"Fix","text":"<ul> <li>remove lru_cache, which was causing mypy errors</li> </ul>"},{"location":"docs/CHANGELOG/#111-2023-04-06","title":"1.1.1 (2023-04-06)","text":""},{"location":"docs/CHANGELOG/#fix_31","title":"Fix","text":"<ul> <li>resolve linting errors</li> <li>use copier copy</li> </ul>"},{"location":"docs/CHANGELOG/#110-2023-04-06","title":"1.1.0 (2023-04-06)","text":""},{"location":"docs/CHANGELOG/#feat_14","title":"Feat","text":"<ul> <li>add experimental check duplicate test names</li> </ul>"},{"location":"docs/CHANGELOG/#fix_32","title":"Fix","text":"<ul> <li>suppress unexpected exit errors in update docs</li> <li>skip pre-commit uninstall for doc.deploy when pre-commit not available</li> <li>skip pre-commit on doc.deploy</li> </ul>"},{"location":"docs/CHANGELOG/#101-2023-03-01","title":"1.0.1 (2023-03-01)","text":""},{"location":"docs/CHANGELOG/#fix_33","title":"Fix","text":"<ul> <li>bump minimum ruff version</li> </ul>"},{"location":"docs/CHANGELOG/#100-2023-02-25","title":"1.0.0 (2023-02-25)","text":""},{"location":"docs/CHANGELOG/#fix_34","title":"Fix","text":"<ul> <li>lower default logging level</li> </ul>"},{"location":"docs/CHANGELOG/#100rc7-2023-02-23","title":"1.0.0rc7 (2023-02-23)","text":""},{"location":"docs/CHANGELOG/#feat_15","title":"Feat","text":"<ul> <li>add lint.security to pre-commit lint-fix hook</li> </ul>"},{"location":"docs/CHANGELOG/#fix_35","title":"Fix","text":"<ul> <li>remove types hook, which doesn\u2019t work when not local</li> </ul>"},{"location":"docs/CHANGELOG/#refactor_20","title":"Refactor","text":"<ul> <li>make task summary optional</li> <li>configure start program inline</li> </ul>"},{"location":"docs/CHANGELOG/#100rc6-2023-02-22","title":"1.0.0rc6 (2023-02-22)","text":""},{"location":"docs/CHANGELOG/#fix_36","title":"Fix","text":"<ul> <li>provide subcommands to support pre-commit</li> </ul>"},{"location":"docs/CHANGELOG/#100rc5-2023-02-22","title":"1.0.0rc5 (2023-02-22)","text":""},{"location":"docs/CHANGELOG/#feat_16","title":"Feat","text":"<ul> <li>add pre-commit hooks and update docs</li> </ul>"},{"location":"docs/CHANGELOG/#fix_37","title":"Fix","text":"<ul> <li>handle KeyError when not yet on PyPi\u2019s JSON API</li> </ul>"},{"location":"docs/CHANGELOG/#refactor_21","title":"Refactor","text":"<ul> <li>sync with corallium ruff and remove flake8 class-attr-order</li> </ul>"},{"location":"docs/CHANGELOG/#100rc4-2023-02-22","title":"1.0.0rc4 (2023-02-22)","text":""},{"location":"docs/CHANGELOG/#fix_38","title":"Fix","text":"<ul> <li>fully support nox and corallium</li> </ul>"},{"location":"docs/CHANGELOG/#100rc3-2023-02-22","title":"1.0.0rc3 (2023-02-22)","text":""},{"location":"docs/CHANGELOG/#fix_39","title":"Fix","text":"<ul> <li>add depedency on corallium</li> </ul>"},{"location":"docs/CHANGELOG/#100rc2-2023-02-21","title":"1.0.0rc2 (2023-02-21)","text":""},{"location":"docs/CHANGELOG/#feat_17","title":"Feat","text":"<ul> <li>merge shoal source code into calcipy</li> </ul>"},{"location":"docs/CHANGELOG/#100rc1-2023-02-21","title":"1.0.0rc1 (2023-02-21)","text":""},{"location":"docs/CHANGELOG/#fix_40","title":"Fix","text":"<ul> <li>upgrade shoal dependency and add summary</li> <li>add pylint to document</li> <li>move autopep8 to the lint extras</li> </ul>"},{"location":"docs/CHANGELOG/#100rc0-2023-02-20","title":"1.0.0rc0 (2023-02-20)","text":""},{"location":"docs/CHANGELOG/#feat_18","title":"Feat","text":"<ul> <li>fully support working-dir by wrapping ctx.run</li> <li>recursively find the tool versions file</li> <li>add dont_skip for testing</li> <li>add tests for code tag collector</li> <li>replace dg with user configuration file</li> <li>better support min-cover</li> <li>unit test write_autoformatted_md_sections</li> <li>start using check_imports</li> <li>support prereleases and add autopep8</li> <li>introduce cl namespace</li> <li>run lint on file_args and use absolufy</li> <li>add initial version of doc namespace</li> <li>remove pre-commit; add doc and ddict extras</li> <li>add progress indicator to tasks</li> <li>add lint.security</li> <li>add ./run to generlize local entrypoint</li> <li>add lint.pre-commit</li> <li>restore most of noxfile</li> <li>run mypy-silent and add main task</li> <li>use can_skip for the package_lock file</li> <li>start manually fixing lint issues</li> <li>add linting</li> <li>migrate over stale package logic</li> <li>add pyright, mypy, and DEFAULTS</li> <li>add write_json and cached pyproject reader</li> <li>add pytest-based tasks and first unit tests</li> <li>experiment with parallel processing</li> <li>init placeholders for new namespaces</li> <li>add can_skip</li> <li>add initial nox task to invoke</li> <li>switch to invoke</li> <li>start restoring files and switching to shoal</li> <li>add shoal</li> </ul>"},{"location":"docs/CHANGELOG/#fix_41","title":"Fix","text":"<ul> <li>correct ignore pattern logic and expand task tests</li> <li>get doc and cl tasks working</li> <li>code tag summary and rename default tasks</li> <li>properly map CLI arguments to code tag collector</li> <li>show all URLs on the same line in CTC</li> <li>write Code Tags to docs/docs</li> <li>resolve issues with test.watch-json</li> </ul>"},{"location":"docs/CHANGELOG/#refactor_22","title":"Refactor","text":"<ul> <li>update Progress task</li> <li>extract use_pty to a default in shoal</li> <li>generlize find_in_parents for pyproject.toml as well</li> <li>introduce logger.print and print_debug</li> <li>drop absolufy-imports task</li> <li>simplify configuration</li> <li>fix remaining pyright and flake8 errors</li> <li>rename write-json to coverage</li> <li>resolve pylint issues</li> <li>reorder main tasks</li> <li>resolve flake8 warnings and better manage filenames</li> <li>apply autopep8 to fix whitespace issues</li> <li>import initialized logger directly</li> <li>try to wrap running tasks programmatically\u2026</li> <li>run prc main</li> <li>move log configuration to shoal.cli.task</li> <li>resolve typecheck errors</li> <li>manually resolve additional linting errors</li> <li>make lint.check default</li> <li>extract start program to shoal</li> <li>another round of manual lint corrections</li> <li>move can_skip to shoal</li> <li> <p>nest invoke-specific code in tasks/</p> </li> <li> <p>drop pytest-html and conftest completely</p> </li> </ul>"},{"location":"docs/CHANGELOG/#0216-2023-01-31","title":"0.21.6 (2023-01-31)","text":""},{"location":"docs/CHANGELOG/#feat_19","title":"Feat","text":"<ul> <li>use the \u2013now flag for ptw!</li> </ul>"},{"location":"docs/CHANGELOG/#refactor_23","title":"Refactor","text":"<ul> <li>remove autoflake in favor of unimport</li> </ul>"},{"location":"docs/CHANGELOG/#0215-2022-11-27","title":"0.21.5 (2022-11-27)","text":""},{"location":"docs/CHANGELOG/#fix_42","title":"Fix","text":"<ul> <li>escape % in yaml files as well</li> </ul>"},{"location":"docs/CHANGELOG/#0214-2022-11-20","title":"0.21.4 (2022-11-20)","text":""},{"location":"docs/CHANGELOG/#fix_43","title":"Fix","text":"<ul> <li>handle % in path names for ctt</li> <li>suppress code tag failures when not a git directory</li> <li>add support for tomllib in Python 3.11!</li> </ul>"},{"location":"docs/CHANGELOG/#refactor_24","title":"Refactor","text":"<ul> <li>copier update</li> </ul>"},{"location":"docs/CHANGELOG/#0213-2022-11-13","title":"0.21.3 (2022-11-13)","text":""},{"location":"docs/CHANGELOG/#fix_44","title":"Fix","text":"<ul> <li>remove unimplemented diff-cover</li> <li>exit 1 on semgrep errors</li> </ul>"},{"location":"docs/CHANGELOG/#0212-2022-11-12","title":"0.21.2 (2022-11-12)","text":""},{"location":"docs/CHANGELOG/#fix_45","title":"Fix","text":"<ul> <li>add relative path prefix for linting \u2018./\u2019</li> <li>ensure that cz bump doesn\u2019t break the requirements file</li> <li>bump minimum pip-check</li> </ul>"},{"location":"docs/CHANGELOG/#0211-2022-11-05","title":"0.21.1 (2022-11-05)","text":""},{"location":"docs/CHANGELOG/#fix_46","title":"Fix","text":"<ul> <li>install poetry for \u2018doit publish\u2019</li> <li>bump minimum mkdocs for deploy_docs</li> </ul>"},{"location":"docs/CHANGELOG/#0210-2022-11-05","title":"0.21.0 (2022-11-05)","text":""},{"location":"docs/CHANGELOG/#feat_20","title":"Feat","text":"<ul> <li>remove if-expr and other unnecessary new flake8 plugins</li> <li>merge extra flake8 packages based on flake8-aggressive</li> </ul>"},{"location":"docs/CHANGELOG/#fix_47","title":"Fix","text":"<ul> <li>prevent line break in table for Code Tag summary</li> <li>add pdbr with rich to replace pdbpp</li> </ul>"},{"location":"docs/CHANGELOG/#0201-2022-10-19","title":"0.20.1 (2022-10-19)","text":""},{"location":"docs/CHANGELOG/#fix_48","title":"Fix","text":"<ul> <li>drop pdbpp and add flake8-fine-pytest</li> </ul>"},{"location":"docs/CHANGELOG/#0200-2022-10-16","title":"0.20.0 (2022-10-16)","text":""},{"location":"docs/CHANGELOG/#feat_21","title":"Feat","text":"<ul> <li>sign commitizen tags</li> <li>add plantuml generation to mkdocs</li> </ul>"},{"location":"docs/CHANGELOG/#fix_49","title":"Fix","text":"<ul> <li>remove version conflict with flake8-simplify and cl_bump</li> </ul>"},{"location":"docs/CHANGELOG/#0191-2022-10-13","title":"0.19.1 (2022-10-13)","text":""},{"location":"docs/CHANGELOG/#fix_50","title":"Fix","text":"<ul> <li>don\u2019t auto-install types</li> </ul>"},{"location":"docs/CHANGELOG/#0190-2022-10-06","title":"0.19.0 (2022-10-06)","text":""},{"location":"docs/CHANGELOG/#feat_22","title":"Feat","text":"<ul> <li>support optional logging of arguments</li> </ul>"},{"location":"docs/CHANGELOG/#fix_51","title":"Fix","text":"<ul> <li>split mypy install from mypy run</li> </ul>"},{"location":"docs/CHANGELOG/#0180-2022-09-27","title":"0.18.0 (2022-09-27)","text":""},{"location":"docs/CHANGELOG/#feat_23","title":"Feat","text":"<ul> <li>support Arrow in pydantic and mypy (ArrowType was causing errors)</li> <li>remove pdoc(s) from document task</li> <li>add gen_ref_nav!</li> <li>tried pybetter, but too focused on adding all</li> <li>#102: sort-of-replace pdocs, but pdoc only shows one function</li> <li>add mypy install argument</li> <li>expand flake8 and reduce tests</li> </ul>"},{"location":"docs/CHANGELOG/#fix_52","title":"Fix","text":"<ul> <li>re-run prdc</li> <li>lower fail-under for diff. Raise for regular test</li> <li>standardize on a single doit task list</li> <li>Pathlib.absolute is not documented. Use .resolve</li> </ul>"},{"location":"docs/CHANGELOG/#refactor_25","title":"Refactor","text":"<ul> <li>add type hints and minor changes for mypy</li> <li>make python files non-executable (chmod -x)</li> </ul>"},{"location":"docs/CHANGELOG/#0171-2022-09-22","title":"0.17.1 (2022-09-22)","text":""},{"location":"docs/CHANGELOG/#fix_53","title":"Fix","text":"<ul> <li>pytest cache assert circular reference</li> </ul>"},{"location":"docs/CHANGELOG/#refactor_26","title":"Refactor","text":"<ul> <li>move check_security from nox into doit</li> </ul>"},{"location":"docs/CHANGELOG/#0170-2022-09-17","title":"0.17.0 (2022-09-17)","text":""},{"location":"docs/CHANGELOG/#feat_24","title":"Feat","text":"<ul> <li>add docformat</li> <li>make pyupgrade flag configurable based on minimum python version</li> <li>replace pendulum with arrow</li> <li>update to latest copier</li> </ul>"},{"location":"docs/CHANGELOG/#fix_54","title":"Fix","text":"<ul> <li>move yamllint configuration to project-specific config</li> <li>naive datetimes can\u2019t be subtracted on Windows</li> <li>hack together a dictionary instead of punq</li> <li>drop safety because of false positives on Calcipy CalVer</li> </ul>"},{"location":"docs/CHANGELOG/#refactor_27","title":"Refactor","text":"<ul> <li>experiment with custom semgrep rules</li> <li>formalize solution from last commit</li> <li>try to fix punq by switching to functions</li> <li>fix one test, refactor a little, but punq is still not working</li> <li>begin replacing attrs with pydantic</li> <li>update semgrep nox task</li> <li>upgrade copier with linting fixes</li> </ul>"},{"location":"docs/CHANGELOG/#0160-2022-08-04","title":"0.16.0 (2022-08-04)","text":""},{"location":"docs/CHANGELOG/#feat_25","title":"Feat","text":"<ul> <li>add flake8-simplify</li> </ul>"},{"location":"docs/CHANGELOG/#fix_55","title":"Fix","text":"<ul> <li>show only date in coverage table</li> </ul>"},{"location":"docs/CHANGELOG/#0150-2022-08-03","title":"0.15.0 (2022-08-03)","text":""},{"location":"docs/CHANGELOG/#fix_56","title":"Fix","text":"<ul> <li>resolve pyroma errors by installing poetry as a module</li> </ul>"},{"location":"docs/CHANGELOG/#0150rc0-2022-07-24","title":"0.15.0rc0 (2022-07-24)","text":""},{"location":"docs/CHANGELOG/#feat_26","title":"Feat","text":"<ul> <li>init update workflow and toml sorter</li> <li>create script to bump toml minimum requirements</li> </ul>"},{"location":"docs/CHANGELOG/#fix_57","title":"Fix","text":"<ul> <li>properly handle missing datetime</li> <li>try to use separate sqlite files for pre-commit and doit</li> <li>correct safety arguments</li> <li>use the unversioned API for releases</li> <li>try to handle pypi response when no \u201creleases\u201d</li> <li>handle prefix of \u201c*\u201d</li> <li>improve error message when \u201creleases\u201d not present</li> <li> <p>use sqlite3 for pre-commit concurrent doit access</p> </li> <li> <p>bump Python to 3.8.4 and drop 3.7</p> </li> </ul>"},{"location":"docs/CHANGELOG/#0145-2022-03-05","title":"0.14.5 (2022-03-05)","text":""},{"location":"docs/CHANGELOG/#fix_58","title":"Fix","text":"<ul> <li>#91: prevent minified files from appearing in Code Tag Summary</li> </ul>"},{"location":"docs/CHANGELOG/#0144-2022-03-01","title":"0.14.4 (2022-03-01)","text":""},{"location":"docs/CHANGELOG/#fix_59","title":"Fix","text":"<ul> <li>set upper limit to fix flake8-bandit compat</li> </ul>"},{"location":"docs/CHANGELOG/#0143-2022-03-01","title":"0.14.3 (2022-03-01)","text":""},{"location":"docs/CHANGELOG/#fix_60","title":"Fix","text":"<ul> <li>suppress only known git blame errors</li> <li>use Github tables to prevent multi-line rows in Code Tag Summary</li> </ul>"},{"location":"docs/CHANGELOG/#0142-2022-02-27","title":"0.14.2 (2022-02-27)","text":""},{"location":"docs/CHANGELOG/#fix_61","title":"Fix","text":"<ul> <li>don\u2019t allow multi-line tables</li> </ul>"},{"location":"docs/CHANGELOG/#0141-2022-02-27","title":"0.14.1 (2022-02-27)","text":""},{"location":"docs/CHANGELOG/#fix_62","title":"Fix","text":"<ul> <li>lower pandas constraint for better 3.7 support</li> <li>drop generation of requirements.txt</li> </ul>"},{"location":"docs/CHANGELOG/#0140-2022-02-27","title":"0.14.0 (2022-02-27)","text":""},{"location":"docs/CHANGELOG/#feat_27","title":"Feat","text":"<ul> <li>use next-gen attrs syntax</li> <li>improve code tag regex</li> </ul>"},{"location":"docs/CHANGELOG/#fix_63","title":"Fix","text":"<ul> <li>correct type annotations</li> <li>undo silent nox step</li> <li>make coverage.json optional for task_doc</li> </ul>"},{"location":"docs/CHANGELOG/#0130-2022-02-23","title":"0.13.0 (2022-02-23)","text":""},{"location":"docs/CHANGELOG/#feat_28","title":"Feat","text":"<ul> <li>drop AppVeyor and update with copier</li> <li>#67: initialize GH CI Action</li> </ul>"},{"location":"docs/CHANGELOG/#fix_64","title":"Fix","text":"<ul> <li>drop appveyor from cz version files</li> <li>attempt to resolve UnicodeError on Windows action</li> <li>address more minor CI errors</li> <li>make yamllint more relaxed</li> <li>attempt to resolve CI issues</li> <li>remove diff-quality check until fixed for CI</li> <li>always use Interactive when using /dev/null</li> <li>run push hook stage and format subproject</li> <li>support Python 3.7.12</li> <li>don\u2019t suppress nox missing interpreter errors</li> </ul>"},{"location":"docs/CHANGELOG/#refactor_28","title":"Refactor","text":"<ul> <li>pre-commit can be run in one command</li> <li>resolve LGTM error</li> </ul>"},{"location":"docs/CHANGELOG/#0122-2022-02-21","title":"0.12.2 (2022-02-21)","text":""},{"location":"docs/CHANGELOG/#fix_65","title":"Fix","text":"<ul> <li>skip cassette files</li> </ul>"},{"location":"docs/CHANGELOG/#0121-2022-02-18","title":"0.12.1 (2022-02-18)","text":""},{"location":"docs/CHANGELOG/#fix_66","title":"Fix","text":"<ul> <li>always return 0 to complete format task</li> <li>use short paths when formatting Python code if available</li> </ul>"},{"location":"docs/CHANGELOG/#0120-2022-02-18","title":"0.12.0 (2022-02-18)","text":""},{"location":"docs/CHANGELOG/#feat_29","title":"Feat","text":"<ul> <li>initialize calcipy pre-commit hook</li> </ul>"},{"location":"docs/CHANGELOG/#0110-2022-02-18","title":"0.11.0 (2022-02-18)","text":""},{"location":"docs/CHANGELOG/#feat_30","title":"Feat","text":"<ul> <li>don\u2019t verify on cz_bump</li> </ul>"},{"location":"docs/CHANGELOG/#refactor_29","title":"Refactor","text":"<ul> <li>format fixes</li> <li>reduce noise on matched vulnerabilities</li> <li>make run_cmd public</li> <li>remove jsonlint action</li> <li>use beartype typing</li> <li>move pre-commit hooks into doit</li> </ul>"},{"location":"docs/CHANGELOG/#0100-2022-01-19","title":"0.10.0 (2022-01-19)","text":""},{"location":"docs/CHANGELOG/#feat_31","title":"Feat","text":"<ul> <li>create Github release if gh CLI is installed</li> </ul>"},{"location":"docs/CHANGELOG/#091-2022-01-17","title":"0.9.1 (2022-01-17)","text":""},{"location":"docs/CHANGELOG/#fix_67","title":"Fix","text":"<ul> <li>correct code-tag-collector for CLI use</li> <li>use target file\u2019s directory for git info</li> </ul>"},{"location":"docs/CHANGELOG/#refactor_30","title":"Refactor","text":"<ul> <li>drop template echo command</li> </ul>"},{"location":"docs/CHANGELOG/#090-2022-01-17","title":"0.9.0 (2022-01-17)","text":""},{"location":"docs/CHANGELOG/#feat_32","title":"Feat","text":"<ul> <li>show code tag summary as a table</li> <li>add date of last blame to code tag summary</li> <li>only link code tag from line number</li> <li>use revision-specific commit hashes</li> <li>add git links to code tag summary</li> <li>add python format pre-commit hook</li> <li>add support for TOML formatting with taplo</li> </ul>"},{"location":"docs/CHANGELOG/#fix_68","title":"Fix","text":"<ul> <li>handle \u201c0000..\u201d hash by using branch name</li> <li>handle non-git directories</li> <li>use correct line number for pinned hash</li> <li>handle git dependencies when checking stale packages</li> <li>use positional arguments for pre-commit commands</li> <li>correct syntax error in pre-commit command</li> </ul>"},{"location":"docs/CHANGELOG/#refactor_31","title":"Refactor","text":"<ul> <li>make slow python pre-commit push-only</li> <li>apply auto-format tools to test project</li> </ul>"},{"location":"docs/CHANGELOG/#082-2022-01-16","title":"0.8.2 (2022-01-16)","text":""},{"location":"docs/CHANGELOG/#fix_69","title":"Fix","text":"<ul> <li>drop all references to CalVer</li> </ul>"},{"location":"docs/CHANGELOG/#081-2022-01-16","title":"0.8.1 (2022-01-16)","text":""},{"location":"docs/CHANGELOG/#refactor_32","title":"Refactor","text":"<ul> <li>drop tag_format and use semver-only</li> </ul>"},{"location":"docs/CHANGELOG/#080-2022-01-16","title":"0.8.0 (2022-01-16)","text":""},{"location":"docs/CHANGELOG/#feat_33","title":"Feat","text":"<ul> <li>add pip-check for prettier outdated</li> <li>add cct command</li> <li>initialize the cement CLI application</li> <li>replace toml with tomli (#74)</li> <li>move wily to nox to reduce version conflicts</li> <li>add pip-audit</li> <li>add attrs_strict</li> <li>trim trailing whitespace from doc output</li> </ul>"},{"location":"docs/CHANGELOG/#fix_70","title":"Fix","text":"<ul> <li>bump year to 2022</li> <li>code_tag_collector must return doit-compliant value (None)</li> <li>only run pre-commit once</li> <li>Code Tag Collector cannot return a Path for DoIt tasks</li> <li>cct was not being created as an alias. Use full command</li> <li>wily</li> <li>properly exclude auto-generated doc files from code tag collector</li> <li>run ptw on whole directory, not just test files</li> <li>drop FYI and NOTE from Code Tags</li> </ul>"},{"location":"docs/CHANGELOG/#refactor_33","title":"Refactor","text":"<ul> <li>fix PY-W2000 by using all</li> <li>move file_search to top-level</li> <li>just run pre-commit install</li> <li>replace pass with \u2026 to keep it from being removed</li> </ul>"},{"location":"docs/CHANGELOG/#060rc2-2022-08-04","title":"0.6.0rc2 (2022-08-04)","text":""},{"location":"docs/CHANGELOG/#feat_34","title":"Feat","text":"<ul> <li>drop pytest-cov and run coverage directly</li> </ul>"},{"location":"docs/CHANGELOG/#fix_71","title":"Fix","text":"<ul> <li>swap pytest-watch(er) and other version bumps</li> <li>pin min-version (xenon) &amp; drop preconvert and flake8-mock</li> </ul>"},{"location":"docs/CHANGELOG/#060rc1-2022-08-04","title":"0.6.0rc1 (2022-08-04)","text":""},{"location":"docs/CHANGELOG/#fix_72","title":"Fix","text":"<ul> <li>bug in noxfile and code tags reading doc output files</li> </ul>"},{"location":"docs/CHANGELOG/#060rc0-2022-08-04","title":"0.6.0rc0 (2022-08-04)","text":""},{"location":"docs/CHANGELOG/#feat_35","title":"Feat","text":"<ul> <li>implement pylint rules</li> <li>add xenon (wraps radon)</li> <li>condense doit output in show_cmd</li> <li>initial semgrep implementation</li> <li>add code diagrams to doc-site</li> <li>add notes on wily and pylint</li> <li>add vulture</li> <li>diff-quality (lint)</li> <li>add it</li> <li>add output if no stale packages found</li> <li>add autoflake</li> </ul>"},{"location":"docs/CHANGELOG/#fix_73","title":"Fix","text":"<ul> <li>try to fix issues found with pytest_cache_assert</li> <li>drop unused Python2 demjson</li> <li>error in noxfile with poetry install</li> </ul>"},{"location":"docs/CHANGELOG/#refactor_34","title":"Refactor","text":"<ul> <li>decouple code tag collector from DG</li> <li>improve lint_py and the return type check is working</li> <li>zip release task</li> <li>cleanup a few minor errors</li> <li>use Interactive instead of Chrome</li> <li>apply fixes found from semgrep</li> <li>rename \u201cwrappers\u201d to \u201cdot_dict\u201d</li> <li>prevent mutation in DG.set_paths</li> </ul>"},{"location":"docs/CHANGELOG/#031rc0-2022-08-04","title":"0.3.1rc0 (2022-08-04)","text":""},{"location":"docs/CHANGELOG/#feat_36","title":"Feat","text":"<ul> <li>add task to zip artifacts from testing</li> <li>implement pandas.to_markdown for cov table</li> <li>#58: implement doc task and merge serve_docs</li> <li>make loading YAML files more generic</li> <li>create doit summary report</li> <li>add task to check license compliance</li> <li>move lock into doit tasks with file-dependency</li> <li>#38: re-implement coverage and write source</li> <li>drop subprocess-tee</li> <li>#36: WIP implementation of doc formatting</li> <li>implement publish tasks</li> <li>add pip outdated to stale check</li> <li>implement check for stale packages</li> <li>begin implementing stale package check</li> <li>smart default tasks for CI vs. local</li> <li>make nox imports optional</li> <li>try doit rather than CWD for initial path</li> <li>move noxfile into calcipy</li> <li>integrate nox to doit tasks</li> <li>WIP check for stale dep &amp; placeholder publish</li> <li>add additional configuration options</li> <li>add nox tasks</li> <li>add detect-secrets as pre-commit</li> <li>lint non-Python files</li> <li>read doc_dir from copier file</li> <li>make most settings configurable</li> <li>added dotted-dict wrapper of Box</li> <li>delete old files rather than full directory</li> <li>filter with glob-like ignore_patterns (2/2)</li> <li>add security check task</li> <li>add skip_phrase for code tag skipping</li> <li>beartype - roar!</li> <li>optionally clear log directory. Move file_helpers from base</li> <li>new tail-like reverse read_lines</li> <li>rename DIG to DG because doit is one word</li> <li>retrieve doc_dir from copier</li> <li>add log-setup fun for doit</li> <li>make (source) doc_dir configurable</li> <li>add sanitizer</li> <li>add pytype</li> <li>#36: start WIP ReadMeMachine</li> <li>#36: merge logic of markdown auto-formatters</li> <li>make code tag partially configurable</li> <li>move check_types into calcipy</li> <li>import templates from pdocs</li> </ul>"},{"location":"docs/CHANGELOG/#fix_74","title":"Fix","text":"<ul> <li>install full dev-dep as temporary nox workaround</li> <li>prevent committing changelog at base dir</li> <li>remove type_name from docstring for Google-style</li> <li>run pytest as a module for nox</li> <li>resolve doc_dir and style errors</li> <li>#58: remove None from pdocs output</li> <li>deconflict doit/nox</li> <li>repair failing test</li> <li>packaging needed keyword argument</li> <li>import and nox syntax errors</li> <li>run push pre-commit hooks with doit</li> <li>show log warning instead of error for stale dep</li> <li>improve output from check_stale</li> <li>errors caught in testing</li> <li>suppress beartype warnings for now</li> <li>drop logger middleware</li> <li>catch most calcipy section typos in toml</li> <li>remove check-secrets but keep snippets</li> <li>errors in ignore patterns</li> <li>import doit and expand nox test file</li> <li>skip tags must be at bottom</li> <li>reset Lint paths instead of extend</li> <li>use find_files for code tag summary</li> <li>don\u2019t manually add the package source dir</li> <li>lint typing and improve tests</li> <li>create separate file_search file to fix imports</li> <li>#51: replace glob with git-based file identification</li> <li>#53: Use Interact instead of LongRunning</li> <li>undo PEP585 for runtime beartype</li> <li>resolve file explosion from _find_files</li> <li>import the loguru Logger class safely</li> <li>additional problems found with mypy</li> <li>fix Doit Types and start beartype</li> <li>add no-verify to cl_bump</li> <li>correct isort configuration</li> <li>restore ReadMeMachine</li> <li>repair small bugs found in tests</li> <li>make transitions optional</li> </ul>"},{"location":"docs/CHANGELOG/#refactor_35","title":"Refactor","text":"<ul> <li>see if only one space is okay for skipcq</li> <li>fix anti-pattern with nox session decorator and arg</li> <li>improve code quality</li> <li>try to suppress deepsource errors</li> <li>address DeepSource issues</li> <li>split up set_paths from DG</li> <li>fix formatting error from pre-push</li> <li>rename doc_dir to doc_sub_dir for clarity</li> <li>apply 0.0.10 template</li> <li>move markdown to subdirectory for mkdocs</li> <li>move isort back to toml</li> <li>fix edge case in diff-cov failing and lint errors</li> <li>relicense with MIT for better compliance</li> <li>create generic doit-runner for noxfile</li> <li>fix some type issues</li> <li>minor fixes from AppVeyor testing</li> <li>#38: reduce complexity</li> <li>minor cleanup to docs</li> <li>apply pre-commit autoformat</li> <li>auto-drop skipcq comment</li> <li>format with VSCode</li> <li>fix lint errors in YAML files</li> <li>move find file paths to DG.meta</li> <li>move if_found_unlink to file_helpers</li> <li>fix formatting with pre-commit</li> <li>fix attribute names for path types (1/2)</li> <li>use calcipy:skip-tags</li> <li>fix minor code tags</li> <li>move __temp_chdir and improve fix_dg</li> <li>narrow type ignore use</li> <li>use path_file of file_path</li> <li>apply auto-fixes from pre-commit</li> <li>replace all glob-search with find_files</li> <li>remove find_files from code_tag script</li> <li>update isort for trailing-comma</li> <li>move excluded lint rules to DG</li> <li>apply PEP585 and add pre-commit hook</li> <li>fix capitalization for doit (one word, all lowercase)</li> <li>improve activate_debug_logging</li> <li>try to replace Any with BaseAction</li> <li>apply 0.0.2 minor fixes</li> <li>apply 0.0.1 version of calcipy_template</li> <li>minor renaming for _MarkdownMachine</li> <li>fix lock file and line length</li> <li>run more pre-commit checks on commit</li> <li>standardize on code tags and cleanup</li> </ul>"},{"location":"docs/CHANGELOG/#perf_2","title":"Perf","text":"<ul> <li>combine autopep8 paths into single command</li> <li>combine files for linting in one command</li> </ul>"},{"location":"docs/CHANGELOG/#020a0-2022-08-04","title":"0.2.0a0 (2022-08-04)","text":""},{"location":"docs/CHANGELOG/#feat_37","title":"Feat","text":"<ul> <li>push tags with no pre-commit hooks on pre</li> <li>use Interactive instead of \u2014yes for cl_bump*</li> <li>remove tag create/remove tasks</li> <li>new task cl_bump_pre</li> <li>replace MIT license with Unlicense</li> <li>use cz_legacy to generate changelogs</li> <li>remove task in anticipation of copier #26</li> <li>improve git pre-commit hooks</li> <li>new add-trailing-comma and pyupgrade hooks</li> <li>new mkdocs tasks and improvements</li> <li>new optional preconvert to serialize logs</li> <li>move logger configuration to log_helpers</li> <li>new cl_bump task. Closes #21</li> </ul>"},{"location":"docs/CHANGELOG/#fix_75","title":"Fix","text":"<ul> <li>do not pass filenames to pre-commit</li> <li>#43: add year to version for pseudo-calver</li> <li>prevent legacy types for new commits</li> <li>prevent circular import in doit_tasks</li> <li>extras need to be defined as optional</li> <li>rollback hook changes as they are not working</li> <li>install hooks for push</li> <li>LongRunning passed tasks that should fail</li> <li>yesqa removed necessary noqa (H303, etc)</li> <li>incorrect output paths</li> <li>reduce false tags found (WIP). Fix #24</li> <li>regression in lint_project tasks</li> <li>unincremented version in toml</li> </ul>"},{"location":"docs/CHANGELOG/#refactor_36","title":"Refactor","text":"<ul> <li>#22: restore MIT license</li> <li>copy+paste unmodified labels workflow</li> <li>update local TODO notes</li> <li>make toml an optional import</li> <li>rename path_source to path_project</li> <li>rename DIG_CWD as PATH_TEST_PROJECT</li> <li>rename test file</li> <li>doit is lowercase (CC looks like Dolt)</li> <li>replace sh with subprocess-tee</li> <li>reduce excess logging</li> <li>move DOIT_CONFIG to import</li> <li>move dig test to dig test file</li> </ul>"},{"location":"docs/CHANGELOG/#010-2020-12-19","title":"0.1.0 (2020-12-19)","text":""},{"location":"docs/CHANGELOG/#feat_38","title":"Feat","text":"<ul> <li>new write_cl task utilizing comittizen</li> <li>new task, pre_commit_hooks</li> </ul>"},{"location":"docs/CHANGELOG/#refactor_37","title":"Refactor","text":"<ul> <li>show STDOUT formatting in DoIt task</li> <li>remove archived code</li> </ul>"},{"location":"docs/CHANGELOG/#003-2020-12-10","title":"0.0.3 (2020-12-10)","text":""},{"location":"docs/CHANGELOG/#002-2020-11-14","title":"0.0.2 (2020-11-14)","text":""},{"location":"docs/CHANGELOG/#001-2020-11-14","title":"0.0.1 (2020-11-14)","text":""},{"location":"docs/CODE_TAG_SUMMARY/","title":"Collected Code Tags","text":"Type Comment Last Edit Source File PLANNED finish updating docstrings for Returns 2024-10-08 pyproject.toml:195 FIXME port back to corallium (temporarily extended to support uv and mise) 2025-11-02 src/calcipy/_corallium/file_helpers.py:60 FIXME port back to corallium (temporarily extended to support uv) 2025-11-02 src/calcipy/_corallium/file_helpers.py:85 PLANNED support completions 2026-01-18 src/calcipy/cli.py:103 PLANNED Alternatively define completions with <code>usage</code>: https://usage.jdx.dev/spec 2026-01-18 src/calcipy/cli.py:112 PLANNED Also see how https://docs.astral.sh/ruff/configuration/#shell-autocompletion 2026-01-18 src/calcipy/cli.py:114 TODO Performantly support either ./src/&lt;&gt;/ and ./&lt;&gt;/ 2025-11-02 src/calcipy/tasks/lint.py:33 <p>Found code tags for FIXME (2), TODO (1), PLANNED (4)</p>"},{"location":"docs/DEVELOPER_GUIDE/","title":"Developer Notes","text":""},{"location":"docs/DEVELOPER_GUIDE/#local-development","title":"Local Development","text":"<pre><code>git clone https://github.com/kyleking/calcipy.git\ncd calcipy\nuv sync --all-extras\n\n# See the available tasks\nuv run calcipy\n# Or use a local 'run' file (so that 'calcipy' can be extended)\n./run\n\n# Run the default task list (lint, auto-format, test coverage, etc.)\n./run main\n\n# Make code changes and run specific tasks as needed:\n./run lint.fix test\n\n# Install globally\nuv tool install \".[ddict,doc,experimental,lint,nox,tags,test,types]\" --force --editable\n</code></pre>"},{"location":"docs/DEVELOPER_GUIDE/#maintenance","title":"Maintenance","text":"<p>Dependency upgrades can be accomplished with:</p> <pre><code>uv lock --upgrade\nuv sync --all-extras\n</code></pre>"},{"location":"docs/DEVELOPER_GUIDE/#publishing","title":"Publishing","text":"<p>For testing, create an account on TestPyPi. Either set \u2018UV_PUBLISH_TOKEN\u2019 or input the generated token when prompted by the command.</p> <pre><code>./run main pack.publish --to-test-pypi\n</code></pre> <p>To publish to the real PyPi</p> <pre><code>./run release\n\n# Or for a pre-release\n./run release --suffix=rc\n</code></pre>"},{"location":"docs/DEVELOPER_GUIDE/#current-status","title":"Current Status","text":"File Statements Missing Excluded Coverage <code>src/calcipy/__init__.py</code> 4 0 0 100.0% <code>src/calcipy/_corallium/__init__.py</code> 2 0 0 100.0% <code>src/calcipy/_corallium/file_helpers.py</code> 44 0 0 95.0% <code>src/calcipy/_runtime_type_check_setup.py</code> 13 0 37 100.0% <code>src/calcipy/can_skip.py</code> 14 1 0 88.9% <code>src/calcipy/cli.py</code> 34 1 90 92.1% <code>src/calcipy/code_tag_collector/__init__.py</code> 5 2 0 60.0% <code>src/calcipy/code_tag_collector/_collector.py</code> 130 2 0 97.0% <code>src/calcipy/collection.py</code> 45 3 65 88.2% <code>src/calcipy/dot_dict/__init__.py</code> 5 2 0 60.0% <code>src/calcipy/dot_dict/_dot_dict.py</code> 6 0 0 100.0% <code>src/calcipy/experiments/__init__.py</code> 0 0 0 100.0% <code>src/calcipy/experiments/bump_programmatically.py</code> 22 16 0 25.0% <code>src/calcipy/experiments/check_duplicate_test_names.py</code> 33 0 2 98.2% <code>src/calcipy/experiments/sync_package_dependencies.py</code> 155 8 0 90.6% <code>src/calcipy/file_search.py</code> 32 0 2 100.0% <code>src/calcipy/invoke_helpers.py</code> 27 4 0 79.3% <code>src/calcipy/markdown_table.py</code> 28 4 0 80.0% <code>src/calcipy/md_writer/__init__.py</code> 5 2 0 60.0% <code>src/calcipy/md_writer/_writer.py</code> 93 6 0 89.7% <code>src/calcipy/noxfile/__init__.py</code> 5 2 0 60.0% <code>src/calcipy/noxfile/_noxfile.py</code> 12 0 46 100.0% <code>src/calcipy/scripts.py</code> 6 0 51 100.0% <code>src/calcipy/tasks/__init__.py</code> 0 0 0 100.0% <code>src/calcipy/tasks/all_tasks.py</code> 37 0 0 100.0% <code>src/calcipy/tasks/cl.py</code> 26 5 0 75.0% <code>src/calcipy/tasks/defaults.py</code> 17 0 0 94.7% <code>src/calcipy/tasks/doc.py</code> 29 0 8 100.0% <code>src/calcipy/tasks/executable_utils.py</code> 32 0 0 97.2% <code>src/calcipy/tasks/lint.py</code> 38 2 0 87.0% <code>src/calcipy/tasks/most_tasks.py</code> 29 0 0 100.0% <code>src/calcipy/tasks/nox.py</code> 8 0 0 100.0% <code>src/calcipy/tasks/pack.py</code> 53 10 3 76.2% <code>src/calcipy/tasks/tags.py</code> 18 1 0 90.0% <code>src/calcipy/tasks/test.py</code> 40 1 2 93.8% <code>src/calcipy/tasks/types.py</code> 11 0 0 100.0% Totals 1058 72 306 90.2% <p>Generated on: 2026-01-18</p>"},{"location":"docs/MIGRATION/","title":"Migration Guide","text":""},{"location":"docs/MIGRATION/#poetry-uv-migration-v6","title":"Poetry \u2192 UV Migration (v6)","text":"<p>Calcipy has migrated from Poetry to UV for package management and builds. This migration brings significant improvements in speed, simplicity, and modern Python packaging standards.</p>"},{"location":"docs/MIGRATION/#what-changed","title":"What Changed","text":"<p>Build System:</p> <ul> <li>\u2705 Migrated from <code>poetry-core</code> to <code>uv_build</code></li> <li>\u2705 Updated to modern PEP 621 <code>[project]</code> format</li> <li>\u2705 Using <code>[dependency-groups]</code> instead of <code>[tool.poetry.group]</code></li> <li>\u2705 Lock file changed from <code>poetry.lock</code> to <code>uv.lock</code></li> </ul> <p>CI/CD:</p> <ul> <li>\u2705 All workflows updated to use <code>uv</code> commands</li> <li>\u2705 GitHub Actions use <code>astral-sh/setup-uv@v5</code></li> <li>\u2705 Pre-commit hooks configured for <code>uv.lock</code></li> </ul> <p>Task Automation:</p> <ul> <li>\u2705 All tasks updated to use <code>uv run</code>, <code>uv sync</code>, <code>uv build</code>, <code>uv publish</code></li> <li>\u2705 Noxfile uses <code>venv_backend='uv'</code></li> </ul>"},{"location":"docs/MIGRATION/#migration-path-for-users","title":"Migration Path for Users","text":"<p>If you\u2019re using Calcipy in your project and want to migrate from Poetry to UV:</p>"},{"location":"docs/MIGRATION/#1-update-package-manager","title":"1. Update Package Manager","text":"<pre><code># Install uv\ncurl -LsSf https://astral.sh/uv/install.sh | sh\n\n# Or with brew\nbrew install uv\n</code></pre>"},{"location":"docs/MIGRATION/#2-convert-pyprojecttoml","title":"2. Convert pyproject.toml","text":"<p>Your <code>pyproject.toml</code> needs these changes:</p> <p>Before (Poetry):</p> <pre><code>[build-system]\nrequires = [\"poetry-core\"]\nbuild-backend = \"poetry.core.masonry.api\"\n\n[tool.poetry]\nname = \"my-package\"\nversion = \"1.0.0\"\ndependencies = { python = \"^3.9\" }\n\n[tool.poetry.group.dev.dependencies]\npytest = \"^7.0\"\n</code></pre> <p>After (UV):</p> <pre><code>[build-system]\nrequires = [\"uv_build&gt;=0.9.7\"]\nbuild-backend = \"uv_build\"\n\n[project]\nname = \"my-package\"\nversion = \"1.0.0\"\nrequires-python = \"&gt;=3.9\"\ndependencies = []\n\n[dependency-groups]\ndev = [\"pytest&gt;=7.0\"]\n</code></pre>"},{"location":"docs/MIGRATION/#3-migrate-lock-file","title":"3. Migrate Lock File","text":"<pre><code># Remove old poetry files\nrm poetry.lock\n\n# Create new uv lock file\nuv lock\n\n# Install dependencies\nuv sync --all-extras\n</code></pre>"},{"location":"docs/MIGRATION/#4-update-cicd","title":"4. Update CI/CD","text":"<p>Replace poetry commands with uv equivalents:</p> Poetry UV <code>poetry install</code> <code>uv sync --all-extras</code> <code>poetry add package</code> <code>uv add package</code> <code>poetry run command</code> <code>uv run command</code> <code>poetry build</code> <code>uv build</code> <code>poetry publish</code> <code>uv publish</code>"},{"location":"docs/MIGRATION/#5-update-github-actions","title":"5. Update GitHub Actions","text":"<pre><code># Before\n  - uses: actions/setup-python@v4\n    with:\n      python-version: '3.11'\n  - name: Install Poetry\n    run: pipx install poetry\n  - name: Install dependencies\n    run: poetry install\n\n# After\n  - uses: astral-sh/setup-uv@v5\n  - uses: actions/setup-python@v4\n    with:\n      python-version: '3.11'\n  - name: Install dependencies\n    run: uv sync --all-extras\n</code></pre>"},{"location":"docs/MIGRATION/#python-version-management-mise-uv-nox","title":"Python Version Management: mise + uv + nox","text":"<p>Calcipy uses a powerful combination of tools for managing Python versions:</p>"},{"location":"docs/MIGRATION/#mise-version-manager","title":"mise (Version Manager)","text":"<p>mise (formerly rtx) is a polyglot version manager that replaces <code>asdf</code>, <code>pyenv</code>, <code>nvm</code>, etc.</p> <p>Setup mise:</p> <pre><code># Install mise\ncurl https://mise.run | sh\n\n# Or with brew\nbrew install mise\n\n# Add to your shell (e.g., ~/.bashrc or ~/.zshrc)\necho 'eval \"$(mise activate bash)\"' &gt;&gt; ~/.bashrc\n</code></pre> <p>Configure Python versions:</p> <p>Create <code>mise.toml</code>:</p> <pre><code>[tools]\npython = [\"3.12.5\", \"3.9.13\"]\n\n[env]\n_.python.venv = { path = \".venv\" }\n</code></pre> <p>Use mise:</p> <pre><code># Install Python versions from mise.toml\nmise install\n\n# Verify installation\nmise which python\npython --version\n</code></pre>"},{"location":"docs/MIGRATION/#integration-with-nox","title":"Integration with nox","text":"<p>Calcipy\u2019s noxfile automatically reads Python versions from <code>mise.toml</code>:</p> <pre><code># From src/calcipy/noxfile/_noxfile.py\ndef _get_pythons() -&gt; List[str]:\n    \"\"\"Return python versions from supported configuration files.\"\"\"\n    return [*{str(ver) for ver in get_tool_versions()[\"python\"]}]\n\n\n@nox_session(venv_backend=\"uv\", python=_get_pythons(), reuse_venv=True)\ndef tests(session: NoxSession) -&gt; None:\n    \"\"\"Run tests for all specified Python versions.\"\"\"\n    ...\n</code></pre> <p>This reads from:</p> <ol> <li><code>mise.lock</code> (resolved versions)</li> <li><code>mise.toml</code> (specified versions)</li> <li><code>.tool-versions</code> (legacy asdf format)</li> </ol> <p>Run nox tests:</p> <pre><code># List available sessions\nuv run nox -l\n\n# Run tests for all Python versions\nuv run nox\n\n# Run tests for specific version\nuv run nox -s tests-3.12\n</code></pre>"},{"location":"docs/MIGRATION/#benefits-of-this-setup","title":"Benefits of this Setup","text":"<ol> <li>Version Consistency: Same Python versions for development, testing, and CI</li> <li>Multi-version Testing: nox automatically tests against all specified versions</li> <li>Fast Environment Creation: uv\u2019s venv backend is significantly faster than virtualenv</li> <li>Per-directory Versions: mise manages Python versions per project</li> <li>No Global Pollution: Each project has isolated Python environments</li> </ol>"},{"location":"docs/MIGRATION/#common-issues","title":"Common Issues","text":"<p>Problem: <code>nox</code> can\u2019t find Python version</p> <p>Solution: Ensure mise installed all versions:</p> <pre><code>mise install\nmise which python3.9\nmise which python3.12\n</code></pre> <p>Problem: Different versions between local and CI</p> <p>Solution: Use <code>mise.lock</code> to pin exact versions:</p> <pre><code>mise lock\ngit add mise.lock\n</code></pre>"},{"location":"docs/MIGRATION/#tool-vs-dependency-usage","title":"Tool vs Dependency Usage","text":"<p>With v6, Calcipy now has clear modes:</p> <p>Tool Mode (New in v6):</p> <pre><code># Minimal installation for linting and code analysis\nuv tool install 'calcipy[tool]'\ncalcipy-lint lint\ncalcipy-tags tags --base-dir=./my-project\n</code></pre> <p>Dependency Mode (Traditional):</p> <pre><code># Full development environment\nuv add --dev 'calcipy[dev]'\nuv run calcipy test\n</code></pre> <p>See README for detailed usage examples.</p>"},{"location":"docs/MIGRATION/#v5","title":"<code>v5</code>","text":"<p>The breaking changes include removing <code>stale</code> and <code>pack.check_license</code></p>"},{"location":"docs/MIGRATION/#speed-test","title":"Speed Test","text":"<p>After further reduction of dependencies, the CLI performance has continued to improve:</p> <pre><code>&gt; poetry run pip freeze | wc -l\n79\n</code></pre> <pre><code>&gt; hyperfine -m 20 --warmup 5 ./run\nBenchmark 1: ./run\nTime (mean \u00b1 \u03c3):     397.1 ms \u00b1  12.2 ms    [User: 268.4 ms, System: 57.0 ms]\nRange (min \u2026 max):   385.9 ms \u2026 421.5 ms    20 runs\n</code></pre>"},{"location":"docs/MIGRATION/#v4","title":"<code>v4</code>","text":"<p>The total number of dependencies was reduce even further by replacing flake8, isort, and other tooling with ruff; fewer mkdocs plugins; and fewer steps in the <code>main</code> run task to speed up normal usage.</p> <p>The only breaking change impacted <code>recipes</code> when <code>write_autoformatted_md_sections</code> was renamed to <code>write_template_formatted_md_sections</code>.</p>"},{"location":"docs/MIGRATION/#speed-test_1","title":"Speed Test","text":"<p>Following up on performance checks from the <code>v2</code> migration. The performance is comparable, but you will see savings in cache size and poetry install and when running <code>main</code> (<code>./run main</code> for Calcipy, currently takes ~20s)</p> <pre><code>&gt; hyperfine -m 20 --warmup 5 ./run\nBenchmark 1: ./run\nTime (mean \u00b1 \u03c3):     863.9 ms \u00b1  10.0 ms    [User: 550.7 ms, System: 102.3 ms]\nRange (min \u2026 max):   848.5 ms \u2026 885.3 ms    20 runs\n&gt; hyperfine -m 20 --warmup 5 \"poetry run calcipy-tags\"\nBenchmark 1: poetry run calcipy-tags\nTime (mean \u00b1 \u03c3):     770.5 ms \u00b1   5.7 ms    [User: 470.6 ms, System: 89.5 ms]\nRange (min \u2026 max):   760.1 ms \u2026 780.3 ms    20 runs\n</code></pre>"},{"location":"docs/MIGRATION/#v3","title":"<code>v3</code>","text":"<p>Replaced features from flake8 and plugins with corresponding checks from ruff, however both are still used in parallel.</p>"},{"location":"docs/MIGRATION/#v2","title":"<code>v2</code>","text":""},{"location":"docs/MIGRATION/#background","title":"Background","text":"<p>calcipy <code>v1</code> was a complete rewrite to switch from <code>doit</code> to <code>invoke</code>:</p> <ul> <li>with <code>invoke</code>, tasks can be run from anywhere without a <code>dodo.py</code> file</li> <li>tasks can be loaded lazily, which means that some performance gains are possible</li> <li>since there is no shared state file, tasks can be more easily run from pre-commit or generally in parallel</li> </ul> <p><code>doit</code> excelled at clearly delineated task output and run summary, but <code>invoke</code> isn\u2019t designed that way. I would like to improve the CLI output, but the benefits are worth this tradeoff.</p> <p>calcipy <code>v0</code> was built on doit and thus required a <code>dodo.py</code> file. I began adding <code>cement</code> to support a separate CLI for <code>calcipy</code> installed with <code>pipx</code> or <code>uvx</code>, but that required a lot of boilerplate code. With <code>doit</code>, the string command needed to be complete at task evaluation rather than runtime, so globbing files couldn\u2019t be resolved lazily.</p>"},{"location":"docs/MIGRATION/#migration","title":"Migration","text":"<p>While refactoring, the global configuration was mostly removed (<code>DoitGlobals</code>) along with a few tasks, but the main functionality is still present. Any project dependent on <code>calcipy</code> will need substantial changes. The easiest way to start migrating is to run <code>copier copy gh:KyleKing/calcipy_template .</code> for calcipy_template</p>"},{"location":"docs/MIGRATION/#speed-test_2","title":"Speed Test","text":"<p>It turns out that switching to <code>invoke</code> appears to have only saved 100ms</p> <pre><code>&gt; hyperfine -m 20 --warmup 5 ./run\nBenchmark 1: ./run\nTime (mean \u00b1 \u03c3):     863.9 ms \u00b1  10.0 ms    [User: 550.7 ms, System: 102.3 ms]\nRange (min \u2026 max):   848.5 ms \u2026 885.3 ms    20 runs\n&gt; hyperfine -m 20 --warmup 5 \"poetry run calcipy-tags\"\nBenchmark 1: poetry run calcipy-tags\nTime (mean \u00b1 \u03c3):     770.5 ms \u00b1   5.7 ms    [User: 470.6 ms, System: 89.5 ms]\nRange (min \u2026 max):   760.1 ms \u2026 780.3 ms    20 runs\n</code></pre> <pre><code>&gt; hyperfine -m 20 --warmup 5 \"poetry run python -c 'print(1)'\"\nBenchmark 1: poetry run python -c 'print(1)'\nTime (mean \u00b1 \u03c3):     377.9 ms \u00b1   3.1 ms    [User: 235.0 ms, System: 61.8 ms]\nRange (min \u2026 max):   372.7 ms \u2026 384.0 ms    20 runs\n&gt; hyperfine -m 20 --warmup 5 ./run\nBenchmark 1: ./run\nTime (mean \u00b1 \u03c3):     936.0 ms \u00b1  26.9 ms    [User: 1548.2 ms, System: 1687.7 ms]\nRange (min \u2026 max):   896.4 ms \u2026 1009.4 ms    20 runs\n&gt; hyperfine -m 20 --warmup 5 \"poetry run calcipy_tags\"\nBenchmark 1: poetry run calcipy_tags\nTime (mean \u00b1 \u03c3):     618.5 ms \u00b1  29.7 ms    [User: 1536.8 ms, System: 1066.2 ms]\nRange (min \u2026 max):   578.2 ms \u2026 694.9 ms    20 runs\n&gt; hyperfine -m 20 --warmup 5 \"poetry run doit list\"\nBenchmark 1: poetry run doit list\nTime (mean \u00b1 \u03c3):      1.002 s \u00b1  0.015 s    [User: 1.643 s, System: 1.682 s]\nRange (min \u2026 max):    0.974 s \u2026  1.023 s    20 runs\n</code></pre> <p>Additionally, the major decrease in dependencies will make install and update actions much faster. With the recommended extras installed, <code>calcipy-v1</code> has 124 dependencies (with all extras, 164) vs. <code>calcipy-v0</code>\u2019s 259. Counted with: <code>cat .calcipy_packaging.lock | jq 'keys' | wc -l</code></p>"},{"location":"docs/MIGRATION/#code-comparison","title":"Code Comparison","text":"<p>Accounting for code extracted to <code>corallium</code>, the overall number of lines decreased from 1772 to 1550 or only 12%, while increasing the CLI and <code>pre-commit</code> capabilities.</p> <pre><code>~/calcipy-v0 &gt; cloc calcipy\n-------------------------------------------------------------------------------\nLanguage                     files          blank        comment           code\n-------------------------------------------------------------------------------\nPython                          26            942           1075           1772\n-------------------------------------------------------------------------------\nSUM:                            26            942           1075           1772\n-------------------------------------------------------------------------------\n~/calcipy &gt; cloc calcipy\n-------------------------------------------------------------------------------\nLanguage                     files          blank        comment           code\n-------------------------------------------------------------------------------\nPython                          27            454            438           1185\n-------------------------------------------------------------------------------\nSUM:                            27            454            438           1185\n-------------------------------------------------------------------------------\n~/corallium &gt; cloc corallium\n-------------------------------------------------------------------------------\nLanguage                     files          blank        comment           code\n-------------------------------------------------------------------------------\nPython                           7            176            149            365\n-------------------------------------------------------------------------------\nSUM:                             7            176            149            365\n-------------------------------------------------------------------------------\n\n~/calcipy &gt; cloc tests\n-------------------------------------------------------------------------------\nLanguage                     files          blank        comment           code\n-------------------------------------------------------------------------------\nYAML                             2              0              0            580\nPython                          19            176             68            578\nJSON                             2              0              0             60\nMarkdown                         3              9             10              8\nText                             1              0              0              2\n-------------------------------------------------------------------------------\nSUM:                            27            185             78           1228\n-------------------------------------------------------------------------------\n~/calcipy-v0 &gt; cloc tests\n-------------------------------------------------------------------------------\nLanguage                     files          blank        comment           code\n-------------------------------------------------------------------------------\nJSON                            30              0              0            762\nYAML                             2              0              0            580\nPython                          24            314            186            578\nMarkdown                         3              9             10              8\n-------------------------------------------------------------------------------\nSUM:                            59            323            196           1928\n-------------------------------------------------------------------------------\n~/corallium &gt; cloc tests\n-------------------------------------------------------------------------------\nLanguage                     files          blank        comment           code\n-------------------------------------------------------------------------------\nPython                           6             36             15             69\nMarkdown                         1              1              0              2\n-------------------------------------------------------------------------------\nSUM:                             7             37             15             71\n-------------------------------------------------------------------------------\n</code></pre>"},{"location":"docs/MIGRATION/#doit-output","title":"doit output","text":"<p>I would like to restore the <code>doit</code> task summary, but <code>invoke</code>\u2019s architecture doesn\u2019t really make this possible. The <code>--continue</code> option was extremely useful, but that also might not be achievable.</p> <pre><code>&gt; poetry run doit run\n.  format_recipes &gt; [\n        Python: function format_recipes\n]\n\n2023-02-19 10:40:23.954 | INFO     | recipes.formatter:_write_toc:287 - Creating TOC for: ./recipes/docs/breakfast\n2023-02-19 10:40:23.957 | INFO     | recipes.formatter:_write_toc:287 - Creating TOC for: ./recipes/docs/rice\n2023-02-19 10:40:23.959 | INFO     | recipes.formatter:_write_toc:287 - Creating TOC for: ./recipes/docs/meals\n2023-02-19 10:40:23.964 | INFO     | recipes.formatter:_write_toc:287 - Creating TOC for: ./recipes/docs/seafood\n2023-02-19 10:40:23.967 | INFO     | recipes.formatter:_write_toc:287 - Creating TOC for: ./recipes/docs/pizza\n2023-02-19 10:40:23.969 | INFO     | recipes.formatter:_write_toc:287 - Creating TOC for: ./recipes/docs/poultry\n2023-02-19 10:40:23.972 | INFO     | recipes.formatter:_write_toc:287 - Creating TOC for: ./recipes/docs/sushi\n.  collect_code_tags &gt; [\n        Python: function write_code_tag_file\n]\n\n.  cl_write &gt; [\n        Cmd: poetry run cz changelog\n        Python: function _move_cl\n]\n\n.  lock &gt; [\n        Cmd: poetry lock --no-update\n]\n\nResolving dependencies...\n.  nox_coverage &gt; [\n        Cmd: poetry run nox --error-on-missing-interpreters --session coverage\n]\n\n...\n\ndoit&gt; Summary:\ndoit&gt; format_recipes was successful\ndoit&gt; collect_code_tags was successful\ndoit&gt; cl_write was successful\ndoit&gt; lock was successful\ndoit&gt; nox_coverage was successful\ndoit&gt; auto_format was successful\ndoit&gt; document was successful\ndoit&gt; check_for_stale_packages was successful\ndoit&gt; pre_commit_hooks failed (red)\ndoit&gt; lint_project was not run\ndoit&gt; static_checks was not run\ndoit&gt; security_checks was not run\ndoit&gt; check_types was not run\n</code></pre>"},{"location":"docs/STYLE_GUIDE/","title":"Personal Style Guides","text":""},{"location":"docs/STYLE_GUIDE/#git","title":"Git","text":"<p>We use Commitizen to manage both an auto-generated Changelog and incrementing the release version following semver. For both of these automated outputs to work well, please follow the Conventional Commits style, which is described in more detail below.</p>"},{"location":"docs/STYLE_GUIDE/#commitizen-types-and-scopes","title":"Commitizen Types and Scopes","text":"<p><code>type(scope): description</code></p> <ul> <li>Types<ul> <li>fix: A bug fix</li> <li>feat: A new feature</li> <li>docs: Documentation-only changes (code comments, separate docs)</li> <li>style: Changes that do not affect the meaning of the code (white-space, formatting, missing semi-colons)</li> <li>perf: A code change that improves performance</li> <li>refactor: A change to production code that is not a fix, feat, or perf</li> <li>test: Adding missing or correcting existing tests</li> <li>build: Changes that affect the build system or external dependencies</li> <li>ci: Changes to our CI configuration files and scripts</li> <li>A <code>!</code> can be used to indicate a breaking change (<code>refactor!: drop support for Node 6</code>)</li> <li>SemVer Rules<ul> <li>Based on commit type, the version will be auto-incremented: <code>fix : PATCH // feat : MINOR // BREAKING CHANGE : MAJOR</code></li> </ul> </li> </ul> </li> <li>Scopes<ul> <li>A Class, File name, Issue Number, other appropriate noun. As examples: <code>build(uv): bump requests to v3</code> or <code>style(#32): add missing type annotations</code></li> </ul> </li> <li>Tips<ul> <li>What if a commit fits multiple types?<ul> <li>Go back and make multiple commits whenever possible. Part of the benefit of Conventional Commits is the focus on more organized and intentional changes</li> </ul> </li> <li>Use <code>git rebase -i</code> to fix commit names prior to merging if incorrect types/scopes are used</li> </ul> </li> </ul>"},{"location":"docs/STYLE_GUIDE/#git-description-guidelines","title":"Git Description Guidelines","text":"<ul> <li>Commit message guidelines<ul> <li>Full sentence with verb (lowercase) and concise description. Below are modified examples for Conventional Commits<ul> <li><code>fix(roles): bug in admin role permissions</code></li> <li><code>feat(ui): implement new button design</code></li> <li><code>build(pip): upgrade package to remove vulnerabilities</code></li> <li><code>refactor: file structure to improve code readability</code></li> <li><code>perf(cli): rewrite methods</code></li> <li><code>feat(api): endpoints to implement new customer dashboard</code></li> </ul> </li> </ul> </li> <li>How to write a good commit message<ul> <li>A diff will tell you what changed, but only the commit message can properly tell you why.</li> <li>Keep in mind: This has all been said before.</li> <li>From the seven rules of a great Git commit message:<ul> <li>(2) Try for 50 characters, but consider 72 the hard limit</li> <li>(7) Use the body to explain what and why vs. how</li> </ul> </li> </ul> </li> </ul>"},{"location":"docs/STYLE_GUIDE/#issue-labels-and-milestones","title":"Issue Labels and Milestones","text":"<p>Personal Guide</p> <ul> <li>For Issue Labels, see [labels.yml][labels]</li> <li>Milestones<ul> <li>Current Tasks: main milestone (name could change based on a specific project, sprint, or month)</li> <li>Next Tasks</li> <li>Blue Sky</li> </ul> </li> </ul> Research <ul> <li>[Sane GitHub Labels](https://medium.com/@dave_lunny/sane-github-labels-c5d2e6004b63) and see [sensible-github-labels](https://github.com/Relequestual/sensible-github-labels) for full descriptions of each</li> <ul> <li>\u201cit is much more helpful to see the status and type of all issues at a glance.\u201d</li> <li>One of each:</li> <ul> <li>Status: \u2026</li> <ul><li>Abandoned, Accepted, Available, Blocked, Completed, In Progress, On Hold, Pending, Review Needed, Revision Needed</li></ul> <li>Type: \u2026</li> <ul><li>Bug, Maintenance, Question, Enhancement</li></ul> <li>Priority: \u2026</li> <ul><li>Critical, High, Medium, Low</li></ul> </ul> </ul> <li>[Britecharts](https://britecharts.github.io/britecharts/github-labels.html)</li> <ul> <li>Status: \u2026</li> <ul> <li>On Review \u2013 Request that we are pondering if including or not</li> <li>Needs Reproducing \u2013 For bugs that need to be reproduced in order to get fixed</li> <li>Needs Design \u2013 Feature that needs a design</li> <li>Ready to Go \u2013 Issue that has been defined and is ready to get started with</li> <li>In Progress \u2013 Issue that is being worked on right now.</li> <li>Completed \u2013 Finished feature or fix</li> </ul> <li>Type: \u2026</li> <ul> <li>Bug \u2013 An unexpected problem or unintended behavior</li> <li>Feature \u2013 A new feature request</li> <li>Maintenance \u2013 A regular maintenance chore or task, including refactors, build system, CI, performance improvements</li> <li>Documentation \u2013 A documentation improvement task</li> <li>Question \u2013 An issue or PR that needs more information or a user question</li> </ul> <li>Not Included</li> <ul> <li>Priority: They would add complexity and overhead due to the discussions, but could help with the roadmap</li> <li>Technology Labels: It can create too much overhead, as properly tag with technologies all the issues could be time consuming</li> </ul> </ul> </ul> <li>[Ian Bicking Blog](https://www.ianbicking.org/blog/2014/03/use-github-issues-to-organize-a-project.html)</li> <ul> <li>Milestone Overview</li> <ul> <li>What are we doing right now?</li> <li>What aren\u2019t we doing right now?</li> <ul> <li>2a. Stuff we\u2019ll probably do soon</li> <li>2b. Stuff we probably won\u2019t do soon</li> </ul> <li>What aren\u2019t we sure about?</li> </ul> <li>Milestone Descriptions</li> <ul> <li>Stuff we are doing right now: this is the \u201cmain\u201d milestone. We give it a name (like Alpha 2 or Strawberry Rhubarb Pie) and we write down what we are trying to accomplish with the milestone. We create a new milestone when we are ready for the next iteration.</li> <li>Stuff we\u2019ll probably do soon: this is a standing \u201c**Next Tasks**\u201d milestone. We never change or rename this milestone.</li> <ul><li>We use a permanent \u201cNext Tasks\u201d milestone (as opposed to renaming it to \u201cAlpha 3\u201d or actual-next-iteration milestone) because we don\u2019t want to presume or default to including something in the real next iteration. When we\u2019re ready to start planning the next iteration we\u2019ll create a new milestone, and only deliberately move things into that milestone.</li></ul> <li>Stuff we probably won\u2019t do soon: this is a standing \u201c**Blue Sky**\u201d milestone. We refer to these tickets and sometimes look through them, but they are easy to ignore, somewhat intentionally ignored.</li> <li>What aren\u2019t we sure about?: issues with no milestone.</li> </ul> <li>Label: \u201cNeeds Discussion\u201d - (addressed in a triage meeting) - use liberally for either big or small tickets</li> <li>\u201cIt\u2019s better to give people more power: it\u2019s actually helpful if people can overreach because it is an opportunity to establish where the limits really are and what purpose those limits have\u201d</li> </ul>"},{"location":"docs/STYLE_GUIDE/#external-links","title":"External Links","text":"<ul> <li>[Git: The Simple Guide][simple_git]</li> <li>[Commit Messages][gcmsg] and why use the present tense</li> <li>GitHub\u2019s Advice on GitHub</li> <li>Most Comprehensive Guide</li> <li>Git Pro Book (free)<ul> <li>Bash Tab-Completion Snippet</li> </ul> </li> </ul>"},{"location":"docs/STYLE_GUIDE/#python","title":"Python","text":"<ul> <li>Python Style Guides<ul> <li>https://gist.github.com/sloria/7001839</li> <li>http://www.nilunder.com/blog/2013/08/03/pythonic-sensibilities/</li> <li>https://innoq.github.io/cards42org_en/</li> <li>https://docs.openstack.org/hacking/latest/user/hacking.html#styleguide</li> <li>https://www.python.org/doc/humor/</li> <li>https://docs.python-guide.org/writing/reading/</li> <li>https://realpython.com/python-refactoring/</li> </ul> </li> </ul>"},{"location":"docs/STYLE_GUIDE/#adrs","title":"ADRs","text":"<ul> <li>ADR Approaches<ul> <li>https://infraeng.dev/tech-spec Template (And associated review) vs. https://infraeng.dev/decision-log/</li> <li>Y-Statements: abbreviated shorthand. Add this as a one-line decision option if a full ADR isn\u2019t needed (or when referencing an existing ADR) (https://scribe.rip/@docsoc/y-statements-10eb07b5a177)</li> <li>https://adr.github.io</li> <li>More formal implementation of ADRs (MADR) that this is based on. Template: https://github.com/adr/madr/blob/97fb8edec60b8dc70b8166ef62de34c4e26b46c0/template/adr-template.md</li> <li>https://github.com/ethereum/EIPs/blob/confluenceuser/EIPS/eip-5639.md</li> </ul> </li> <li>Examples<ul> <li>https://github.com/pawamoy/mkdocstrings/issues/28</li> <li>https://github.com/arachne-framework/architecture/blob/060a956277a5ad71df93da49fee52463408841af/adr-002-configuration.md</li> <li>https://github.com/arachne-framework/architecture/tree/060a956277a5ad71df93da49fee52463408841af</li> <li>https://github.com/ethereum/EIPs/blob/confluenceuser/EIPS/eip-1010.md</li> <li>https://docs-v1.prefect.io/core/pins/pin-01-introduce-pins.html</li> <li>https://peps.python.org/pep-0387/</li> <li>https://github.com/AICoE/aicoe-ci/blob/39de02af86a0d1f9dcd395fa88b858f1c6880411/docs/adr/0000-use-markdown-architectural-decision-records.md</li> <li>And many others!</li> </ul> </li> </ul> <p>&lt;\u2013 Links \u2013&gt;</p>"},{"location":"docs/adr/","title":"Architecture Decision Records","text":"<p>This directory contains Architecture Decision Records (ADRs) for calcipy - documents that capture important architectural decisions along with their context and consequences.</p>"},{"location":"docs/adr/#what-is-an-adr","title":"What is an ADR?","text":"<p>An Architecture Decision Record (ADR) is a document that captures an architecturally significant decision, the context in which it was made, the alternatives considered, and the consequences of the choice.</p>"},{"location":"docs/adr/#why-adrs","title":"Why ADRs?","text":"<p>ADRs help us:</p> <ul> <li>Preserve context: Future maintainers understand why decisions were made</li> <li>Prevent re-litigation: Avoid repeatedly discussing settled questions</li> <li>Improve onboarding: New contributors learn architectural thinking</li> <li>Support evolution: Understand when to revisit decisions</li> <li>Build consensus: Structured discussion of trade-offs</li> </ul>"},{"location":"docs/adr/#adr-index","title":"ADR Index","text":""},{"location":"docs/adr/#meta","title":"Meta","text":"<ul> <li>ADR-0001 - Record Architecture Decisions<ul> <li>Status: accepted</li> <li>Establishes the ADR practice for calcipy using MADR format</li> </ul> </li> </ul>"},{"location":"docs/adr/#task-automation-and-development-workflow","title":"Task Automation and Development Workflow","text":"<ul> <li> <p>ADR-0002 - Use Invoke for Task Automation</p> <ul> <li>Status: accepted</li> <li>Chose invoke over Make, Just, Taskipy, and other task runners</li> </ul> </li> <li> <p>ADR-0007 - Provide Multiple CLI Entry Points</p> <ul> <li>Status: accepted</li> <li>Multiple specialized commands (calcipy-lint, calcipy-test, etc.) vs single monolithic CLI</li> </ul> </li> </ul>"},{"location":"docs/adr/#code-quality-tools","title":"Code Quality Tools","text":"<ul> <li> <p>ADR-0003 - Use Ruff for Linting and Formatting</p> <ul> <li>Status: accepted</li> <li>Migrated from flake8 + pylint + black + isort to unified ruff</li> </ul> </li> <li> <p>ADR-0005 - Use Beartype for Runtime Type Checking</p> <ul> <li>Status: accepted</li> <li>Runtime type validation with near-zero overhead</li> </ul> </li> </ul>"},{"location":"docs/adr/#packaging-and-dependencies","title":"Packaging and Dependencies","text":"<ul> <li> <p>ADR-0004 - Switch to uv for Dependency Management</p> <ul> <li>Status: accepted</li> <li>Recent migration from Poetry to uv (October 2024)</li> </ul> </li> <li> <p>ADR-0006 - Use Hatchling for Build Backend</p> <ul> <li>Status: accepted</li> <li>PyPA-maintained build backend for creating wheels and sdists</li> </ul> </li> </ul>"},{"location":"docs/adr/#status-definitions","title":"Status Definitions","text":"<ul> <li>Proposed: Under discussion, not yet decided</li> <li>Accepted: Approved and currently in use</li> <li>Deprecated: No longer recommended but still in use</li> <li>Superseded: Replaced by a newer decision (linked)</li> <li>Rejected: Considered but not approved</li> </ul>"},{"location":"docs/adr/#how-to-contribute","title":"How to Contribute","text":"<p>When making significant architectural decisions:</p> <ol> <li>Copy the MADR template from the research directory</li> <li>Number sequentially: Use the next available ADR number (0008, 0009, etc.)</li> <li>Fill in all sections: Context, drivers, options, outcome, consequences</li> <li>Be honest about trade-offs: Include both positive and negative consequences</li> <li>Submit for review: Include ADR in your pull request</li> <li>Update this index: Add your ADR to the appropriate category</li> </ol>"},{"location":"docs/adr/#what-warrants-an-adr","title":"What Warrants an ADR?","text":"<p>Create an ADR when a decision:</p> <ul> <li>Has architectural significance: Affects system structure, patterns, or standards</li> <li>Is difficult to reverse: High cost or risk to change later</li> <li>Involves trade-offs: Multiple valid options with different pros/cons</li> <li>Affects multiple components: Cross-cutting concerns</li> <li>Needs to be remembered: Important context for future maintainers</li> </ul>"},{"location":"docs/adr/#what-does-not-warrant-an-adr","title":"What Does NOT Warrant an ADR?","text":"<p>Skip ADRs for:</p> <ul> <li>Implementation details: Specific code patterns (unless establishing standard)</li> <li>Trivial decisions: Easily reversible, low impact</li> <li>Temporary solutions: Known to be short-term</li> <li>Individual preferences: Style choices without broader impact</li> </ul>"},{"location":"docs/adr/#template","title":"Template","text":"<p>For new ADRs, use the MADR (Full) template:</p> <pre><code># [Short Title]\n\n* Status: [proposed | accepted | rejected | deprecated | superseded]\n* Date: YYYY-MM-DD\n* Deciders: [list everyone involved]\n* Consulted: [list anyone consulted]\n* Informed: [list anyone informed]\n\n## Context and Problem Statement\n\n[Describe the context and problem]\n\n## Decision Drivers\n\n* [decision driver 1]\n* [decision driver 2]\n* ...\n\n## Considered Options\n\n* [option 1]\n* [option 2]\n* [option 3]\n* ...\n\n## Decision Outcome\n\nChosen option: \"[option 1]\", because [justification].\n\n### Consequences\n\n* Good, because [positive consequence]\n* Bad, because [negative consequence]\n* ...\n\n## Pros and Cons of the Options\n\n### [option 1]\n\n* Good, because [argument 1]\n* Bad, because [argument 2]\n* ...\n\n### [option 2]\n\n* Good, because [argument 1]\n* Bad, because [argument 2]\n* ...\n\n## Validation\n\n[How will we validate this decision?]\n\nWe will revisit this decision if:\n\n* [condition 1]\n* [condition 2]\n\n## More Information\n\n[Links, references, etc.]\n</code></pre>"},{"location":"docs/adr/#research-and-guidance","title":"Research and Guidance","text":"<p>For detailed guidance on ADR approaches and best practices, see:</p> <ul> <li>ADR Research - Comprehensive research on different ADR approaches</li> <li>AI Guidance for ADRs - Guide for writing and reviewing ADRs</li> <li>Comparison and Recommendations - Comparison table and recommendations</li> </ul>"},{"location":"docs/adr/#additional-resources","title":"Additional Resources","text":"<ul> <li>MADR Documentation: https://adr.github.io/madr/</li> <li>Michael Nygard\u2019s ADR: http://thinkrelevance.com/blog/2011/11/15/documenting-architecture-decisions</li> <li>ADR GitHub Organization: https://github.com/adr</li> </ul>"},{"location":"docs/adr/0001-record-architecture-decisions/","title":"Record Architecture Decisions","text":"<ul> <li>Status: accepted</li> <li>Date: 2024-11-20</li> <li>Deciders: KyleKing</li> <li>Consulted: ADR research documentation</li> <li>Informed: calcipy users and contributors</li> </ul>"},{"location":"docs/adr/0001-record-architecture-decisions/#context-and-problem-statement","title":"Context and Problem Statement","text":"<p>calcipy is a Python package that implements best practices for development tooling. As the project evolved over 5+ major versions with multiple breaking changes (switch to uv, removal of pylint, migration away from pydantic), the rationale behind architectural decisions was often lost to time or buried in commit messages and issue discussions.</p> <p>New contributors and future maintainers need to understand why certain technical choices were made to avoid:</p> <ul> <li>Re-litigating settled decisions</li> <li>Making changes that contradict established architecture</li> <li>Breaking compatibility without understanding the original constraints</li> <li>Losing institutional knowledge when team members move on</li> </ul> <p>How should we capture and preserve the context, reasoning, and consequences of significant architectural decisions?</p>"},{"location":"docs/adr/0001-record-architecture-decisions/#decision-drivers","title":"Decision Drivers","text":"<ul> <li>Solo maintainer project with occasional contributors - need to preserve decision context</li> <li>5+ years of evolution with breaking changes - history is important</li> <li>Small project scope - overhead must be minimal</li> <li>Documentation already uses Markdown and MkDocs - should integrate naturally</li> <li>Decisions span technology choices, architecture patterns, and process - need flexible format</li> <li>Want to encourage documentation without creating barriers - must be lightweight</li> </ul>"},{"location":"docs/adr/0001-record-architecture-decisions/#considered-options","title":"Considered Options","text":"<ul> <li>Y-Statements in README - Single sentence format for each decision</li> <li>MADR (Minimal) - Lightweight Markdown ADR template</li> <li>MADR (Full) - Comprehensive Markdown ADR template with all sections</li> <li>No formal ADRs - Continue documenting in commit messages and issues</li> </ul>"},{"location":"docs/adr/0001-record-architecture-decisions/#decision-outcome","title":"Decision Outcome","text":"<p>Chosen option: \u201cMADR (Full) with flexible application\u201d, because it provides enough structure to capture important context while remaining lightweight enough for a small project. We will use the full template for significant architectural decisions but allow abbreviated versions for simpler choices.</p> <p>The full MADR template provides:</p> <ul> <li>Structured sections that prompt thorough thinking</li> <li>Flexibility to omit optional sections when not applicable</li> <li>Compatibility with existing Markdown/MkDocs documentation</li> <li>No special tooling required beyond a text editor</li> <li>Status tracking for evolving decisions</li> <li>Industry-standard format with good examples available</li> </ul>"},{"location":"docs/adr/0001-record-architecture-decisions/#consequences","title":"Consequences","text":"<ul> <li>Good, because future maintainers will understand decision rationale</li> <li>Good, because new contributors can learn architectural thinking</li> <li>Good, because we avoid re-discussing settled questions</li> <li>Good, because Markdown integrates with existing documentation workflow</li> <li>Good, because MADR is lightweight enough to not slow development</li> <li>Bad, because requires discipline to create ADRs for significant decisions</li> <li>Bad, because adds one more document type to maintain</li> <li>Neutral, because we may need to backfill ADRs for existing major decisions</li> </ul>"},{"location":"docs/adr/0001-record-architecture-decisions/#validation","title":"Validation","text":"<p>We will validate this decision by:</p> <ul> <li>Creating ADRs for at least 5 significant existing architectural decisions within 1 month</li> <li>Including ADR creation as part of PR review for future architectural changes</li> <li>Reviewing ADR usefulness after 6 months of practice</li> </ul> <p>We will revisit this decision if:</p> <ul> <li>ADRs are not being created (too much overhead)</li> <li>ADRs are not being referenced (not useful enough)</li> <li>Project grows to multiple active maintainers (may need different approach)</li> </ul>"},{"location":"docs/adr/0001-record-architecture-decisions/#more-information","title":"More Information","text":"<ul> <li>ADR research documentation: <code>/docs/docs/adr-research/</code></li> <li>MADR template: https://adr.github.io/madr/</li> <li>Michael Nygard\u2019s original ADR proposal: http://thinkrelevance.com/blog/2011/11/15/documenting-architecture-decisions</li> </ul>"},{"location":"docs/adr/0002-use-invoke-for-task-automation/","title":"Use Invoke for Task Automation","text":"<ul> <li>Status: accepted</li> <li>Date: 2019-01-15 (backfilled 2024-11-20)</li> <li>Deciders: KyleKing</li> <li>Informed: calcipy users</li> </ul>"},{"location":"docs/adr/0002-use-invoke-for-task-automation/#context-and-problem-statement","title":"Context and Problem Statement","text":"<p>calcipy aims to provide a unified interface for common development tasks (linting, testing, documentation generation, publishing, etc.). The package needs a task automation framework that allows:</p> <ul> <li>Defining tasks in Python rather than shell scripts</li> <li>Organizing tasks into namespaces (lint.fix, test.watch, pack.publish, etc.)</li> <li>Accepting command-line arguments with type safety</li> <li>Composing tasks (calling other tasks from within a task)</li> <li>Providing help documentation automatically</li> <li>Working cross-platform (Windows, macOS, Linux)</li> </ul> <p>The chosen solution must be stable, well-maintained, and familiar to Python developers.</p>"},{"location":"docs/adr/0002-use-invoke-for-task-automation/#decision-drivers","title":"Decision Drivers","text":"<ul> <li>Must support Python-based task definition (not shell-based like Make)</li> <li>Must provide argument parsing and help generation</li> <li>Must support task namespacing for organization</li> <li>Must work cross-platform without modification</li> <li>Prefer established, maintained tools over experimental ones</li> <li>Must integrate well with Python packaging ecosystem</li> <li>Should be familiar to Python developers (lower learning curve)</li> </ul>"},{"location":"docs/adr/0002-use-invoke-for-task-automation/#considered-options","title":"Considered Options","text":"<ul> <li>Invoke - Python task execution library inspired by Fabric</li> <li>Make - Traditional Unix build automation tool</li> <li>Just - Modern command runner written in Rust</li> <li>Taskipy - Simple task runner for Python projects</li> <li>Poe the Poet - Task runner for Python projects using pyproject.toml</li> <li>Nox - Python test automation tool (considered but better suited for test matrices)</li> </ul>"},{"location":"docs/adr/0002-use-invoke-for-task-automation/#decision-outcome","title":"Decision Outcome","text":"<p>Chosen option: \u201cInvoke\u201d, because it provides the most comprehensive Python-native task automation with excellent support for complex workflows, argument handling, and task composition.</p> <p>Invoke offers:</p> <ul> <li>Pure Python task definition with decorators</li> <li>Rich argument parsing with type annotations</li> <li>Namespace organization (e.g., <code>lint.fix</code>, <code>test.watch</code>)</li> <li>Task composition and calling</li> <li>Automatic help generation from docstrings</li> <li>Cross-platform compatibility</li> <li>Stable, mature project with active maintenance</li> <li>Integration with Fabric for remote execution (future possibility)</li> </ul>"},{"location":"docs/adr/0002-use-invoke-for-task-automation/#consequences","title":"Consequences","text":"<ul> <li>Good, because tasks are defined in Python with full access to the ecosystem</li> <li>Good, because namespace organization keeps related tasks grouped</li> <li>Good, because argument parsing is built-in with good defaults</li> <li>Good, because mature project (10+ years) reduces risk of abandonment</li> <li>Good, because familiar to many Python developers (from Fabric)</li> <li>Good, because task composition enables building complex workflows</li> <li>Bad, because adds invoke as a required dependency</li> <li>Bad, because invoke has slower release cycle (minor inconvenience)</li> <li>Bad, because some users may prefer simpler shell-based tools</li> <li>Neutral, because requires learning invoke API for task authors</li> <li>Neutral, because <code>invoke</code> command conflicts with system tools on some systems (mitigated with <code>./run</code> wrapper)</li> </ul>"},{"location":"docs/adr/0002-use-invoke-for-task-automation/#pros-and-cons-of-the-options","title":"Pros and Cons of the Options","text":""},{"location":"docs/adr/0002-use-invoke-for-task-automation/#invoke","title":"Invoke","text":"<ul> <li>Good, because pure Python with access to full ecosystem</li> <li>Good, because excellent namespace organization</li> <li>Good, because mature and well-tested (10+ years)</li> <li>Good, because comprehensive argument parsing</li> <li>Good, because task composition support</li> <li>Good, because cross-platform by design</li> <li>Bad, because slower release cadence than newer tools</li> <li>Bad, because requires Python knowledge (not simple shell scripts)</li> <li>Neutral, because more complex than minimal task runners</li> </ul>"},{"location":"docs/adr/0002-use-invoke-for-task-automation/#make","title":"Make","text":"<ul> <li>Good, because ubiquitous and familiar to many developers</li> <li>Good, because no additional dependencies</li> <li>Good, because simple for basic tasks</li> <li>Bad, because shell-based limits type safety</li> <li>Bad, because poor cross-platform support (Windows issues)</li> <li>Bad, because namespace organization is limited</li> <li>Bad, because argument passing is cumbersome</li> <li>Bad, because difficult to compose complex workflows</li> </ul>"},{"location":"docs/adr/0002-use-invoke-for-task-automation/#just","title":"Just","text":"<ul> <li>Good, because modern with good ergonomics</li> <li>Good, because simpler syntax than Make</li> <li>Good, because better cross-platform support than Make</li> <li>Bad, because requires Rust installation</li> <li>Bad, because another language/tool to learn</li> <li>Bad, because less integration with Python ecosystem</li> <li>Bad, because newer tool with smaller community</li> </ul>"},{"location":"docs/adr/0002-use-invoke-for-task-automation/#taskipy","title":"Taskipy","text":"<ul> <li>Good, because simple and Python-based</li> <li>Good, because uses pyproject.toml (no extra files)</li> <li>Bad, because limited namespace support</li> <li>Bad, because minimal argument parsing</li> <li>Bad, because no task composition</li> <li>Bad, because too simple for calcipy\u2019s needs</li> </ul>"},{"location":"docs/adr/0002-use-invoke-for-task-automation/#poe-the-poet","title":"Poe the Poet","text":"<ul> <li>Good, because uses pyproject.toml configuration</li> <li>Good, because growing community adoption</li> <li>Bad, because configuration-heavy rather than code-based</li> <li>Bad, because less flexible than programmatic approach</li> <li>Bad, because newer tool (less proven)</li> </ul>"},{"location":"docs/adr/0002-use-invoke-for-task-automation/#nox","title":"Nox","text":"<ul> <li>Good, because excellent for test matrices</li> <li>Good, because well-maintained by Python community</li> <li>Bad, because designed for testing, not general task automation</li> <li>Bad, because session-based model doesn\u2019t fit all use cases</li> <li>Neutral, because we do use nox for test matrices (complementary)</li> </ul>"},{"location":"docs/adr/0002-use-invoke-for-task-automation/#validation","title":"Validation","text":"<p>This decision has been validated through:</p> <ul> <li>5+ years of production use without major issues</li> <li>Successful support for complex workflows (linting, testing, publishing)</li> <li>Positive feedback from users on task organization</li> <li>Ability to evolve tasks without breaking changes</li> </ul> <p>We would revisit this decision if:</p> <ul> <li>Invoke becomes unmaintained or deprecated</li> <li>Python gains native task runner in standard library</li> <li>A significantly better Python task framework emerges</li> <li>Cross-platform issues become problematic</li> </ul>"},{"location":"docs/adr/0002-use-invoke-for-task-automation/#more-information","title":"More Information","text":"<ul> <li>Invoke documentation: https://www.pyinvoke.org/</li> <li>calcipy task definitions: <code>/calcipy/tasks/</code></li> <li>Example usage: <code>/docs/docs/DEVELOPER_GUIDE.md</code></li> </ul>"},{"location":"docs/adr/0003-use-ruff-for-linting-and-formatting/","title":"Use Ruff for Linting and Formatting","text":"<ul> <li>Status: accepted</li> <li>Date: 2023-03-15 (backfilled 2024-11-20)</li> <li>Deciders: KyleKing</li> <li>Informed: calcipy users</li> </ul>"},{"location":"docs/adr/0003-use-ruff-for-linting-and-formatting/#context-and-problem-statement","title":"Context and Problem Statement","text":"<p>calcipy bundles linting and code formatting tools to enforce code quality standards across projects. Historically, this required running multiple tools:</p> <ul> <li>flake8 for linting</li> <li>pylint for additional linting</li> <li>black for code formatting</li> <li>isort for import sorting</li> <li>pyupgrade for syntax modernization</li> <li>autoflake for removing unused imports</li> </ul> <p>Each tool had its own configuration, ran independently, and required separate dependencies. The combined execution time was significant (30-60 seconds for medium projects), and configuration conflicts between tools were common.</p> <p>How can we provide comprehensive linting and formatting while minimizing dependencies, execution time, and configuration complexity?</p>"},{"location":"docs/adr/0003-use-ruff-for-linting-and-formatting/#decision-drivers","title":"Decision Drivers","text":"<ul> <li>Must provide comprehensive linting coverage (equivalent to flake8 + pylint + others)</li> <li>Must support auto-fixing for common issues</li> <li>Must be fast (developers won\u2019t use slow tools)</li> <li>Must minimize dependency count (calcipy aims to be lightweight)</li> <li>Must have good configuration story (ideally in pyproject.toml)</li> <li>Must be actively maintained with regular updates</li> <li>Prefer Rust-based tools for performance (already proven with ripgrep, fd, etc.)</li> <li>Must support all rules needed for calcipy\u2019s strict quality standards</li> </ul>"},{"location":"docs/adr/0003-use-ruff-for-linting-and-formatting/#considered-options","title":"Considered Options","text":"<ul> <li>Ruff - Fast Python linter and formatter written in Rust</li> <li>Flake8 + Black + isort - Traditional combination of tools</li> <li>Pylint + Black + isort - More comprehensive linting</li> <li>Flake8 + Pylint + Black + isort - Maximum coverage</li> <li>Pylama - Meta-linter that wraps multiple tools</li> </ul>"},{"location":"docs/adr/0003-use-ruff-for-linting-and-formatting/#decision-outcome","title":"Decision Outcome","text":"<p>Chosen option: \u201cRuff\u201d, because it consolidates multiple tools into one fast executable while providing equivalent or better linting coverage. The performance improvement (10-100x faster) and simplified configuration justify the switch from the traditional toolchain.</p> <p>Ruff provides:</p> <ul> <li>All flake8 plugins (100+) in a single tool</li> <li>Import sorting (isort compatibility)</li> <li>Auto-fixing for hundreds of rules</li> <li>Pyupgrade and autoflake functionality built-in</li> <li>Extremely fast execution (written in Rust)</li> <li>Single configuration in pyproject.toml</li> <li>Active development and frequent releases</li> <li>Growing adoption in the Python community</li> </ul> <p>We later removed pylint entirely (v4.1.0) after validating that ruff\u2019s coverage was sufficient.</p>"},{"location":"docs/adr/0003-use-ruff-for-linting-and-formatting/#consequences","title":"Consequences","text":"<ul> <li>Good, because linting is 10-100x faster than previous toolchain</li> <li>Good, because single tool simplifies dependency management</li> <li>Good, because unified configuration in pyproject.toml</li> <li>Good, because auto-fixing is comprehensive and reliable</li> <li>Good, because active development with frequent rule additions</li> <li>Good, because growing community adoption reduces risk</li> <li>Good, because can remove black, isort, flake8, pylint, pyupgrade, autoflake dependencies</li> <li>Bad, because requires Rust toolchain for building from source (rare case)</li> <li>Bad, because some pylint rules not yet available (gap closing)</li> <li>Bad, because newer tool (less battle-tested than flake8/pylint)</li> <li>Neutral, because different rule codes require configuration migration</li> <li>Neutral, because some unique pylint patterns need refactoring</li> </ul>"},{"location":"docs/adr/0003-use-ruff-for-linting-and-formatting/#pros-and-cons-of-the-options","title":"Pros and Cons of the Options","text":""},{"location":"docs/adr/0003-use-ruff-for-linting-and-formatting/#ruff","title":"Ruff","text":"<ul> <li>Good, because extremely fast (10-100x faster than flake8)</li> <li>Good, because consolidates 8+ tools into one</li> <li>Good, because comprehensive rule coverage (1000+ rules)</li> <li>Good, because excellent auto-fixing support</li> <li>Good, because single configuration location</li> <li>Good, because active development (weekly releases)</li> <li>Good, because reducing to single tool simplifies maintenance</li> <li>Bad, because newer tool (less mature than flake8/pylint)</li> <li>Bad, because some niche pylint rules not available</li> <li>Bad, because requires configuration migration</li> </ul>"},{"location":"docs/adr/0003-use-ruff-for-linting-and-formatting/#flake8-black-isort","title":"Flake8 + Black + isort","text":"<ul> <li>Good, because mature, well-tested tools</li> <li>Good, because widespread adoption</li> <li>Good, because stable APIs and configurations</li> <li>Bad, because slow execution (multiple processes)</li> <li>Bad, because multiple configurations to maintain</li> <li>Bad, because dependency on 10+ packages (flake8 plugins)</li> <li>Bad, because configuration conflicts between tools</li> <li>Bad, because limited auto-fixing</li> </ul>"},{"location":"docs/adr/0003-use-ruff-for-linting-and-formatting/#pylint-black-isort","title":"Pylint + Black + isort","text":"<ul> <li>Good, because comprehensive linting (pylint finds complex issues)</li> <li>Good, because mature tools</li> <li>Bad, because very slow (pylint is slowest major linter)</li> <li>Bad, because pylint produces many false positives</li> <li>Bad, because configuration is complex</li> <li>Bad, because multiple tools to run and configure</li> <li>Bad, because poor auto-fixing support</li> </ul>"},{"location":"docs/adr/0003-use-ruff-for-linting-and-formatting/#flake8-pylint-black-isort","title":"Flake8 + Pylint + Black + isort","text":"<ul> <li>Good, because maximum linting coverage</li> <li>Good, because catches most issues</li> <li>Bad, because extremely slow (60+ seconds for medium projects)</li> <li>Bad, because highest dependency count</li> <li>Bad, because most complex configuration</li> <li>Bad, because overlapping/conflicting rules</li> <li>Bad, because diminishing returns for marginal coverage increase</li> </ul>"},{"location":"docs/adr/0003-use-ruff-for-linting-and-formatting/#pylama","title":"Pylama","text":"<ul> <li>Good, because consolidates multiple linters</li> <li>Good, because single configuration</li> <li>Bad, because just a wrapper (doesn\u2019t improve speed)</li> <li>Bad, because adds abstraction layer</li> <li>Bad, because limited compared to individual tools</li> <li>Bad, because less active development</li> </ul>"},{"location":"docs/adr/0003-use-ruff-for-linting-and-formatting/#validation","title":"Validation","text":"<p>This decision was validated through:</p> <ul> <li>Migration completed in v3.x without major issues</li> <li>Linting time reduced from ~45 seconds to ~2 seconds</li> <li>Removal of 8+ tool dependencies</li> <li>Successful use in production for 2+ years</li> <li>Pylint removed in v4.1.0 without negative impact</li> <li>Community adoption of ruff has grown significantly</li> </ul> <p>We would revisit this decision if:</p> <ul> <li>Ruff development slows or project becomes unmaintained</li> <li>Critical pylint functionality is needed that ruff can\u2019t provide</li> <li>Performance degrades significantly</li> <li>Configuration becomes too complex</li> </ul>"},{"location":"docs/adr/0003-use-ruff-for-linting-and-formatting/#more-information","title":"More Information","text":"<ul> <li>Ruff documentation: https://docs.astral.sh/ruff/</li> <li>Ruff configuration: <code>/pyproject.toml</code> under <code>[tool.ruff]</code></li> <li>Changelog entry removing pylint: v4.1.0</li> <li>Performance benchmarks: https://github.com/astral-sh/ruff#benchmarks</li> </ul>"},{"location":"docs/adr/0004-switch-to-uv-for-dependency-management/","title":"Switch to uv for Dependency Management","text":"<ul> <li>Status: accepted</li> <li>Date: 2024-10-31</li> <li>Deciders: KyleKing</li> <li>Informed: calcipy users and contributors</li> </ul>"},{"location":"docs/adr/0004-switch-to-uv-for-dependency-management/#context-and-problem-statement","title":"Context and Problem Statement","text":"<p>calcipy used Poetry for dependency management and packaging since its inception. Poetry provided:</p> <ul> <li>Unified dependency resolution</li> <li>Lock file for reproducible builds</li> <li>Publishing to PyPI</li> <li>Virtual environment management</li> <li>pyproject.toml-based configuration</li> </ul> <p>However, Poetry had several pain points:</p> <ul> <li>Slow dependency resolution (minutes for complex projects)</li> <li>Slow installation compared to pip</li> <li>Occasional resolution failures requiring manual intervention</li> <li>Large dependency footprint (Poetry itself has many dependencies)</li> <li>Complex codebase making contributions difficult</li> <li>Unclear roadmap and governance</li> </ul> <p>Meanwhile, uv emerged in 2024 as a new Rust-based Python package manager from Astral (creators of ruff). Early benchmarks showed 10-100x speed improvements over Poetry/pip.</p> <p>Should we migrate from Poetry to uv for dependency management?</p>"},{"location":"docs/adr/0004-switch-to-uv-for-dependency-management/#decision-drivers","title":"Decision Drivers","text":"<ul> <li>Must support pyproject.toml standards (PEP 621)</li> <li>Must provide lock files for reproducible builds</li> <li>Must support publishing to PyPI</li> <li>Must be fast (developers value quick iteration)</li> <li>Must be reliable (dependency resolution must work)</li> <li>Must support optional dependencies (calcipy has many extras)</li> <li>Must support Python 3.9+ (our minimum version)</li> <li>Prefer tools from Astral (already using ruff successfully)</li> <li>Prefer Rust-based tools for performance</li> <li>Must have active development and community support</li> </ul>"},{"location":"docs/adr/0004-switch-to-uv-for-dependency-management/#considered-options","title":"Considered Options","text":"<ul> <li>uv - Extremely fast Python package manager and resolver</li> <li>Poetry - Current solution, established tool</li> <li>PDM - Modern Python package manager</li> <li>pip-tools - Minimalist approach using pip + requirements files</li> <li>Pipenv - Official PyPA package manager</li> </ul>"},{"location":"docs/adr/0004-switch-to-uv-for-dependency-management/#decision-outcome","title":"Decision Outcome","text":"<p>Chosen option: \u201cuv\u201d, because it provides 10-100x faster dependency resolution and installation while maintaining compatibility with pyproject.toml standards. The migration was straightforward, and early experience showed significant quality-of-life improvements.</p> <p>uv provides:</p> <ul> <li>Extremely fast dependency resolution (seconds vs. minutes)</li> <li>Fast package installation (Rust-based)</li> <li>Drop-in pip replacement with <code>uv pip</code></li> <li>Lock file support with <code>uv lock</code></li> <li>Tool management with <code>uv tool</code></li> <li>Virtual environment management</li> <li>Publishing support</li> <li>pyproject.toml compatibility (PEP 621)</li> <li>Active development from Astral (ruff creators)</li> <li>Growing community adoption</li> </ul> <p>The migration required updating CI/CD workflows and documentation but was completed successfully in PR #134.</p>"},{"location":"docs/adr/0004-switch-to-uv-for-dependency-management/#consequences","title":"Consequences","text":"<ul> <li>Good, because dependency resolution is 10-100x faster</li> <li>Good, because installation is significantly faster</li> <li>Good, because same team as ruff (proven track record)</li> <li>Good, because active development with frequent improvements</li> <li>Good, because simplified workflow (uv tool install, uv run, etc.)</li> <li>Good, because better integration with modern Python packaging standards</li> <li>Good, because can remove Poetry dependency</li> <li>Good, because uvx provides better tool isolation than pipx</li> <li>Bad, because newer tool (less mature than Poetry)</li> <li>Bad, because some Poetry-specific features may be missing</li> <li>Bad, because migration required updating all documentation and CI/CD</li> <li>Bad, because smaller community (though growing rapidly)</li> <li>Neutral, because different CLI commands require learning</li> <li>Neutral, because lock file format differs from poetry.lock</li> </ul>"},{"location":"docs/adr/0004-switch-to-uv-for-dependency-management/#pros-and-cons-of-the-options","title":"Pros and Cons of the Options","text":""},{"location":"docs/adr/0004-switch-to-uv-for-dependency-management/#uv","title":"uv","text":"<ul> <li>Good, because 10-100x faster than Poetry/pip</li> <li>Good, because written in Rust (performance and reliability)</li> <li>Good, because created by Astral (ruff team)</li> <li>Good, because active development (weekly releases)</li> <li>Good, because growing community adoption</li> <li>Good, because excellent tool management (uv tool)</li> <li>Good, because unified interface (uv pip, uv run, uv lock, etc.)</li> <li>Good, because better adherence to Python packaging standards</li> <li>Bad, because newer tool (released 2024)</li> <li>Bad, because smaller ecosystem than Poetry</li> <li>Bad, because some advanced Poetry features may be missing</li> <li>Neutral, because requires migration effort</li> </ul>"},{"location":"docs/adr/0004-switch-to-uv-for-dependency-management/#poetry-keep-current","title":"Poetry (Keep Current)","text":"<ul> <li>Good, because established and mature</li> <li>Good, because large community and ecosystem</li> <li>Good, because comprehensive documentation</li> <li>Good, because known quantity (no migration risk)</li> <li>Bad, because slow dependency resolution</li> <li>Bad, because slow installation</li> <li>Bad, because occasional resolution failures</li> <li>Bad, because large dependency footprint</li> <li>Bad, because complex codebase</li> <li>Bad, because unclear governance and roadmap</li> </ul>"},{"location":"docs/adr/0004-switch-to-uv-for-dependency-management/#pdm","title":"PDM","text":"<ul> <li>Good, because modern and PEP 621 compliant</li> <li>Good, because faster than Poetry</li> <li>Good, because active development</li> <li>Bad, because slower than uv</li> <li>Bad, because smaller community than Poetry</li> <li>Bad, because still requires migration effort</li> <li>Neutral, because different ecosystem</li> </ul>"},{"location":"docs/adr/0004-switch-to-uv-for-dependency-management/#pip-tools","title":"pip-tools","text":"<ul> <li>Good, because minimal and simple</li> <li>Good, because uses standard pip</li> <li>Good, because widely understood</li> <li>Bad, because lacks integrated workflow</li> <li>Bad, because no pyproject.toml support for dependencies</li> <li>Bad, because manual lock file management</li> <li>Bad, because no publishing support</li> <li>Bad, because slower than uv</li> </ul>"},{"location":"docs/adr/0004-switch-to-uv-for-dependency-management/#pipenv","title":"Pipenv","text":"<ul> <li>Good, because official PyPA project</li> <li>Good, because mature and stable</li> <li>Bad, because slow performance</li> <li>Bad, because development has slowed</li> <li>Bad, because community migrating to other tools</li> <li>Bad, because uses Pipfile instead of pyproject.toml</li> <li>Bad, because frequent resolution issues</li> </ul>"},{"location":"docs/adr/0004-switch-to-uv-for-dependency-management/#validation","title":"Validation","text":"<p>We will validate this decision through:</p> <ul> <li>Successful CI/CD builds with uv for 6 months</li> <li>Dependency resolution speed monitoring (should remain fast)</li> <li>Community feedback on installation experience</li> <li>Tracking uv development and stability</li> </ul> <p>We will revisit this decision if:</p> <ul> <li>uv development slows or project becomes unmaintained</li> <li>Critical features are missing that Poetry provided</li> <li>Dependency resolution becomes unreliable</li> <li>Performance degrades significantly</li> <li>Python packaging ecosystem standardizes on different tool</li> </ul>"},{"location":"docs/adr/0004-switch-to-uv-for-dependency-management/#more-information","title":"More Information","text":"<ul> <li>Migration PR: #134</li> <li>uv documentation: https://docs.astral.sh/uv/</li> <li>Changelog entry: v4.2.0 \u201cfeat: switch to uv\u201d</li> <li>Developer guide: <code>/docs/docs/DEVELOPER_GUIDE.md</code></li> <li>pyproject.toml configuration: <code>/pyproject.toml</code></li> </ul>"},{"location":"docs/adr/0005-use-beartype-for-runtime-type-checking/","title":"Use Beartype for Runtime Type Checking","text":"<ul> <li>Status: accepted</li> <li>Date: 2022-06-10 (backfilled 2024-11-20)</li> <li>Deciders: KyleKing</li> <li>Informed: calcipy users</li> </ul>"},{"location":"docs/adr/0005-use-beartype-for-runtime-type-checking/#context-and-problem-statement","title":"Context and Problem Statement","text":"<p>calcipy uses type hints extensively for static type checking with mypy and pyright. While static type checking catches many issues during development, runtime type errors can still occur:</p> <ul> <li>Incorrect types passed from user configuration</li> <li>Data from external sources (files, APIs) not matching expected types</li> <li>Dynamic code paths that static checkers can\u2019t analyze</li> <li>Integration points between typed and untyped code</li> </ul> <p>Python\u2019s type hints are not enforced at runtime by default - they\u2019re just metadata. While this provides flexibility, it means type violations can go undetected until they cause crashes or data corruption.</p> <p>How can we catch type errors at runtime during development and testing without significant performance overhead in production?</p>"},{"location":"docs/adr/0005-use-beartype-for-runtime-type-checking/#decision-drivers","title":"Decision Drivers","text":"<ul> <li>Must validate type hints at runtime during development</li> <li>Must have minimal performance overhead in production</li> <li>Must work with existing Python type hints (no custom syntax)</li> <li>Must support complex types (generics, unions, protocols, etc.)</li> <li>Must be configurable (can be disabled in production)</li> <li>Must integrate well with existing codebase</li> <li>Prefer zero-configuration approach when possible</li> <li>Must not break existing functionality</li> </ul>"},{"location":"docs/adr/0005-use-beartype-for-runtime-type-checking/#considered-options","title":"Considered Options","text":"<ul> <li>Beartype - Near-zero overhead runtime type checker</li> <li>Typeguard - Comprehensive runtime type checker</li> <li>Pydantic - Data validation library with runtime checking</li> <li>No runtime checking - Rely on static type checking only</li> <li>Manual assertions - Add isinstance checks manually</li> </ul>"},{"location":"docs/adr/0005-use-beartype-for-runtime-type-checking/#decision-outcome","title":"Decision Outcome","text":"<p>Chosen option: \u201cBeartype\u201d, because it provides near-zero overhead runtime type checking that can be enabled globally via environment variable without modifying code. The \u201cclaw\u201d feature allows automatic decoration of all functions in the package.</p> <p>Beartype provides:</p> <ul> <li>Automatic type checking via decorator</li> <li>Near-zero overhead (O(1) complexity per call)</li> <li>Global package-wide enforcement with beartype_this_package</li> <li>Environment variable configuration (RUNTIME_TYPE_CHECKING_MODE)</li> <li>Support for all Python type hints (including complex types)</li> <li>Can be configured as warning or error</li> <li>No changes to function signatures required</li> <li>Excellent error messages for debugging</li> </ul> <p>The implementation in <code>_runtime_type_check_setup.py</code> allows runtime checking to be enabled/disabled via environment variable without code changes.</p>"},{"location":"docs/adr/0005-use-beartype-for-runtime-type-checking/#consequences","title":"Consequences","text":"<ul> <li>Good, because catches type errors at runtime during development</li> <li>Good, because minimal performance overhead (O(1) per call)</li> <li>Good, because no code changes required (automatic via claw)</li> <li>Good, because configurable via environment variable</li> <li>Good, because excellent error messages aid debugging</li> <li>Good, because supports all Python type hints including complex types</li> <li>Good, because can be enabled only in development/testing</li> <li>Good, because active development and maintenance</li> <li>Bad, because adds beartype as required dependency</li> <li>Bad, because runtime overhead exists even if minimal</li> <li>Bad, because can produce verbose error messages</li> <li>Bad, because may catch issues in third-party code (noise)</li> <li>Neutral, because requires environment variable to enable</li> <li>Neutral, because different from Pydantic\u2019s validation approach</li> </ul>"},{"location":"docs/adr/0005-use-beartype-for-runtime-type-checking/#pros-and-cons-of-the-options","title":"Pros and Cons of the Options","text":""},{"location":"docs/adr/0005-use-beartype-for-runtime-type-checking/#beartype","title":"Beartype","text":"<ul> <li>Good, because near-zero overhead (O(1) complexity)</li> <li>Good, because automatic decoration via claw</li> <li>Good, because supports all Python type hints</li> <li>Good, because configurable severity (error/warning)</li> <li>Good, because excellent error messages</li> <li>Good, because no code changes required</li> <li>Good, because active development</li> <li>Bad, because adds dependency</li> <li>Bad, because requires understanding of configuration</li> <li>Neutral, because opt-in via environment variable</li> </ul>"},{"location":"docs/adr/0005-use-beartype-for-runtime-type-checking/#typeguard","title":"Typeguard","text":"<ul> <li>Good, because comprehensive type checking</li> <li>Good, because detailed validation</li> <li>Good, because supports complex types</li> <li>Bad, because higher performance overhead</li> <li>Bad, because more invasive (requires decorators on each function)</li> <li>Bad, because can be slow for complex types</li> <li>Bad, because less flexible configuration</li> <li>Neutral, because more thorough but slower</li> </ul>"},{"location":"docs/adr/0005-use-beartype-for-runtime-type-checking/#pydantic","title":"Pydantic","text":"<ul> <li>Good, because comprehensive validation framework</li> <li>Good, because excellent for data models</li> <li>Good, because runtime validation built-in</li> <li>Bad, because requires defining data models (not automatic)</li> <li>Bad, because heavier weight solution</li> <li>Bad, because performance overhead</li> <li>Bad, because code changes required (define models)</li> <li>Neutral, because better for data validation than function signatures</li> <li>Neutral, because we already use Pydantic for data models (complementary use)</li> </ul>"},{"location":"docs/adr/0005-use-beartype-for-runtime-type-checking/#no-runtime-checking","title":"No Runtime Checking","text":"<ul> <li>Good, because no performance overhead</li> <li>Good, because no additional dependencies</li> <li>Good, because simpler system</li> <li>Bad, because type errors only caught by static checkers</li> <li>Bad, because runtime type violations go undetected</li> <li>Bad, because harder to debug dynamic code paths</li> <li>Bad, because external data not validated</li> </ul>"},{"location":"docs/adr/0005-use-beartype-for-runtime-type-checking/#manual-assertions","title":"Manual Assertions","text":"<ul> <li>Good, because full control over validation</li> <li>Good, because no dependencies</li> <li>Good, because clear and explicit</li> <li>Bad, because requires manual work for every function</li> <li>Bad, because easy to forget or skip</li> <li>Bad, because verbose and repetitive</li> <li>Bad, because doesn\u2019t use type hints (redundant code)</li> <li>Bad, because maintenance burden</li> </ul>"},{"location":"docs/adr/0005-use-beartype-for-runtime-type-checking/#validation","title":"Validation","text":"<p>This decision was validated through:</p> <ul> <li>Successfully catching type errors in development that static checkers missed</li> <li>Negligible performance impact in benchmarks</li> <li>Clean integration with existing codebase</li> <li>Positive experience with configuration flexibility</li> <li>No production issues from runtime checking</li> </ul> <p>We would revisit this decision if:</p> <ul> <li>Performance overhead becomes problematic</li> <li>Beartype development slows or project becomes unmaintained</li> <li>Python adds native runtime type checking</li> <li>Better alternatives emerge with similar benefits</li> </ul>"},{"location":"docs/adr/0005-use-beartype-for-runtime-type-checking/#more-information","title":"More Information","text":"<ul> <li>Beartype documentation: https://beartype.readthedocs.io/</li> <li>Implementation: <code>/calcipy/_runtime_type_check_setup.py</code></li> <li>Configuration: Set <code>RUNTIME_TYPE_CHECKING_MODE=ERROR</code> or <code>WARNING</code></li> <li>pyproject.toml dependency: beartype &gt;=0.19.0</li> </ul>"},{"location":"docs/adr/0006-use-hatchling-for-build-backend/","title":"Use Hatchling for Build Backend","text":"<ul> <li>Status: accepted</li> <li>Date: 2024-01-20 (backfilled 2024-11-20)</li> <li>Deciders: KyleKing</li> <li>Informed: calcipy users</li> </ul>"},{"location":"docs/adr/0006-use-hatchling-for-build-backend/#context-and-problem-statement","title":"Context and Problem Statement","text":"<p>Python packages require a build backend to create distributable artifacts (wheels and sdists). When using Poetry for dependency management, the natural choice was poetry-core as the build backend. However, with the migration to uv (ADR-0004), we had the opportunity to reconsider the build backend choice.</p> <p>The build backend should:</p> <ul> <li>Create standards-compliant packages (PEP 517/PEP 660)</li> <li>Support modern pyproject.toml configuration (PEP 621)</li> <li>Be fast and reliable</li> <li>Have minimal dependencies</li> <li>Be actively maintained</li> <li>Work well with uv and modern Python tooling</li> </ul>"},{"location":"docs/adr/0006-use-hatchling-for-build-backend/#decision-drivers","title":"Decision Drivers","text":"<ul> <li>Must comply with PEP 517 (build backend interface)</li> <li>Must support PEP 621 (pyproject.toml metadata)</li> <li>Must produce valid wheels and sdists</li> <li>Must be fast (affects CI/CD and local builds)</li> <li>Must have minimal dependencies</li> <li>Must be actively maintained</li> <li>Prefer tools that integrate well with modern ecosystem</li> <li>Prefer simpler over more complex solutions</li> </ul>"},{"location":"docs/adr/0006-use-hatchling-for-build-backend/#considered-options","title":"Considered Options","text":"<ul> <li>Hatchling - Modern, extensible build backend from PyPA</li> <li>Poetry-core - Build backend from Poetry project</li> <li>Setuptools - Traditional Python build system</li> <li>Flit-core - Minimal build backend</li> <li>PDM-backend - Build backend from PDM project</li> </ul>"},{"location":"docs/adr/0006-use-hatchling-for-build-backend/#decision-outcome","title":"Decision Outcome","text":"<p>Chosen option: \u201cHatchling\u201d, because it provides a modern, standards-compliant build backend with excellent performance and minimal dependencies. As a PyPA (Python Packaging Authority) project, it has strong governance and aligns with Python\u2019s packaging future.</p> <p>Hatchling provides:</p> <ul> <li>Full PEP 517 and PEP 621 compliance</li> <li>Fast build times</li> <li>Minimal dependencies (just hatchling)</li> <li>Extensible plugin system</li> <li>Active maintenance by PyPA</li> <li>Clear and simple configuration</li> <li>Good integration with modern tools (uv, pip, etc.)</li> </ul> <p>The migration from poetry-core to hatchling was straightforward, requiring only updating the <code>[build-system]</code> section in pyproject.toml.</p>"},{"location":"docs/adr/0006-use-hatchling-for-build-backend/#consequences","title":"Consequences","text":"<ul> <li>Good, because PyPA-maintained project (official Python packaging)</li> <li>Good, because fast builds with minimal overhead</li> <li>Good, because minimal dependencies reduce supply chain risk</li> <li>Good, because full PEP 621 support enables modern features</li> <li>Good, because extensible via plugins if needed</li> <li>Good, because simple configuration</li> <li>Good, because works seamlessly with uv</li> <li>Bad, because different from Poetry users\u2019 expectations (if they know Poetry)</li> <li>Neutral, because required migration from poetry-core (one-time effort)</li> <li>Neutral, because plugin system unused (we have simple needs)</li> </ul>"},{"location":"docs/adr/0006-use-hatchling-for-build-backend/#pros-and-cons-of-the-options","title":"Pros and Cons of the Options","text":""},{"location":"docs/adr/0006-use-hatchling-for-build-backend/#hatchling","title":"Hatchling","text":"<ul> <li>Good, because PyPA-maintained (official Python packaging authority)</li> <li>Good, because fast build performance</li> <li>Good, because minimal dependencies</li> <li>Good, because modern PEP 621 support</li> <li>Good, because extensible plugin system</li> <li>Good, because active development</li> <li>Good, because clear documentation</li> <li>Neutral, because newer than setuptools (but still mature)</li> </ul>"},{"location":"docs/adr/0006-use-hatchling-for-build-backend/#poetry-core","title":"Poetry-core","text":"<ul> <li>Good, because familiar if using Poetry</li> <li>Good, because mature and stable</li> <li>Good, because good documentation</li> <li>Bad, because tied to Poetry ecosystem</li> <li>Bad, because more opinionated</li> <li>Bad, because not PyPA-maintained</li> <li>Neutral, because would work but doesn\u2019t offer advantages</li> </ul>"},{"location":"docs/adr/0006-use-hatchling-for-build-backend/#setuptools","title":"Setuptools","text":"<ul> <li>Good, because most widely used</li> <li>Good, because very mature (decades old)</li> <li>Good, because extensive documentation</li> <li>Good, because PyPA-maintained</li> <li>Bad, because complex configuration (setup.py or setup.cfg)</li> <li>Bad, because slower than modern alternatives</li> <li>Bad, because large dependency footprint</li> <li>Bad, because legacy baggage and complexity</li> </ul>"},{"location":"docs/adr/0006-use-hatchling-for-build-backend/#flit-core","title":"Flit-core","text":"<ul> <li>Good, because extremely minimal</li> <li>Good, because very fast</li> <li>Good, because simple configuration</li> <li>Good, because PyPA-maintained</li> <li>Bad, because limited features (too minimal for some needs)</li> <li>Bad, because no plugin system</li> <li>Neutral, because simplicity is strength and weakness</li> </ul>"},{"location":"docs/adr/0006-use-hatchling-for-build-backend/#pdm-backend","title":"PDM-backend","text":"<ul> <li>Good, because modern and fast</li> <li>Good, because PEP 621 compliant</li> <li>Good, because active development</li> <li>Bad, because tied to PDM ecosystem</li> <li>Bad, because smaller community than hatchling</li> <li>Bad, because not PyPA-maintained</li> <li>Neutral, because similar to hatchling in many ways</li> </ul>"},{"location":"docs/adr/0006-use-hatchling-for-build-backend/#validation","title":"Validation","text":"<p>This decision was validated through:</p> <ul> <li>Successful builds in CI/CD since migration</li> <li>Packages published to PyPI without issues</li> <li>Fast build times maintained</li> <li>No user reports of installation problems</li> <li>Compatibility with pip, uv, and other installers</li> </ul> <p>We would revisit this decision if:</p> <ul> <li>Hatchling development slows or project becomes unmaintained</li> <li>Build issues emerge that hatchling can\u2019t address</li> <li>Python packaging ecosystem standardizes on different backend</li> <li>We need features that hatchling doesn\u2019t provide</li> </ul>"},{"location":"docs/adr/0006-use-hatchling-for-build-backend/#more-information","title":"More Information","text":"<ul> <li>Hatchling documentation: https://hatch.pypa.io/latest/config/build/</li> <li>Build configuration: <code>/pyproject.toml</code> under <code>[build-system]</code></li> <li>PEP 517: https://peps.python.org/pep-0517/</li> <li>PEP 621: https://peps.python.org/pep-0621/</li> </ul>"},{"location":"docs/adr/0007-provide-multiple-cli-entry-points/","title":"Provide Multiple CLI Entry Points","text":"<ul> <li>Status: accepted</li> <li>Date: 2021-08-15 (backfilled 2024-11-20)</li> <li>Deciders: KyleKing</li> <li>Informed: calcipy users</li> </ul>"},{"location":"docs/adr/0007-provide-multiple-cli-entry-points/#context-and-problem-statement","title":"Context and Problem Statement","text":"<p>calcipy provides task automation for Python projects, organized into functional areas:</p> <ul> <li>Linting (ruff, pre-commit)</li> <li>Type checking (mypy, pyright)</li> <li>Testing (pytest)</li> <li>Documentation (mkdocs)</li> <li>Packaging (build, publish)</li> <li>Code tags (TODO/FIXME collection)</li> </ul> <p>Users install calcipy in different ways:</p> <ol> <li>As a project dependency (for project-specific tasks)</li> <li>As a global tool via <code>uv tool install</code> (for cross-project usage)</li> <li>Both project and global (for flexibility)</li> </ol> <p>When installed as a global tool, users want to run specific functionality without loading unnecessary dependencies. For example, <code>calcipy-tags</code> only needs a few dependencies (arrow, pyyaml) compared to the full calcipy with all extras.</p> <p>How should we structure CLI entry points to support both project-based and global tool usage patterns while minimizing dependency overhead?</p>"},{"location":"docs/adr/0007-provide-multiple-cli-entry-points/#decision-drivers","title":"Decision Drivers","text":"<ul> <li>Must support both project and global installation patterns</li> <li>Must allow running specific functionality without loading everything</li> <li>Must enable installing only required dependencies for specific use cases</li> <li>Must provide clear, discoverable CLI commands</li> <li>Must maintain backward compatibility</li> <li>Should minimize startup time when possible</li> <li>Should follow Python packaging best practices</li> </ul>"},{"location":"docs/adr/0007-provide-multiple-cli-entry-points/#considered-options","title":"Considered Options","text":"<ul> <li>Multiple specialized entry points - Separate commands per functional area (calcipy-lint, calcipy-test, etc.)</li> <li>Single entry point with subcommands - One <code>calcipy</code> command with all functionality</li> <li>Hybrid approach - Main command plus specialized entry points</li> <li>Plugin architecture - Dynamic loading of functionality</li> </ul>"},{"location":"docs/adr/0007-provide-multiple-cli-entry-points/#decision-outcome","title":"Decision Outcome","text":"<p>Chosen option: \u201cMultiple specialized entry points\u201d, because it enables users to install and use only the functionality they need, particularly important for global tool installation where dependency minimization matters.</p> <p>We provide seven entry points:</p> <ul> <li><code>calcipy</code> - Main command with all tasks</li> <li><code>calcipy-docs</code> - Documentation tasks (mkdocs)</li> <li><code>calcipy-lint</code> - Linting tasks (ruff, pre-commit)</li> <li><code>calcipy-pack</code> - Packaging tasks (build, publish)</li> <li><code>calcipy-tags</code> - Code tag collection</li> <li><code>calcipy-test</code> - Testing tasks (pytest)</li> <li><code>calcipy-types</code> - Type checking tasks (mypy, pyright)</li> </ul> <p>Each entry point loads only its required dependencies through optional extras in pyproject.toml.</p>"},{"location":"docs/adr/0007-provide-multiple-cli-entry-points/#consequences","title":"Consequences","text":"<ul> <li>Good, because users can install only needed functionality (<code>uv tool install 'calcipy[tags]'</code>)</li> <li>Good, because minimal dependencies for specific use cases</li> <li>Good, because faster startup for specialized commands (less to import)</li> <li>Good, because clear command naming (calcipy-lint for linting)</li> <li>Good, because backward compatible (calcipy still works for everything)</li> <li>Good, because follows pattern of other tools (git-, cargo-)</li> <li>Good, because enables cross-project tool usage</li> <li>Bad, because more entry points to maintain</li> <li>Bad, because potential confusion about which command to use</li> <li>Bad, because namespace pollution (<code>calcipy-*</code> commands)</li> <li>Neutral, because requires documentation of which command for what</li> <li>Neutral, because more complex package configuration</li> </ul>"},{"location":"docs/adr/0007-provide-multiple-cli-entry-points/#pros-and-cons-of-the-options","title":"Pros and Cons of the Options","text":""},{"location":"docs/adr/0007-provide-multiple-cli-entry-points/#multiple-specialized-entry-points","title":"Multiple Specialized Entry Points","text":"<ul> <li>Good, because minimal dependencies per command</li> <li>Good, because faster startup for specific functionality</li> <li>Good, because clear purpose per command</li> <li>Good, because enables partial installation</li> <li>Good, because supports both project and global usage</li> <li>Bad, because more entry points to maintain</li> <li>Bad, because potential namespace pollution</li> <li>Bad, because requires decision about which command to use</li> <li>Neutral, because more package configuration</li> </ul>"},{"location":"docs/adr/0007-provide-multiple-cli-entry-points/#single-entry-point-with-subcommands","title":"Single Entry Point with Subcommands","text":"<ul> <li>Good, because single command to remember</li> <li>Good, because simpler package configuration</li> <li>Good, because no namespace pollution</li> <li>Bad, because must load all dependencies even for simple tasks</li> <li>Bad, because slower startup (everything imports)</li> <li>Bad, because can\u2019t install just one functional area</li> <li>Bad, because poor fit for global tool installation</li> </ul>"},{"location":"docs/adr/0007-provide-multiple-cli-entry-points/#hybrid-approach","title":"Hybrid Approach","text":"<ul> <li>Good, because flexibility (both patterns available)</li> <li>Good, because backward compatibility</li> <li>Neutral, because balances trade-offs</li> <li>Bad, because most complex to maintain</li> <li>Bad, because unclear which approach to use when</li> </ul>"},{"location":"docs/adr/0007-provide-multiple-cli-entry-points/#plugin-architecture","title":"Plugin Architecture","text":"<ul> <li>Good, because very flexible</li> <li>Good, because clean separation</li> <li>Good, because extensible by users</li> <li>Bad, because complex implementation</li> <li>Bad, because discovery mechanism needed</li> <li>Bad, because slower due to dynamic loading</li> <li>Bad, because overkill for our needs</li> </ul>"},{"location":"docs/adr/0007-provide-multiple-cli-entry-points/#validation","title":"Validation","text":"<p>This decision was validated through:</p> <ul> <li>Successful usage of <code>calcipy-tags</code> as global tool</li> <li>Positive feedback on specialized commands</li> <li>Reduced dependency installation for specific use cases</li> <li>No reported confusion about command selection</li> <li>Backward compatibility maintained (calcipy still works)</li> </ul> <p>We would revisit this decision if:</p> <ul> <li>Maintenance burden becomes too high</li> <li>User confusion about command selection increases</li> <li>Python gains better plugin/entry point mechanisms</li> <li>Dependency management makes this optimization unnecessary</li> </ul>"},{"location":"docs/adr/0007-provide-multiple-cli-entry-points/#more-information","title":"More Information","text":"<ul> <li>Entry point configuration: <code>/pyproject.toml</code> under <code>[project.scripts]</code></li> <li>Script implementations: <code>/calcipy/scripts.py</code></li> <li>Optional dependencies: <code>/pyproject.toml</code> under <code>[project.optional-dependencies]</code></li> <li>Usage documentation: <code>/docs/README.md</code> CLI section</li> </ul>"},{"location":"docs/adr-research/","title":"ADR Research and Documentation","text":"<p>Research on Architecture Decision Records (ADRs) approaches, tools, and best practices based on GitHub Issue #42.</p>"},{"location":"docs/adr-research/#table-of-contents","title":"Table of Contents","text":""},{"location":"docs/adr-research/#individual-approach-summaries","title":"Individual Approach Summaries","text":"<p>Each document provides a comprehensive overview of a specific ADR approach or tool:</p> <ol> <li>log4brains - Architecture Decision Records management tool with automated site generation</li> <li>AWS ADR Guide - AWS\u2019s structured approach to documenting architectural decisions</li> <li>MADR - Markdown Architectural Decision Records, a lightweight template</li> <li>Y-Statements - Abbreviated single-sentence format for quick decision capture</li> <li>Prefect PINs - Prefect Improvement Notices for open source proposal-driven decisions</li> <li>Ethereum EIPs - Ethereum Improvement Proposals, rigorous protocol-level decision process</li> <li>Real-World Examples - Practical implementations from Arachne, Structurizr, and other projects</li> </ol>"},{"location":"docs/adr-research/#comparison-and-guidance","title":"Comparison and Guidance","text":"<ol> <li>Comparison and Recommendations - Side-by-side comparison with recommendations for different project scales</li> <li>AI Guidance for ADRs - Comprehensive guide for AI assistants to write and review ADRs</li> </ol>"},{"location":"docs/adr-research/#quick-decision-guide","title":"Quick Decision Guide","text":""},{"location":"docs/adr-research/#choose-by-project-size","title":"Choose by Project Size","text":"Team Size Project Duration Recommended Approach 1-2 developers &lt; 6 months Y-Statements or notes in README 2-5 developers 6 months - 2 years MADR (Minimal) 5-15 developers 2-5 years MADR (Full) or AWS ADR 15-50 developers 5+ years log4brains or MADR + documentation site 50+ developers Enterprise AWS ADR + governance Open Source Any MADR + public docs or PIN-style Protocol/Standards Any EIP-style rigorous process"},{"location":"docs/adr-research/#choose-by-use-case","title":"Choose by Use Case","text":"<ul> <li>Fast-moving startup: Y-Statements \u2192 MADR Minimal as you grow</li> <li>Enterprise/Regulated: AWS ADR Guide with full templates</li> <li>Open source with community: PIN-style proposals or MADR with public docs</li> <li>Need searchable website: log4brains</li> <li>Protocol development: EIP-style rigorous specification</li> </ul>"},{"location":"docs/adr-research/#key-takeaways","title":"Key Takeaways","text":""},{"location":"docs/adr-research/#what-is-an-adr","title":"What is an ADR?","text":"<p>An Architecture Decision Record (ADR) is a document that captures an important architectural decision along with its context and consequences.</p>"},{"location":"docs/adr-research/#why-use-adrs","title":"Why Use ADRs?","text":"<ul> <li>Preserve context: Future team members understand why decisions were made</li> <li>Prevent re-litigation: Avoid repeatedly discussing settled questions</li> <li>Improve onboarding: New developers learn architectural thinking</li> <li>Support evolution: Understand when to revisit decisions</li> <li>Build consensus: Structured discussion of trade-offs</li> </ul>"},{"location":"docs/adr-research/#essential-elements","title":"Essential Elements","text":"<p>Every ADR should include:</p> <ol> <li>What was decided</li> <li>Why it was needed (context and problem)</li> <li>How the decision was made (alternatives considered)</li> <li>What the consequences are (positive and negative)</li> </ol>"},{"location":"docs/adr-research/#comparison-matrix","title":"Comparison Matrix","text":"Approach Formality Time to Create Best For Y-Statements Low 5-15 min Quick decisions, small teams MADR Medium 30-60 min Most projects AWS ADR Medium-High 1-2 hours Enterprise teams log4brains Medium 30-60 min Teams wanting website Prefect PINs Medium-High Days-Weeks Open source proposals Ethereum EIPs Very High Weeks-Months Protocol/standards"},{"location":"docs/adr-research/#getting-started","title":"Getting Started","text":""},{"location":"docs/adr-research/#for-a-new-project","title":"For a New Project","text":"<ol> <li>Start with ADR-0001: \u201cRecord architecture decisions\u201d</li> <li>Establishes the practice</li> <li>Documents which template you\u2019ll use</li> <li> <p>Defines when to create ADRs</p> </li> <li> <p>Choose your template:</p> </li> <li>Small team: MADR Minimal</li> <li>Growing team: MADR Full</li> <li> <p>Enterprise: AWS ADR Guide</p> </li> <li> <p>Set up storage:    <pre><code>project/\n\u2514\u2500\u2500 docs/\n    \u2514\u2500\u2500 adr/\n        \u251c\u2500\u2500 README.md (index)\n        \u2514\u2500\u2500 0001-record-architecture-decisions.md\n</code></pre></p> </li> <li> <p>Document your next decision: Practice the process</p> </li> <li> <p>Review and iterate: Adjust based on what works</p> </li> </ol>"},{"location":"docs/adr-research/#for-an-existing-project","title":"For an Existing Project","text":"<ol> <li>Backfill key decisions: Document the most important existing decisions</li> <li>Start using for new decisions: Make it part of your workflow</li> <li>Update as you learn: Refine your template and process</li> </ol>"},{"location":"docs/adr-research/#common-patterns","title":"Common Patterns","text":""},{"location":"docs/adr-research/#file-organization","title":"File Organization","text":"<pre><code>docs/adr/\n\u251c\u2500\u2500 README.md                          # Index of all ADRs\n\u251c\u2500\u2500 0001-record-decisions.md          # Meta-ADR establishing practice\n\u251c\u2500\u2500 0002-choose-database.md           # Technical decision\n\u251c\u2500\u2500 0003-api-versioning-strategy.md   # Architecture pattern\n\u2514\u2500\u2500 0004-testing-approach.md          # Process decision\n</code></pre>"},{"location":"docs/adr-research/#naming-convention","title":"Naming Convention","text":"<p>Most projects use: <code>NNNN-title-with-dashes.md</code></p> <ul> <li><code>NNNN</code>: Sequential number (0001, 0002, etc.)</li> <li><code>title-with-dashes</code>: Lowercase, hyphenated</li> <li><code>.md</code>: Markdown file extension</li> </ul>"},{"location":"docs/adr-research/#status-values","title":"Status Values","text":"<p>Common status values across approaches:</p> <ul> <li>Proposed: Under discussion</li> <li>Accepted: Approved and active</li> <li>Rejected: Not approved</li> <li>Deprecated: No longer recommended</li> <li>Superseded: Replaced by another ADR</li> </ul>"},{"location":"docs/adr-research/#resources","title":"Resources","text":""},{"location":"docs/adr-research/#tools","title":"Tools","text":"<ul> <li>log4brains: https://github.com/thomvaill/log4brains</li> <li>adr-tools: Command-line tools for ADR management</li> <li>MkDocs: Static site generator for documentation</li> <li>Docusaurus: Modern documentation framework</li> </ul>"},{"location":"docs/adr-research/#templates","title":"Templates","text":"<ul> <li>MADR Templates: https://github.com/adr/madr</li> <li>ADR Templates Collection: https://adr.github.io/adr-templates/</li> <li>AWS Templates: Provided in their ADR guide</li> </ul>"},{"location":"docs/adr-research/#further-reading","title":"Further Reading","text":"<ul> <li>Michael Nygard\u2019s ADR: Original ADR blog post that started the practice</li> <li>Thoughtworks Technology Radar: Discussion of ADR adoption</li> <li>ADR GitHub Organization: https://github.com/adr</li> </ul>"},{"location":"docs/adr-research/#contributing-to-this-research","title":"Contributing to This Research","text":"<p>This research was compiled from:</p> <ul> <li>Official documentation from each tool/approach</li> <li>Real-world examples from open source projects</li> <li>Best practices from enterprise adoption</li> <li>Community discussions and feedback</li> </ul> <p>For updates or corrections, please reference the source materials in each individual document.</p>"},{"location":"docs/adr-research/#summary","title":"Summary","text":"<p>The best ADR approach is the one your team actually uses. Start simple, document your first decision, and evolve your practice as your project grows. The goal is to capture the \u201cwhy\u201d behind decisions to help future readers (including future you) understand and trust the choices made.</p> <p>Quick recommendation: If you\u2019re unsure, start with MADR Minimal. It\u2019s lightweight enough to not slow you down but structured enough to capture what matters. You can always expand to the full template later as your needs grow.</p>"},{"location":"docs/adr-research/ai-guidance-for-adrs/","title":"AI Guidance for Writing and Reviewing Architecture Decision Records","text":""},{"location":"docs/adr-research/ai-guidance-for-adrs/#purpose","title":"Purpose","text":"<p>This document provides comprehensive guidance for AI assistants helping users write and review Architecture Decision Records (ADRs). It covers best practices, common pitfalls, review criteria, and practical examples.</p>"},{"location":"docs/adr-research/ai-guidance-for-adrs/#quick-reference","title":"Quick Reference","text":""},{"location":"docs/adr-research/ai-guidance-for-adrs/#when-to-create-an-adr","title":"When to Create an ADR","text":"<p>An ADR should be created when a decision:</p> <ul> <li>Has architectural significance: Affects system structure, patterns, or standards</li> <li>Is difficult to reverse: High cost or risk to change later</li> <li>Involves trade-offs: Multiple valid options with different pros/cons</li> <li>Affects multiple components: Cross-cutting concerns</li> <li>Needs to be remembered: Important context for future team members</li> <li>Is contentious: Multiple stakeholders with different views</li> </ul>"},{"location":"docs/adr-research/ai-guidance-for-adrs/#when-not-to-create-an-adr","title":"When NOT to Create an ADR","text":"<p>Skip ADRs for:</p> <ul> <li>Implementation details: Specific code patterns (unless establishing standard)</li> <li>Trivial decisions: Easily reversible, low impact</li> <li>Temporary solutions: Known to be short-term</li> <li>Individual preferences: Style choices without broader impact</li> <li>Obvious choices: No meaningful alternatives</li> </ul>"},{"location":"docs/adr-research/ai-guidance-for-adrs/#understanding-the-project-context","title":"Understanding the Project Context","text":"<p>Before helping with an ADR, determine:</p>"},{"location":"docs/adr-research/ai-guidance-for-adrs/#1-project-size-and-team","title":"1. Project Size and Team","text":"<pre><code>Questions to ask:\n- How many developers?\n- How long has the project existed?\n- What's the expected lifetime?\n- Internal or open source?\n</code></pre> <p>This determines formality level needed.</p>"},{"location":"docs/adr-research/ai-guidance-for-adrs/#2-existing-adr-practice","title":"2. Existing ADR Practice","text":"<pre><code>Questions to ask:\n- Do you have existing ADRs?\n- What template do you use?\n- Where are ADRs stored?\n- What's your review process?\n</code></pre> <p>Match existing conventions or help establish new ones.</p>"},{"location":"docs/adr-research/ai-guidance-for-adrs/#3-decision-scope","title":"3. Decision Scope","text":"<pre><code>Questions to assess:\n- Who is affected by this decision?\n- What's the impact if we're wrong?\n- How expensive is it to change later?\n- Are there regulatory/compliance concerns?\n</code></pre> <p>This determines detail level needed.</p>"},{"location":"docs/adr-research/ai-guidance-for-adrs/#template-selection","title":"Template Selection","text":""},{"location":"docs/adr-research/ai-guidance-for-adrs/#decision-tree-for-template-choice","title":"Decision Tree for Template Choice","text":"<pre><code>1. Quick decision, small team?\n   \u2192 Use Y-Statement format\n\n2. Following existing ADR practice?\n   \u2192 Use their template\n\n3. Starting fresh, medium team?\n   \u2192 Use MADR (Minimal for starters, Full as needed)\n\n4. Enterprise/compliance needs?\n   \u2192 Use AWS ADR Guide template\n\n5. Open source with community input?\n   \u2192 Consider PIN-style proposal\n\n6. Protocol/standards development?\n   \u2192 Use EIP-style rigorous template\n</code></pre>"},{"location":"docs/adr-research/ai-guidance-for-adrs/#y-statement-template","title":"Y-Statement Template","text":"<p>Use when: Quick capture, small teams, lightweight documentation</p> <pre><code>## [Decision Title]\n\nIn the context of [use case/user story],\nfacing [concern/problem],\nwe decided for [option chosen]\nand against [alternatives not chosen],\nto achieve [desired quality/benefit],\naccepting [downside/trade-off].\n</code></pre> <p>Example:</p> <pre><code>## Use PostgreSQL for Primary Database\n\nIn the context of our multi-tenant SaaS application,\nfacing the need for reliable ACID transactions and complex queries,\nwe decided for PostgreSQL\nand against MongoDB and MySQL,\nto achieve data consistency and rich query capabilities,\naccepting increased operational complexity and infrastructure costs.\n</code></pre>"},{"location":"docs/adr-research/ai-guidance-for-adrs/#madr-minimal-template","title":"MADR Minimal Template","text":"<p>Use when: Most projects, balances detail with simplicity</p> <pre><code># [Short Title]\n\n## Context and Problem Statement\n\n[Describe the context and problem statement, e.g., in free form using two to three sentences. You may want to articulate the problem in the form of a question.]\n\n## Decision Drivers\n\n* [decision driver 1, e.g., a force, facing concern, ...]\n* [decision driver 2, e.g., a force, facing concern, ...]\n* ...\n\n## Considered Options\n\n* [option 1]\n* [option 2]\n* [option 3]\n* ...\n\n## Decision Outcome\n\nChosen option: \"[option 1]\", because [justification. e.g., only option that meets k.o. criterion decision driver 1 | which resolves force 2 | ...].\n\n### Consequences\n\n* Good, because [positive consequence, e.g., improvement of quality attribute satisfaction, follow-up decisions required, ...]\n* Bad, because [negative consequence, e.g., compromising quality attribute, follow-up decisions required, ...]\n* ...\n</code></pre>"},{"location":"docs/adr-research/ai-guidance-for-adrs/#madr-full-template","title":"MADR Full Template","text":"<p>Use when: Complex decisions, larger teams, need comprehensive documentation</p> <pre><code># [Short Title]\n\n* Status: [proposed | rejected | accepted | deprecated | superseded by [ADR-0005](0005-example.md)]\n* Date: [YYYY-MM-DD when the decision was last updated]\n* Deciders: [list everyone involved in the decision]\n* Consulted: [list anyone consulted]\n* Informed: [list anyone informed]\n\n## Context and Problem Statement\n\n[Describe the context and problem statement]\n\n## Decision Drivers\n\n* [decision driver 1]\n* [decision driver 2]\n* ...\n\n## Considered Options\n\n* [option 1]\n* [option 2]\n* [option 3]\n* ...\n\n## Decision Outcome\n\nChosen option: \"[option 1]\", because [justification].\n\n### Consequences\n\n* Good, because [positive consequence]\n* Bad, because [negative consequence]\n* ...\n\n## Validation\n\n[How will we validate the decision is correct? How will we know if we need to revisit?]\n\n## Pros and Cons of the Options\n\n### [option 1]\n\n[example | description | pointer to more information | ...]\n\n* Good, because [argument 1]\n* Good, because [argument 2]\n* Neutral, because [argument 3]\n* Bad, because [argument 4]\n* ...\n\n### [option 2]\n\n[example | description | pointer to more information | ...]\n\n* Good, because [argument 1]\n* Good, because [argument 2]\n* Neutral, because [argument 3]\n* Bad, because [argument 4]\n* ...\n\n### [option 3]\n\n[example | description | pointer to more information | ...]\n\n* Good, because [argument 1]\n* Good, because [argument 2]\n* Neutral, because [argument 3]\n* Bad, because [argument 4]\n* ...\n\n## More Information\n\n[Any additional information, links, or context]\n</code></pre>"},{"location":"docs/adr-research/ai-guidance-for-adrs/#writing-effective-adrs","title":"Writing Effective ADRs","text":""},{"location":"docs/adr-research/ai-guidance-for-adrs/#1-title","title":"1. Title","text":"<p>Good titles:</p> <ul> <li>Concise (&lt; 10 words)</li> <li>Action-oriented (verb + object)</li> <li>Specific enough to differentiate</li> </ul> <p>Examples:</p> <ul> <li>\u2705 \u201cUse PostgreSQL for primary database\u201d</li> <li>\u2705 \u201cImplement event sourcing for order processing\u201d</li> <li>\u2705 \u201cMigrate from REST to GraphQL API\u201d</li> <li>\u274c \u201cDatabase decision\u201d (too vague)</li> <li>\u274c \u201cWe need to decide on our database architecture approach\u201d (too long)</li> </ul>"},{"location":"docs/adr-research/ai-guidance-for-adrs/#2-context-and-problem-statement","title":"2. Context and Problem Statement","text":"<p>What to include:</p> <ul> <li>Background: What led to this decision point?</li> <li>Problem: What are we trying to solve?</li> <li>Constraints: What limits our options?</li> <li>Requirements: What must the solution provide?</li> </ul> <p>What to avoid:</p> <ul> <li>Assuming reader knows the background</li> <li>Jumping to solutions before stating problem</li> <li>Technical jargon without explanation</li> <li>Missing the \u201cwhy now?\u201d</li> </ul> <p>Good example:</p> <pre><code>## Context and Problem Statement\n\nOur monolithic application has grown to 500K LOC with 15 developers working on it.\nDeployment takes 2 hours and any bug requires redeploying the entire application.\nTeams are blocked waiting for others to finish features in shared modules.\n\nWe need to improve development velocity, reduce deployment risk, and enable teams\nto work independently. However, we have limited DevOps resources and our team has\nminimal microservices experience.\n\nHow should we restructure our application to improve development velocity while\nmanaging operational complexity?\n</code></pre> <p>Bad example:</p> <pre><code>## Context\n\nWe should use microservices because they're better.\n</code></pre>"},{"location":"docs/adr-research/ai-guidance-for-adrs/#3-decision-drivers","title":"3. Decision Drivers","text":"<p>What makes a good decision driver:</p> <ul> <li>Specific and measurable when possible</li> <li>Prioritized (if order matters)</li> <li>Balanced between business and technical</li> </ul> <p>Categories to consider:</p> <ul> <li>Business: Cost, time-to-market, competitive advantage</li> <li>Technical: Performance, scalability, reliability, security</li> <li>Team: Skills, learning curve, hiring market</li> <li>Operational: Monitoring, debugging, maintenance</li> <li>Compliance: Regulatory, legal, policy requirements</li> </ul> <p>Good example:</p> <pre><code>## Decision Drivers\n\n* Must support 10,000 concurrent users (current: 1,000)\n* Team has strong Python expertise, limited Java/Go experience\n* Budget constraint: max $5,000/month infrastructure cost\n* Must comply with HIPAA security requirements\n* Prefer open-source to avoid vendor lock-in\n* Need to deploy within 3 months\n</code></pre> <p>Bad example:</p> <pre><code>## Decision Drivers\n\n* Performance\n* Cost\n* Easy to use\n</code></pre>"},{"location":"docs/adr-research/ai-guidance-for-adrs/#4-considered-options","title":"4. Considered Options","text":"<p>Best practices:</p> <ul> <li>List 2-5 realistic options (not straw men)</li> <li>Put chosen option first (aids scanning)</li> <li>Brief description if not obvious</li> <li>Link to detailed analysis if extensive</li> </ul> <p>Good example:</p> <pre><code>## Considered Options\n\n* PostgreSQL with read replicas - Industry-standard RDBMS, strong consistency\n* MongoDB - Document database, flexible schema\n* DynamoDB - Managed NoSQL, serverless pricing\n* Cassandra - Distributed database, eventual consistency\n</code></pre> <p>Bad example:</p> <pre><code>## Considered Options\n\n* PostgreSQL\n* Everything else (rejected because PostgreSQL is better)\n</code></pre>"},{"location":"docs/adr-research/ai-guidance-for-adrs/#5-decision-outcome","title":"5. Decision Outcome","text":"<p>Structure:</p> <ol> <li>State the choice clearly</li> <li>Provide brief justification (1-3 sentences)</li> <li>Reference decision drivers satisfied</li> </ol> <p>Good example:</p> <pre><code>## Decision Outcome\n\nChosen option: \"PostgreSQL with read replicas\", because it best satisfies\nour needs for ACID transactions and complex queries while leveraging our\nteam's existing SQL expertise. Read replicas address our scaling concerns\nfor the 10,000 concurrent users requirement at a predictable cost within\nour $5,000/month budget.\n</code></pre> <p>Bad example:</p> <pre><code>## Decision Outcome\n\nWe chose PostgreSQL because it's good.\n</code></pre>"},{"location":"docs/adr-research/ai-guidance-for-adrs/#6-consequences","title":"6. Consequences","text":"<p>What to include:</p> <ul> <li>Positive consequences: Benefits, improvements, opportunities</li> <li>Negative consequences: Trade-offs, limitations, risks</li> <li>Neutral consequences: Changes without clear value judgment</li> <li>Follow-up decisions: What decisions does this enable/require?</li> </ul> <p>Be honest: Don\u2019t hide downsides. Future you will thank you.</p> <p>Good example:</p> <pre><code>### Consequences\n\n* Good, because PostgreSQL ACID guarantees ensure data consistency\n* Good, because team already has SQL expertise, minimal learning curve\n* Good, because rich ecosystem of tools and libraries\n* Bad, because we'll need to implement caching layer for read-heavy workloads\n* Bad, because horizontal scaling is more complex than with NoSQL options\n* Neutral, because we'll need to establish backup and recovery procedures\n* Follow-up, because we need to decide on caching strategy (Redis vs. Memcached)\n</code></pre> <p>Bad example:</p> <pre><code>### Consequences\n\n* It will be great!\n</code></pre>"},{"location":"docs/adr-research/ai-guidance-for-adrs/#7-pros-and-cons-of-options","title":"7. Pros and Cons of Options","text":"<p>For each considered option:</p> <ul> <li>Good: Benefits and advantages</li> <li>Bad: Drawbacks and disadvantages</li> <li>Neutral: Facts without judgment</li> </ul> <p>Good example:</p> <pre><code>### PostgreSQL with Read Replicas\n\n* Good, because mature, battle-tested technology with 25+ years of development\n* Good, because strong ACID guarantees prevent data inconsistency issues\n* Good, because team has 5 years of PostgreSQL experience\n* Good, because rich support for JSON columns provides schema flexibility\n* Bad, because read replicas add operational complexity (monitoring, lag)\n* Bad, because vertical scaling limits on single-node writes\n* Bad, because replication lag can cause read-after-write inconsistency\n* Neutral, because requires managed hosting or dedicated DBA time\n\n### MongoDB\n\n* Good, because flexible schema enables rapid iteration\n* Good, because horizontal scaling built into architecture\n* Good, because JSON-native storage matches API format\n* Bad, because team has no MongoDB production experience (hiring/training cost)\n* Bad, because eventual consistency model complicates some use cases\n* Bad, because smaller ecosystem than PostgreSQL for our language (Python)\n* Neutral, because requires learning new query language and patterns\n</code></pre>"},{"location":"docs/adr-research/ai-guidance-for-adrs/#8-validationconfirmation-optional-but-recommended","title":"8. Validation/Confirmation (Optional but Recommended)","text":"<p>Include for important decisions:</p> <ul> <li>How will we know if this was the right choice?</li> <li>What metrics will we track?</li> <li>What would trigger revisiting this decision?</li> <li>How will we enforce this decision?</li> </ul> <p>Good example:</p> <pre><code>## Validation\n\nWe will validate this decision after 6 months by measuring:\n\n* Query performance: 95th percentile &lt; 100ms (baseline: 150ms)\n* System uptime: 99.9% (baseline: 99.5%)\n* Developer productivity: Story cycle time reduced by 20%\n* Infrastructure cost: Remains under $5,000/month\n\nWe will revisit this decision if:\n\n* Query performance degrades below baseline despite optimization\n* Infrastructure costs exceed $7,500/month (50% over budget)\n* Team grows beyond 25 developers (scaling concerns)\n* Regulatory requirements change (ACID may not be sufficient)\n</code></pre>"},{"location":"docs/adr-research/ai-guidance-for-adrs/#ai-assistant-review-checklist","title":"AI Assistant Review Checklist","text":"<p>When reviewing an ADR, check:</p>"},{"location":"docs/adr-research/ai-guidance-for-adrs/#completeness","title":"Completeness","text":"<ul> <li> Title is clear and concise</li> <li> Context explains the situation and problem</li> <li> Decision drivers are specific and prioritized</li> <li> Multiple options were considered (minimum 2)</li> <li> Decision outcome is clearly stated</li> <li> Consequences include both positive and negative</li> <li> Metadata is present (status, date, deciders if using full template)</li> </ul>"},{"location":"docs/adr-research/ai-guidance-for-adrs/#quality","title":"Quality","text":"<ul> <li> Problem is clearly articulated before solution</li> <li> Decision drivers are specific, not vague</li> <li> Options are realistic, not straw men</li> <li> Justification references decision drivers</li> <li> Consequences are honest about trade-offs</li> <li> Appropriate detail level for decision significance</li> <li> Links to supporting materials where appropriate</li> </ul>"},{"location":"docs/adr-research/ai-guidance-for-adrs/#style","title":"Style","text":"<ul> <li> Written in past tense (records decision made, not proposal)</li> <li> Clear, concise language</li> <li> Technical terms explained or linked</li> <li> Consistent formatting</li> <li> Proper markdown syntax</li> </ul>"},{"location":"docs/adr-research/ai-guidance-for-adrs/#content-issues-to-flag","title":"Content Issues to Flag","text":"<ul> <li> Solution in search of problem: Starts with \u201cwe should use X\u201d without explaining why</li> <li> Missing context: Assumes reader knows background</li> <li> Only one option: No alternatives considered</li> <li> Vague decision drivers: \u201cBetter performance\u201d without specifics</li> <li> Hiding trade-offs: Only positive consequences</li> <li> Straw man alternatives: Unrealistic options that make choice obvious</li> <li> Too detailed: Implementation details instead of decision rationale</li> <li> Too vague: No specific information to understand decision</li> <li> Status unclear: No indication if proposed, accepted, or superseded</li> </ul>"},{"location":"docs/adr-research/ai-guidance-for-adrs/#common-pitfalls-and-how-to-avoid-them","title":"Common Pitfalls and How to Avoid Them","text":""},{"location":"docs/adr-research/ai-guidance-for-adrs/#pitfall-1-writing-a-proposal-instead-of-a-record","title":"Pitfall 1: Writing a Proposal Instead of a Record","text":"<p>Problem: ADR written in future tense, sounds like a proposal</p> <p>Wrong:</p> <pre><code>We should use React because it will be better.\n</code></pre> <p>Right:</p> <pre><code>We decided to use React because our team has 3 years of React experience\nand it best supports our need for complex interactive UIs.\n</code></pre> <p>AI Guidance: Ensure ADR is written in past tense documenting a decision made, not proposing a decision to make.</p>"},{"location":"docs/adr-research/ai-guidance-for-adrs/#pitfall-2-assuming-context","title":"Pitfall 2: Assuming Context","text":"<p>Problem: ADR assumes reader knows the background</p> <p>Wrong:</p> <pre><code>## Context\n\nThe current situation isn't working.\n</code></pre> <p>Right:</p> <pre><code>## Context\n\nOur current REST API serves 50 endpoints across 10 resources. Each client\nmakes an average of 15 requests per page load, causing poor mobile performance.\nOur mobile team has requested a more efficient data fetching mechanism.\n</code></pre> <p>AI Guidance: Ask questions to extract context. Who? What? When? Why now?</p>"},{"location":"docs/adr-research/ai-guidance-for-adrs/#pitfall-3-solution-first-thinking","title":"Pitfall 3: Solution-First Thinking","text":"<p>Problem: Starting with the solution instead of the problem</p> <p>Wrong:</p> <pre><code>## Problem\n\nWe need to use Kubernetes.\n</code></pre> <p>Right:</p> <pre><code>## Problem\n\nOur application experiences unpredictable traffic spikes (10x baseline)\nduring events, causing outages. Manual scaling takes 30+ minutes,\nresulting in lost revenue and poor user experience.\n</code></pre> <p>AI Guidance: Ask \u201cWhat problem are we solving?\u201d before discussing solutions.</p>"},{"location":"docs/adr-research/ai-guidance-for-adrs/#pitfall-4-vague-decision-drivers","title":"Pitfall 4: Vague Decision Drivers","text":"<p>Problem: Decision drivers too generic to be useful</p> <p>Wrong:</p> <pre><code>* Good performance\n* Low cost\n* Easy to use\n</code></pre> <p>Right:</p> <pre><code>* Must handle 10,000 requests/second (current: 1,000)\n* Infrastructure cost must stay under $5,000/month\n* Team should be productive within 2 weeks of learning\n</code></pre> <p>AI Guidance: Ask for specifics. \u201cHow much?\u201d \u201cBy when?\u201d \u201cCompared to what?\u201d</p>"},{"location":"docs/adr-research/ai-guidance-for-adrs/#pitfall-5-ignoring-trade-offs","title":"Pitfall 5: Ignoring Trade-offs","text":"<p>Problem: Only listing benefits, hiding downsides</p> <p>Wrong:</p> <pre><code>### Consequences\n\n* Good, because Kubernetes is great\n* Good, because everyone uses it\n* Good, because it scales\n</code></pre> <p>Right:</p> <pre><code>### Consequences\n\n* Good, because handles our traffic spikes automatically\n* Good, because enables zero-downtime deployments\n* Bad, because adds significant operational complexity\n* Bad, because requires 6 months for team to become proficient\n* Bad, because increases infrastructure costs by $3,000/month\n</code></pre> <p>AI Guidance: Explicitly ask \u201cWhat are the downsides of this decision?\u201d</p>"},{"location":"docs/adr-research/ai-guidance-for-adrs/#pitfall-6-analysis-paralysis","title":"Pitfall 6: Analysis Paralysis","text":"<p>Problem: Too much detail, loses the forest for the trees</p> <p>Wrong: 50-page document with every technical detail</p> <p>Right: 2-3 page ADR with links to detailed analysis</p> <p>AI Guidance: Focus on decision rationale, not implementation. Details can be links.</p>"},{"location":"docs/adr-research/ai-guidance-for-adrs/#pitfall-7-straw-man-alternatives","title":"Pitfall 7: Straw Man Alternatives","text":"<p>Problem: Listing unrealistic options to make choice obvious</p> <p>Wrong:</p> <pre><code>## Options\n\n* PostgreSQL - mature, reliable\n* Building our own database from scratch in PHP - terrible idea\n* Using Excel files on a shared drive - obviously won't work\n</code></pre> <p>Right:</p> <pre><code>## Options\n\n* PostgreSQL - mature RDBMS, strong consistency\n* MongoDB - flexible schema, horizontal scaling\n* DynamoDB - managed service, serverless pricing\n</code></pre> <p>AI Guidance: Ensure alternatives are realistic options actually considered.</p>"},{"location":"docs/adr-research/ai-guidance-for-adrs/#asking-good-questions","title":"Asking Good Questions","text":"<p>As an AI assistant, ask questions to extract information:</p>"},{"location":"docs/adr-research/ai-guidance-for-adrs/#understanding-the-problem","title":"Understanding the Problem","text":"<ul> <li>\u201cWhat problem are you trying to solve?\u201d</li> <li>\u201cWhat happens if you don\u2019t make this decision?\u201d</li> <li>\u201cWhat\u2019s the impact of the current situation?\u201d</li> <li>\u201cWho is affected and how?\u201d</li> <li>\u201cWhy is this a priority now?\u201d</li> </ul>"},{"location":"docs/adr-research/ai-guidance-for-adrs/#understanding-constraints","title":"Understanding Constraints","text":"<ul> <li>\u201cWhat constraints limit your options?\u201d (time, budget, skills, etc.)</li> <li>\u201cAre there regulatory or compliance requirements?\u201d</li> <li>\u201cWhat\u2019s your team\u2019s existing expertise?\u201d</li> <li>\u201cWhat infrastructure do you already have?\u201d</li> <li>\u201cWhat\u2019s your risk tolerance for this decision?\u201d</li> </ul>"},{"location":"docs/adr-research/ai-guidance-for-adrs/#understanding-options","title":"Understanding Options","text":"<ul> <li>\u201cWhat alternatives have you considered?\u201d</li> <li>\u201cWhy were other options rejected?\u201d</li> <li>\u201cWhat would it take to make [alternative] work?\u201d</li> <li>\u201cAre there hybrid approaches?\u201d</li> </ul>"},{"location":"docs/adr-research/ai-guidance-for-adrs/#understanding-trade-offs","title":"Understanding Trade-offs","text":"<ul> <li>\u201cWhat are the downsides of this choice?\u201d</li> <li>\u201cWhat will be harder because of this decision?\u201d</li> <li>\u201cWhat future options does this close off?\u201d</li> <li>\u201cWhat\u2019s the worst-case scenario?\u201d</li> <li>\u201cWhat will you lose by not choosing [alternative]?\u201d</li> </ul>"},{"location":"docs/adr-research/ai-guidance-for-adrs/#understanding-validation","title":"Understanding Validation","text":"<ul> <li>\u201cHow will you know if this was the right decision?\u201d</li> <li>\u201cWhat would make you revisit this decision?\u201d</li> <li>\u201cWhat metrics will you track?\u201d</li> <li>\u201cWhen will you evaluate the outcome?\u201d</li> </ul>"},{"location":"docs/adr-research/ai-guidance-for-adrs/#example-helping-write-an-adr","title":"Example: Helping Write an ADR","text":""},{"location":"docs/adr-research/ai-guidance-for-adrs/#user-query","title":"User Query","text":"<p>\u201cHelp me write an ADR about using React for our new web app\u201d</p>"},{"location":"docs/adr-research/ai-guidance-for-adrs/#good-ai-response-process","title":"Good AI Response Process","text":"<p>Step 1: Understand Context</p> <pre><code>I'll help you write an ADR for choosing React. First, let me understand\nthe context:\n\n1. What problem are you solving that led to choosing React?\n2. What other frameworks did you consider (Vue, Angular, Svelte, etc.)?\n3. What are your team's constraints (expertise, timeline, budget)?\n4. Are there specific requirements driving this decision (performance,\n   ecosystem, hiring, etc.)?\n5. What's your project size and expected team size?\n</code></pre> <p>Step 2: Extract Decision Drivers</p> <pre><code>Based on your answers, it sounds like your key decision drivers are:\n\n* Team already has 2 React developers, 0 for other frameworks\n* Need to hire 3 more developers (React hiring pool larger)\n* Application requires complex interactive UI with state management\n* Timeline: must launch in 6 months\n* Prefer strong TypeScript support\n\nDoes that capture it? Any other important factors?\n</code></pre> <p>Step 3: Identify Trade-offs</p> <pre><code>What are the downsides of choosing React over the alternatives?\nFor example:\n* Does React's frequent breaking changes concern you?\n* Are you worried about the learning curve for Redux/state management?\n* Any concerns about bundle size compared to lighter alternatives?\n</code></pre> <p>Step 4: Draft ADR</p> <pre><code>Here's a draft ADR. Let me know what needs adjustment:\n\n# Use React for Web Application Frontend\n\n## Context and Problem Statement\n\nWe are building a new web application for [purpose] that requires\n[specific UI requirements]. Our current team has [team composition]\nand we need to hire [number] additional frontend developers within\n[timeline].\n\nWe need to choose a frontend framework that enables us to deliver\na production application in 6 months while setting us up for long-term\nmaintainability and team growth.\n\n## Decision Drivers\n\n* Team has 2 developers with React experience, 0 with other frameworks\n* Must hire 3 developers within 6 months (hiring market considerations)\n* Requires complex state management for [specific features]\n* Need strong TypeScript support for type safety\n* Timeline pressure: 6 months to production\n\n[... rest of ADR ...]\n\nDoes this accurately capture your decision? What should I adjust?\n</code></pre>"},{"location":"docs/adr-research/ai-guidance-for-adrs/#example-reviewing-an-adr","title":"Example: Reviewing an ADR","text":""},{"location":"docs/adr-research/ai-guidance-for-adrs/#user-submission-problematic","title":"User Submission (Problematic)","text":"<pre><code># Use Microservices\n\n## Context\n\nOur app is slow.\n\n## Decision\n\nWe decided to use microservices because they're better and Netflix uses them.\n\n## Consequences\n\n* Everything will be faster\n* It will scale better\n</code></pre>"},{"location":"docs/adr-research/ai-guidance-for-adrs/#good-ai-review-response","title":"Good AI Review Response","text":"<pre><code>I've reviewed your ADR and have several suggestions to make it more useful:\n\n**Missing Context**:\n* What specifically is slow? (API response times? Deployment? Development?)\n* How slow? (Quantify: \"API p95 is 2s, need &lt; 500ms\")\n* Why is this a priority now?\n* What's your current architecture? (Monolith? Distributed? Size?)\n\n**Vague Decision**:\n* What specific microservices architecture? (How many services? Boundaries?)\n* What alternatives did you consider? (Modular monolith? Serverless? Different service boundaries?)\n* What criteria led to this choice beyond \"better\"?\n\n**Missing Decision Drivers**:\n* What requirements must the solution meet?\n* What constraints do you have? (Team size, skills, budget, timeline)\n* What qualities matter most? (Development velocity? Scalability? Reliability?)\n\n**Unrealistic Consequences**:\n* \"Everything will be faster\" - What specific improvements do you expect?\n* Missing trade-offs - What will be harder? (Deployment? Debugging? Distributed transactions?)\n* No concrete metrics or validation plan\n\n**Comparison Issues**:\n* \"Netflix uses them\" - Netflix has very different scale and challenges\n* No evaluation of whether your needs match Netflix's situation\n\nWould you like help filling in these gaps? Let's start with: What specific\nproblem led to this decision?\n</code></pre>"},{"location":"docs/adr-research/ai-guidance-for-adrs/#conclusion","title":"Conclusion","text":"<p>When helping with ADRs, remember:</p> <ol> <li>Understand context first: Ask questions before writing</li> <li>Focus on \u201cwhy\u201d: The decision rationale matters most</li> <li>Be honest about trade-offs: Every choice has downsides</li> <li>Match formality to need: Don\u2019t over-engineer for simple decisions</li> <li>Make it useful: Future readers should understand the decision</li> <li>Guide, don\u2019t dictate: Help users think through the decision</li> </ol> <p>A good ADR answers:</p> <ul> <li>What was decided</li> <li>Why it was needed</li> <li>How the decision was made (alternatives considered)</li> <li>Who was involved</li> <li>When it was decided</li> <li>What the consequences are</li> </ul> <p>If an ADR answers these questions clearly, it will serve its purpose: helping future readers understand and trust the decision.</p>"},{"location":"docs/adr-research/aws-adr-guide/","title":"AWS Architecture Decision Records (ADRs) Guide","text":""},{"location":"docs/adr-research/aws-adr-guide/#overview","title":"Overview","text":"<p>AWS published a comprehensive guide recommending ADRs as a structured process for documenting architecturally significant decisions. The guide provides templates and best practices based on AWS\u2019s internal usage.</p> <p>Source: https://www.infoq.com/news/2022/06/aws-adr-guide/</p>"},{"location":"docs/adr-research/aws-adr-guide/#definition","title":"Definition","text":"<p>According to the AWS guide:</p> <p>\u201cAn ADR is a short document that describes a team decision that influences the software architecture.\u201d</p>"},{"location":"docs/adr-research/aws-adr-guide/#recommended-format","title":"Recommended Format","text":"<p>AWS provides templates to standardize ADR creation, ensuring consistent capture of:</p> <ul> <li>The decision itself: What was chosen</li> <li>Context surrounding the decision: Why it was needed</li> <li>Consequences of the choice: What impacts will result</li> </ul>"},{"location":"docs/adr-research/aws-adr-guide/#key-principles","title":"Key Principles","text":""},{"location":"docs/adr-research/aws-adr-guide/#ownership-responsibility","title":"Ownership &amp; Responsibility","text":"<p>The team member proposing an ADR owns it throughout its lifecycle and maintains accountability for its content.</p>"},{"location":"docs/adr-research/aws-adr-guide/#immutability","title":"Immutability","text":"<p>Once approved or rejected, ADRs become unchangeable. Updates require proposing new ADRs that supersede previous ones. This ensures:</p> <ul> <li>Historical context is preserved</li> <li>Past reasoning remains accessible</li> <li>Decision evolution is trackable</li> </ul>"},{"location":"docs/adr-research/aws-adr-guide/#decision-log-value","title":"Decision Log Value","text":"<p>The collective ADRs create:</p> <p>\u201cA broad context, design information, and implementation details about the project.\u201d</p>"},{"location":"docs/adr-research/aws-adr-guide/#best-practices","title":"Best Practices","text":""},{"location":"docs/adr-research/aws-adr-guide/#clear-states","title":"Clear States","text":"<p>ADRs progress through defined statuses:</p> <ul> <li>Proposed: Initial submission for review</li> <li>Accepted: Approved and ready for implementation</li> <li>Rejected: Not approved, with reasons documented</li> <li>Superseded: Replaced by a newer ADR</li> </ul>"},{"location":"docs/adr-research/aws-adr-guide/#team-review","title":"Team Review","text":"<p>Collaborative meetings ensure decisions receive thorough examination before approval. This:</p> <ul> <li>Brings diverse perspectives</li> <li>Identifies potential issues early</li> <li>Builds team consensus</li> <li>Creates shared understanding</li> </ul>"},{"location":"docs/adr-research/aws-adr-guide/#change-history","title":"Change History","text":"<p>Document evolution by marking old decisions as superseded when replaced. This maintains:</p> <ul> <li>Clear decision timeline</li> <li>Understanding of why changes were made</li> <li>Ability to learn from past choices</li> </ul>"},{"location":"docs/adr-research/aws-adr-guide/#reference-tool","title":"Reference Tool","text":"<p>Teams leverage the decision log during:</p> <ul> <li>Code reviews: Validate conformance to architectural decisions</li> <li>Architecture reviews: Ensure consistency with past choices</li> <li>Planning: Understand constraints and context</li> <li>Onboarding: Bring new team members up to speed</li> </ul>"},{"location":"docs/adr-research/aws-adr-guide/#benefits","title":"Benefits","text":"<ul> <li>Reduces repetitive discussions: Past decisions are documented and findable</li> <li>Improves architectural communication: Provides shared vocabulary and understanding</li> <li>Supports distributed teams: Asynchronous decision making and review</li> <li>Creates institutional knowledge: Prevents loss of context</li> <li>Validates conformance: Reference during reviews</li> </ul>"},{"location":"docs/adr-research/aws-adr-guide/#implementation-considerations","title":"Implementation Considerations","text":""},{"location":"docs/adr-research/aws-adr-guide/#when-to-create-an-adr","title":"When to Create an ADR","text":"<p>Create an ADR for decisions that:</p> <ul> <li>Have significant architectural impact</li> <li>Are difficult to reverse</li> <li>Affect multiple components or teams</li> <li>Involve trade-offs between competing concerns</li> <li>Need to be remembered long-term</li> </ul>"},{"location":"docs/adr-research/aws-adr-guide/#adr-lifecycle","title":"ADR Lifecycle","text":"<ol> <li>Draft: Author creates initial proposal</li> <li>Review: Team discusses and provides feedback</li> <li>Decision: Team accepts or rejects</li> <li>Archive: Store in decision log (never delete)</li> <li>Reference: Use during development and reviews</li> </ol>"},{"location":"docs/adr-research/aws-adr-guide/#use-cases","title":"Use Cases","text":"<ul> <li>Best for: Organizations valuing structured decision making</li> <li>Project Size: Medium to large projects</li> <li>Team Size: Multiple teams or distributed organizations</li> <li>Culture: Teams that value documentation and process</li> </ul>"},{"location":"docs/adr-research/comparison-and-recommendations/","title":"ADR Approaches: Comparison and Recommendations","text":""},{"location":"docs/adr-research/comparison-and-recommendations/#overview","title":"Overview","text":"<p>This document compares different approaches to documenting architectural decisions and provides recommendations based on project size, team structure, and organizational needs.</p>"},{"location":"docs/adr-research/comparison-and-recommendations/#quick-comparison-table","title":"Quick Comparison Table","text":"Approach Formality Complexity Time to Create Best For Tools Required Y-Statements Low Very Low 5-15 min Quick decisions, small teams None MADR Medium Low-Medium 30-60 min Most projects Markdown editor AWS ADR Medium-High Medium 1-2 hours Enterprise teams Markdown editor log4brains Medium Medium 30-60 min Teams wanting website log4brains CLI Prefect PINs Medium-High Medium-High Days-Weeks Open source proposals GitHub Ethereum EIPs Very High Very High Weeks-Months Protocol/standards GitHub, expertise"},{"location":"docs/adr-research/comparison-and-recommendations/#detailed-comparison","title":"Detailed Comparison","text":""},{"location":"docs/adr-research/comparison-and-recommendations/#format-and-structure","title":"Format and Structure","text":"Aspect Y-Statements MADR AWS ADR log4brains Prefect PINs Ethereum EIPs File Format Any (text/markdown) Markdown Markdown Markdown (MADR default) Markdown/GitHub Markdown Template Single sentence Multiple sections Multiple sections Customizable Issue template Rigorous specification Sections 6 components 5-10 sections 3-5 core sections Based on template Varies 10+ sections Length 1 sentence 1-3 pages 1-2 pages 1-3 pages 2-10 pages 5-50 pages Metadata Minimal Optional YAML Optional Auto-extracted GitHub metadata Extensive header"},{"location":"docs/adr-research/comparison-and-recommendations/#process-and-workflow","title":"Process and Workflow","text":"Aspect Y-Statements MADR AWS ADR log4brains Prefect PINs Ethereum EIPs Creation Time 5-15 min 30-60 min 1-2 hours 30-60 min Days-Weeks Weeks-Months Review Process Informal PR review Team meeting PR review Public discussion Multi-stage review Approval Team lead Team consensus Team meeting Merge to main Maintainers Community consensus Revision Easy Medium Medium Medium Common Expected Status Tracking Minimal Explicit states Explicit states 4 states GitHub labels 9+ states"},{"location":"docs/adr-research/comparison-and-recommendations/#tooling-and-integration","title":"Tooling and Integration","text":"Aspect Y-Statements MADR AWS ADR log4brains Prefect PINs Ethereum EIPs Special Tools None None None log4brains CLI GitHub GitHub + Jekyll Version Control Any Git Git Git Git (GitHub) Git (GitHub) Documentation Site Manual Manual Manual Auto-generated GitHub issues GitHub Pages Search grep/text search grep/text search grep/text search Built-in GitHub search Site search Templates One format 4 variants AWS templates Customizable Project-specific EIP-1 template"},{"location":"docs/adr-research/comparison-and-recommendations/#team-and-project-fit","title":"Team and Project Fit","text":"Aspect Y-Statements MADR AWS ADR log4brains Prefect PINs Ethereum EIPs Team Size 1-5 1-20 5-50 3-50 5-100+ Ecosystem-wide Project Size Small-Medium Any Medium-Large Medium-Large Large Very Large Formality Informal Semi-formal Formal Semi-formal Formal Very Formal Learning Curve Very Low Low Medium Medium Medium-High High Maintenance Very Low Low Medium Medium High Very High"},{"location":"docs/adr-research/comparison-and-recommendations/#recommendations-by-project-size","title":"Recommendations by Project Size","text":""},{"location":"docs/adr-research/comparison-and-recommendations/#tiny-projects-1-2-developers-6-months","title":"Tiny Projects (1-2 developers, &lt; 6 months)","text":"<p>Recommended: Y-Statements or simple notes in README</p> <p>Rationale:</p> <ul> <li>Minimal overhead</li> <li>Quick to create</li> <li>Low maintenance</li> <li>Easy to evolve</li> </ul> <p>Implementation:</p> <pre><code>## Architecture Decisions\n\n### Use SQLite for storage (2024-01-15)\n\nIn the context of local data storage, facing the need for simple persistence, we decided for SQLite and against PostgreSQL, to achieve zero-configuration deployment, accepting that we're limited to single-server deployment.\n</code></pre> <p>Pros:</p> <ul> <li>No process overhead</li> <li>Captures essentials</li> <li>Fast iteration</li> </ul> <p>Cons:</p> <ul> <li>May lack detail for complex decisions</li> <li>Less discoverable</li> <li>Harder to maintain as project grows</li> </ul>"},{"location":"docs/adr-research/comparison-and-recommendations/#small-projects-2-5-developers-6-months-2-years","title":"Small Projects (2-5 developers, 6 months - 2 years)","text":"<p>Recommended: MADR (Minimal variant)</p> <p>Rationale:</p> <ul> <li>Lightweight but structured</li> <li>Scales with project growth</li> <li>No special tools needed</li> <li>Industry standard</li> </ul> <p>Implementation:</p> <pre><code>project/\n\u251c\u2500\u2500 docs/\n\u2502   \u2514\u2500\u2500 adr/\n\u2502       \u251c\u2500\u2500 0001-record-architecture-decisions.md\n\u2502       \u251c\u2500\u2500 0002-use-pytest-for-testing.md\n\u2502       \u2514\u2500\u2500 0003-implement-rest-api.md\n</code></pre> <p>Template: Use MADR minimal template</p> <p>Process:</p> <ol> <li>Developer creates ADR in PR</li> <li>Team reviews in code review</li> <li>Merge to main</li> </ol> <p>Pros:</p> <ul> <li>Low overhead</li> <li>Structured format</li> <li>Room to grow</li> <li>Familiar workflow</li> </ul> <p>Cons:</p> <ul> <li>Requires discipline</li> <li>No automated tooling</li> <li>Manual indexing</li> </ul>"},{"location":"docs/adr-research/comparison-and-recommendations/#medium-projects-5-15-developers-2-5-years","title":"Medium Projects (5-15 developers, 2-5 years)","text":"<p>Recommended: MADR (Full variant) or AWS ADR Guide</p> <p>Rationale:</p> <ul> <li>Need more structure</li> <li>Multiple team members</li> <li>Longer timeline needs documentation</li> <li>More stakeholders</li> </ul> <p>Implementation:</p> <pre><code>project/\n\u251c\u2500\u2500 docs/\n\u2502   \u251c\u2500\u2500 adr/\n\u2502   \u2502   \u251c\u2500\u2500 README.md (index)\n\u2502   \u2502   \u251c\u2500\u2500 backend/\n\u2502   \u2502   \u2502   \u251c\u2500\u2500 0001-database-selection.md\n\u2502   \u2502   \u2502   \u2514\u2500\u2500 0002-api-framework.md\n\u2502   \u2502   \u2514\u2500\u2500 frontend/\n\u2502   \u2502       \u251c\u2500\u2500 0001-react-vs-vue.md\n\u2502   \u2502       \u2514\u2500\u2500 0002-state-management.md\n</code></pre> <p>Template: Full MADR or AWS ADR template</p> <p>Process:</p> <ol> <li>ADR required for architectural decisions</li> <li>Team review meeting for significant decisions</li> <li>PR review for all ADRs</li> <li>Integration with documentation site (MkDocs, Docusaurus)</li> </ol> <p>Considerations:</p> <ul> <li>Categorization: Organize by component/layer</li> <li>Index: Maintain README with list and status</li> <li>Integration: Add to CI/CD to validate format</li> <li>Reviews: Make ADRs part of architecture review</li> </ul> <p>Pros:</p> <ul> <li>Comprehensive documentation</li> <li>Organized structure</li> <li>Supports growth</li> <li>Team alignment</li> </ul> <p>Cons:</p> <ul> <li>More time investment</li> <li>Needs enforcement</li> <li>Requires maintenance</li> </ul>"},{"location":"docs/adr-research/comparison-and-recommendations/#large-projects-15-50-developers-5-years","title":"Large Projects (15-50 developers, 5+ years)","text":"<p>Recommended: log4brains or MADR + documentation site</p> <p>Rationale:</p> <ul> <li>Many stakeholders</li> <li>Need searchability</li> <li>Long-term maintenance</li> <li>Onboarding needs</li> </ul> <p>Implementation Option 1: log4brains</p> <pre><code># Initialize\nnpx log4brains init\n\n# Create ADR\nnpx log4brains adr new\n\n# Preview\nnpx log4brains preview\n\n# Build site\nnpx log4brains build\n\n# Deploy to GitHub Pages\n</code></pre> <p>Implementation Option 2: MADR + MkDocs</p> <pre><code>project/\n\u251c\u2500\u2500 docs/\n\u2502   \u251c\u2500\u2500 adr/\n\u2502   \u2502   \u251c\u2500\u2500 index.md\n\u2502   \u2502   \u251c\u2500\u2500 0001-*.md\n\u2502   \u2502   \u2514\u2500\u2500 ...\n\u2502   \u2514\u2500\u2500 mkdocs.yml\n</code></pre> <p>Process:</p> <ol> <li>ADR template in repo</li> <li>Automated checks for format</li> <li>Required reviews by architects</li> <li>Automatic site generation</li> <li>Published to internal/external site</li> <li>Regular audits of ADR status</li> </ol> <p>Considerations:</p> <ul> <li>Tooling: Invest in automation</li> <li>Governance: Clear ownership and process</li> <li>Search: Make ADRs easily discoverable</li> <li>Metrics: Track ADR coverage</li> <li>Integration: Link from code, docs, issues</li> </ul> <p>Pros:</p> <ul> <li>Excellent searchability</li> <li>Professional presentation</li> <li>Supports large teams</li> <li>Great for onboarding</li> <li>Historical record</li> </ul> <p>Cons:</p> <ul> <li>Setup overhead</li> <li>Tool dependency</li> <li>Requires maintenance</li> <li>May need dedicated owner</li> </ul>"},{"location":"docs/adr-research/comparison-and-recommendations/#very-large-projects-multi-team-50-developers","title":"Very Large Projects / Multi-Team (50+ developers)","text":"<p>Recommended: AWS ADR Guide approach + centralized tooling</p> <p>Rationale:</p> <ul> <li>Multiple teams need coordination</li> <li>Consistent format critical</li> <li>Enterprise governance</li> <li>Audit and compliance needs</li> </ul> <p>Implementation:</p> <pre><code>organization/\n\u251c\u2500\u2500 adr-templates/\n\u2502   \u251c\u2500\u2500 standard-adr.md\n\u2502   \u251c\u2500\u2500 security-adr.md\n\u2502   \u2514\u2500\u2500 data-adr.md\n\u251c\u2500\u2500 projects/\n\u2502   \u251c\u2500\u2500 project-a/\n\u2502   \u2502   \u2514\u2500\u2500 docs/adr/\n\u2502   \u251c\u2500\u2500 project-b/\n\u2502   \u2502   \u2514\u2500\u2500 docs/adr/\n</code></pre> <p>Infrastructure:</p> <ul> <li>Central repository: ADR templates and guidelines</li> <li>Automated validation: CI/CD checks for format compliance</li> <li>Search platform: Searchable across all projects</li> <li>Review board: Architectural review for major decisions</li> <li>Training: Onboarding for new team members</li> </ul> <p>Process:</p> <ol> <li>Template selection based on decision type</li> <li>Draft creation by proposer</li> <li>Stakeholder consultation</li> <li>Review by architecture board</li> <li>Team consensus</li> <li>Final approval and publication</li> <li>Implementation tracking</li> </ol> <p>Governance:</p> <ul> <li>Ownership: Clear DRI (Directly Responsible Individual)</li> <li>States: Strict status tracking</li> <li>Impact analysis: Required for breaking changes</li> <li>Compliance: Link to regulations/standards</li> <li>Audit trail: Complete history</li> </ul> <p>Pros:</p> <ul> <li>Enterprise-grade</li> <li>Consistent across teams</li> <li>Supports compliance</li> <li>Clear governance</li> <li>Excellent traceability</li> </ul> <p>Cons:</p> <ul> <li>High overhead</li> <li>Complex process</li> <li>May slow decisions</li> <li>Requires dedicated resources</li> </ul>"},{"location":"docs/adr-research/comparison-and-recommendations/#recommendations-by-project-type","title":"Recommendations by Project Type","text":""},{"location":"docs/adr-research/comparison-and-recommendations/#open-source-projects","title":"Open Source Projects","text":"<p>Recommended: Prefect PINs approach or MADR with public docs</p> <p>Rationale:</p> <ul> <li>Community involvement</li> <li>Transparent decision making</li> <li>Educational value</li> <li>Build trust</li> </ul> <p>Implementation:</p> <pre><code>project/\n\u251c\u2500\u2500 docs/\n\u2502   \u251c\u2500\u2500 adr/\n\u2502   \u2502   \u2514\u2500\u2500 *.md (published to docs site)\n\u251c\u2500\u2500 .github/\n\u2502   \u251c\u2500\u2500 ISSUE_TEMPLATE/\n\u2502   \u2502   \u2514\u2500\u2500 pin.md\n</code></pre> <p>Process:</p> <ol> <li>Community member opens issue/PR with proposal</li> <li>Discussion in GitHub</li> <li>Maintainers provide feedback</li> <li>Revision based on input</li> <li>Decision by maintainers</li> <li>Implementation</li> <li>Documentation in ADR</li> </ol> <p>Considerations:</p> <ul> <li>Accessibility: Make ADRs easy to find</li> <li>Welcoming: Encourage community proposals</li> <li>Transparent: Document rationale clearly</li> <li>Responsive: Timely feedback on proposals</li> </ul> <p>Examples: Prefect, Structurizr Python, Arachne</p>"},{"location":"docs/adr-research/comparison-and-recommendations/#internal-enterprise-applications","title":"Internal Enterprise Applications","text":"<p>Recommended: AWS ADR Guide or MADR (Full)</p> <p>Rationale:</p> <ul> <li>Clear governance needed</li> <li>Compliance requirements</li> <li>Audit trail</li> <li>Team turnover</li> </ul> <p>Focus:</p> <ul> <li>Security: Security considerations section</li> <li>Compliance: Regulatory requirements</li> <li>Risk: Risk assessment</li> <li>Cost: TCO analysis</li> </ul>"},{"location":"docs/adr-research/comparison-and-recommendations/#startups-fast-moving-teams","title":"Startups / Fast-Moving Teams","text":"<p>Recommended: Y-Statements or MADR (Minimal)</p> <p>Rationale:</p> <ul> <li>Speed is critical</li> <li>Rapid iteration</li> <li>Frequent changes</li> <li>Small team</li> </ul> <p>Approach:</p> <ul> <li>Start with Y-Statements</li> <li>Upgrade to MADR when needed</li> <li>Only document significant decisions</li> <li>Keep it lightweight</li> </ul> <p>Red Flags to Watch:</p> <ul> <li>Team growing \u2192 need more structure</li> <li>Decisions being revisited \u2192 need documentation</li> <li>Onboarding taking too long \u2192 need context</li> </ul>"},{"location":"docs/adr-research/comparison-and-recommendations/#protocol-standards-development","title":"Protocol / Standards Development","text":"<p>Recommended: Ethereum EIPs approach</p> <p>Rationale:</p> <ul> <li>Multiple implementations</li> <li>High stakes</li> <li>Security critical</li> <li>Long-term impact</li> </ul> <p>Requirements:</p> <ul> <li>Rigorous specification</li> <li>Test cases</li> <li>Reference implementation</li> <li>Security analysis</li> <li>Multi-stage review</li> <li>Community consensus</li> </ul> <p>Examples: Ethereum, Bitcoin, IETF RFCs</p>"},{"location":"docs/adr-research/comparison-and-recommendations/#hybrid-approaches","title":"Hybrid Approaches","text":""},{"location":"docs/adr-research/comparison-and-recommendations/#start-lightweight-scale-up","title":"Start Lightweight, Scale Up","text":"<p>Path:</p> <ol> <li>Phase 1 (0-6 months): Y-Statements in README</li> <li>Phase 2 (6-18 months): MADR minimal in docs/adr/</li> <li>Phase 3 (18-36 months): Full MADR + documentation site</li> <li>Phase 4 (36+ months): log4brains or custom tooling</li> </ol> <p>Trigger Points:</p> <ul> <li>Team size doubles \u2192 increase formality</li> <li>Decision being re-litigated \u2192 need documentation</li> <li>Onboarding takes &gt; 1 month \u2192 need better docs</li> <li>Compliance requirements \u2192 add rigor</li> </ul>"},{"location":"docs/adr-research/comparison-and-recommendations/#multi-tier-system","title":"Multi-Tier System","text":"<p>For large organizations with varied needs:</p> <p>Tier 1: Y-Statements</p> <ul> <li>Minor decisions</li> <li>Component-level choices</li> <li>Quick iterations</li> </ul> <p>Tier 2: MADR</p> <ul> <li>Feature-level decisions</li> <li>Moderate impact</li> <li>Team consensus needed</li> </ul> <p>Tier 3: Full ADR</p> <ul> <li>Architectural decisions</li> <li>Multi-team impact</li> <li>Long-term consequences</li> </ul> <p>Tier 4: RFC/PIN</p> <ul> <li>Organization-wide changes</li> <li>Breaking changes</li> <li>Standards and patterns</li> </ul>"},{"location":"docs/adr-research/comparison-and-recommendations/#selection-decision-tree","title":"Selection Decision Tree","text":"<pre><code>Start: Need to document a decision?\n\u2502\n\u251c\u2500 Is it trivial/reversible? \u2192 No documentation needed\n\u2502\n\u251c\u2500 Small team (&lt; 5) + fast iteration?\n\u2502  \u2514\u2500 \u2192 Y-Statements\n\u2502\n\u251c\u2500 Open source + community input?\n\u2502  \u2514\u2500 \u2192 PIN-style proposal\n\u2502\n\u251c\u2500 Protocol/standard development?\n\u2502  \u2514\u2500 \u2192 EIP-style rigorous process\n\u2502\n\u251c\u2500 Need searchable website?\n\u2502  \u2514\u2500 \u2192 log4brains\n\u2502\n\u251c\u2500 Enterprise/compliance needs?\n\u2502  \u2514\u2500 \u2192 AWS ADR Guide\n\u2502\n\u2514\u2500 Most other cases?\n   \u2514\u2500 \u2192 MADR (start minimal, grow as needed)\n</code></pre>"},{"location":"docs/adr-research/comparison-and-recommendations/#common-pitfalls-to-avoid","title":"Common Pitfalls to Avoid","text":""},{"location":"docs/adr-research/comparison-and-recommendations/#1-too-much-process-too-soon","title":"1. Too Much Process Too Soon","text":"<p>Symptom: Team resists creating ADRs</p> <p>Fix: Start lighter, add structure as needed</p>"},{"location":"docs/adr-research/comparison-and-recommendations/#2-too-little-structure","title":"2. Too Little Structure","text":"<p>Symptom: ADRs inconsistent, hard to find, missing context</p> <p>Fix: Adopt standard template, even if minimal</p>"},{"location":"docs/adr-research/comparison-and-recommendations/#3-writing-novels","title":"3. Writing Novels","text":"<p>Symptom: ADRs take days to write, no one reads them</p> <p>Fix: Focus on context, decision, consequences. Details can be links.</p>"},{"location":"docs/adr-research/comparison-and-recommendations/#4-set-it-and-forget-it","title":"4. Set It and Forget It","text":"<p>Symptom: ADRs out of date, status unclear</p> <p>Fix: Review quarterly, update status, mark superseded</p>"},{"location":"docs/adr-research/comparison-and-recommendations/#5-no-enforcement","title":"5. No Enforcement","text":"<p>Symptom: Some decisions documented, others not</p> <p>Fix: Make ADRs part of definition of done, review in retros</p>"},{"location":"docs/adr-research/comparison-and-recommendations/#6-wrong-scope","title":"6. Wrong Scope","text":"<p>Symptom: ADRs for trivial decisions OR missing major ones</p> <p>Fix: Define what warrants an ADR (architectural significance)</p>"},{"location":"docs/adr-research/comparison-and-recommendations/#success-metrics","title":"Success Metrics","text":"<p>Track these to measure ADR effectiveness:</p> <ul> <li>Coverage: % of architectural decisions documented</li> <li>Findability: Time to find relevant ADR</li> <li>Usage: ADRs referenced in PRs, discussions</li> <li>Onboarding: Time to onboard reduced</li> <li>Re-litigation: Fewer debates about settled decisions</li> <li>Compliance: Audit trail completeness</li> </ul>"},{"location":"docs/adr-research/comparison-and-recommendations/#migration-strategies","title":"Migration Strategies","text":""},{"location":"docs/adr-research/comparison-and-recommendations/#from-no-adrs-to-adrs","title":"From No ADRs to ADRs","text":"<ol> <li>Start with ADR-0001: \u201cRecord architecture decisions\u201d</li> <li>Document next decision: Practice the process</li> <li>Backfill incrementally: Document existing major decisions as time allows</li> <li>Make it habit: Add to PR template checklist</li> </ol>"},{"location":"docs/adr-research/comparison-and-recommendations/#from-y-statements-to-madr","title":"From Y-Statements to MADR","text":"<ol> <li>Choose template: MADR minimal to start</li> <li>Convert existing: Expand Y-Statements to full ADRs</li> <li>Update process: Train team on new format</li> <li>Parallel run: Accept both for transition period</li> </ol>"},{"location":"docs/adr-research/comparison-and-recommendations/#from-madr-to-log4brains","title":"From MADR to log4brains","text":"<ol> <li>Install log4brains: <code>npx log4brains init</code></li> <li>Migrate files: Copy ADRs to log4brains directory</li> <li>Update metadata: Ensure proper front matter</li> <li>Generate site: <code>npx log4brains build</code></li> <li>Deploy: Publish to GitHub Pages or hosting</li> </ol>"},{"location":"docs/adr-research/comparison-and-recommendations/#summary-recommendations","title":"Summary Recommendations","text":"Your Situation Recommended Approach Why Solo developer Y-Statements or notes Minimal overhead, maximum flexibility Small team (2-5) MADR Minimal Lightweight structure, room to grow Growing team (5-15) MADR Full Comprehensive, organized, scalable Large team (15-50) log4brains or MADR + site Searchable, professional, team-friendly Enterprise (50+) AWS ADR + governance Process, compliance, consistency Open source MADR + public docs Transparent, accessible, community-friendly Need community input PIN-style proposals Collaborative, inclusive, transparent Protocol development EIP-style rigorous Specification-grade, multi-implementation Fast startup Y-Statements Speed over process Regulated industry AWS ADR + extras Compliance, audit trail, formality"},{"location":"docs/adr-research/comparison-and-recommendations/#next-steps","title":"Next Steps","text":"<ol> <li>Choose your starting point based on recommendations above</li> <li>Create ADR-0001 to establish the practice</li> <li>Select a template and customize if needed</li> <li>Document your next decision to practice</li> <li>Review in 3 months and adjust as needed</li> <li>Scale up as team and project grow</li> </ol> <p>Remember: The best ADR system is the one your team actually uses. Start simple, iterate, and grow your practice over time.</p>"},{"location":"docs/adr-research/ethereum-eips/","title":"Ethereum EIPs - Ethereum Improvement Proposals","text":""},{"location":"docs/adr-research/ethereum-eips/#overview","title":"Overview","text":"<p>EIPs (Ethereum Improvement Proposals) are the standardization and documentation process for improvements to the Ethereum blockchain platform. They represent one of the most rigorous and well-established decision documentation processes in the blockchain space.</p> <p>Repository: https://github.com/ethereum/EIPs Documentation: Approximately 870 EIP documents Purpose: \u201cTo standardize and provide high-quality documentation for Ethereum itself and conventions built upon it\u201d</p>"},{"location":"docs/adr-research/ethereum-eips/#eip-categories","title":"EIP Categories","text":"<p>The system divides proposals into six main types:</p>"},{"location":"docs/adr-research/ethereum-eips/#1-core-eips","title":"1. Core EIPs","text":"<p>Changes to the Ethereum consensus protocol:</p> <ul> <li>Consensus rules</li> <li>Blockchain validation</li> <li>Proof-of-work/proof-of-stake mechanisms</li> <li>Fork implementations</li> <li>Critical protocol updates</li> </ul> <p>Impact: Requires all nodes to upgrade Examples: Major network upgrades (Shanghai, Merge, etc.)</p>"},{"location":"docs/adr-research/ethereum-eips/#2-networking-eips","title":"2. Networking EIPs","text":"<p>Peer-to-peer network layer specifications:</p> <ul> <li>Network protocols</li> <li>Node communication</li> <li>Devp2p improvements</li> <li>Discovery mechanisms</li> </ul> <p>Impact: Affects node communication Examples: Network optimization proposals</p>"},{"location":"docs/adr-research/ethereum-eips/#3-interface-eips","title":"3. Interface EIPs","text":"<p>Standards determining user and application interaction with blockchain:</p> <ul> <li>JSON-RPC specifications</li> <li>API standards</li> <li>Client interfaces</li> <li>Developer tools</li> </ul> <p>Impact: Affects how applications interact with Ethereum Examples: RPC method specifications</p>"},{"location":"docs/adr-research/ethereum-eips/#4-meta-eips","title":"4. Meta EIPs","text":"<p>Miscellaneous improvements requiring consensus:</p> <ul> <li>Process improvements</li> <li>Guidelines</li> <li>Decision-making procedures</li> <li>EIP process itself (EIP-1)</li> </ul> <p>Impact: Affects Ethereum development process Examples: EIP-1 (EIP Purpose and Guidelines)</p>"},{"location":"docs/adr-research/ethereum-eips/#5-informational-eips","title":"5. Informational EIPs","text":"<p>Non-binding documentation:</p> <ul> <li>Design rationale</li> <li>General guidelines</li> <li>Best practices</li> <li>Educational content</li> </ul> <p>Impact: Informational only, no implementation required Examples: Design philosophy documents</p>"},{"location":"docs/adr-research/ethereum-eips/#6-ercs-ethereum-request-for-comments","title":"6. ERCs (Ethereum Request for Comments)","text":"<p>Application layer standards - now in separate repository:</p> <ul> <li>Token standards (ERC-20, ERC-721, ERC-1155)</li> <li>Smart contract patterns</li> <li>Application conventions</li> </ul> <p>Important: ERCs are now maintained at https://github.com/ethereum/ercs</p>"},{"location":"docs/adr-research/ethereum-eips/#eip-process","title":"EIP Process","text":""},{"location":"docs/adr-research/ethereum-eips/#before-proposing","title":"Before Proposing","text":"<p>According to the README:</p> <p>\u201cIdeas MUST be thoroughly discussed on Ethereum Magicians or Ethereum Research\u201d</p> <p>This ensures:</p> <ul> <li>Community vetting before formal submission</li> <li>Refinement of ideas</li> <li>Identification of issues</li> <li>Building consensus</li> </ul>"},{"location":"docs/adr-research/ethereum-eips/#proposal-lifecycle","title":"Proposal Lifecycle","text":"<ol> <li>Discussion: Informal discussion on forums</li> <li>Draft: Initial EIP written using template</li> <li>Review: Community and editors review</li> <li>Last Call: Final comment period</li> <li>Final: Accepted and finalized</li> <li>Living: For documents that are continually updated</li> <li>Stagnant: Inactive for 6+ months</li> <li>Withdrawn: Author withdrew proposal</li> <li>Rejected: Not accepted</li> </ol>"},{"location":"docs/adr-research/ethereum-eips/#eip-1-the-meta-eip","title":"EIP-1: The Meta-EIP","text":"<p>EIP-1 governs the entire publication process and is required reading for anyone proposing an EIP. It defines:</p> <ul> <li>EIP formats and structures</li> <li>Review processes</li> <li>Status transitions</li> <li>Editor responsibilities</li> <li>Quality standards</li> </ul>"},{"location":"docs/adr-research/ethereum-eips/#eip-structure","title":"EIP Structure","text":""},{"location":"docs/adr-research/ethereum-eips/#required-components","title":"Required Components","text":"<p>Based on typical EIP structure:</p> <p>Header/Metadata</p> <ul> <li>EIP number</li> <li>Title</li> <li>Author(s)</li> <li>Status</li> <li>Type</li> <li>Category</li> <li>Created date</li> <li>Requires (dependencies)</li> <li>Replaces/Superseded-By</li> </ul> <p>Abstract</p> <p>Brief technical summary (~200 words)</p> <p>Motivation</p> <p>Why the EIP is necessary, what problem it solves</p> <p>Specification</p> <p>Technical details of the proposal:</p> <ul> <li>Precise technical description</li> <li>Formal specifications</li> <li>Implementation details</li> <li>Edge cases</li> </ul> <p>Rationale</p> <p>Design decisions and alternatives considered:</p> <ul> <li>Why this approach?</li> <li>What alternatives were considered?</li> <li>What trade-offs were made?</li> </ul> <p>Backwards Compatibility</p> <p>Impact on existing implementations:</p> <ul> <li>Breaking changes</li> <li>Migration requirements</li> <li>Deprecated features</li> </ul> <p>Test Cases (for Core EIPs)</p> <p>Comprehensive test coverage</p> <p>Reference Implementation</p> <p>Working code demonstrating the proposal</p> <p>Security Considerations</p> <p>Security implications and risks</p>"},{"location":"docs/adr-research/ethereum-eips/#technical-rigor","title":"Technical Rigor","text":""},{"location":"docs/adr-research/ethereum-eips/#high-standards","title":"High Standards","text":"<p>EIPs require:</p> <ul> <li>Precise specification: Implementable from document alone</li> <li>Technical completeness: All edge cases covered</li> <li>Test cases: Comprehensive validation</li> <li>Reference implementation: Proof of concept</li> <li>Security analysis: Threat model considered</li> </ul>"},{"location":"docs/adr-research/ethereum-eips/#editor-review","title":"Editor Review","text":"<p>Designated EIP editors:</p> <ul> <li>Review for technical quality</li> <li>Ensure format compliance</li> <li>Check for completeness</li> <li>Assign EIP numbers</li> <li>Manage status transitions</li> </ul>"},{"location":"docs/adr-research/ethereum-eips/#community-governance","title":"Community Governance","text":""},{"location":"docs/adr-research/ethereum-eips/#decentralized-decision-making","title":"Decentralized Decision Making","text":"<ul> <li>No single authority approves EIPs</li> <li>Consensus through discussion</li> <li>Multiple stakeholder types (developers, miners, users)</li> <li>Transparent process</li> </ul>"},{"location":"docs/adr-research/ethereum-eips/#stakeholder-groups","title":"Stakeholder Groups","text":"<ul> <li>Core developers: Protocol implementation</li> <li>Client teams: Node software</li> <li>Application developers: Smart contracts and dApps</li> <li>Users: Token holders and network participants</li> <li>Researchers: Academic and theoretical input</li> </ul>"},{"location":"docs/adr-research/ethereum-eips/#integration-with-development","title":"Integration with Development","text":""},{"location":"docs/adr-research/ethereum-eips/#fork-coordination","title":"Fork Coordination","text":"<p>Major Ethereum upgrades bundle multiple EIPs:</p> <ul> <li>Shanghai: Multiple EIPs implemented together</li> <li>The Merge: Transition to proof-of-stake</li> <li>London: EIP-1559 and others</li> </ul> <p>This requires:</p> <ul> <li>Dependency management</li> <li>Testing across EIPs</li> <li>Coordinated deployment</li> <li>Network-wide upgrade</li> </ul>"},{"location":"docs/adr-research/ethereum-eips/#implementation-tracking","title":"Implementation Tracking","text":"<ul> <li>Multiple client implementations (Geth, Besu, Nethermind, etc.)</li> <li>Each must implement EIPs independently</li> <li>Cross-client testing required</li> <li>Testnet deployment before mainnet</li> </ul>"},{"location":"docs/adr-research/ethereum-eips/#documentation-system","title":"Documentation System","text":""},{"location":"docs/adr-research/ethereum-eips/#static-site","title":"Static Site","text":"<ul> <li>Built with Jekyll (Ruby 3.1.4)</li> <li>GitHub Pages deployment</li> <li>RSS feeds for updates</li> <li>Categorized browsing</li> <li>Search functionality</li> </ul>"},{"location":"docs/adr-research/ethereum-eips/#organization","title":"Organization","text":"<ul> <li>Individual markdown files per EIP</li> <li>Consistent naming: <code>eip-NNNN.md</code></li> <li>Template for new proposals</li> <li>Configuration for site generation</li> </ul>"},{"location":"docs/adr-research/ethereum-eips/#benefits-of-eip-process","title":"Benefits of EIP Process","text":""},{"location":"docs/adr-research/ethereum-eips/#for-the-network","title":"For the Network","text":"<ul> <li>Standardization: Consistent improvements</li> <li>Quality: High technical bar</li> <li>Security: Thorough review</li> <li>Compatibility: Coordinated changes</li> </ul>"},{"location":"docs/adr-research/ethereum-eips/#for-developers","title":"For Developers","text":"<ul> <li>Clarity: Clear specifications</li> <li>Reference: Test cases and implementations</li> <li>History: Understanding of design evolution</li> <li>Standards: Common patterns and practices</li> </ul>"},{"location":"docs/adr-research/ethereum-eips/#for-the-ecosystem","title":"For the Ecosystem","text":"<ul> <li>Transparency: Open proposal process</li> <li>Participation: Anyone can propose</li> <li>Governance: Decentralized decision making</li> <li>Documentation: Permanent record</li> </ul>"},{"location":"docs/adr-research/ethereum-eips/#challenges","title":"Challenges","text":""},{"location":"docs/adr-research/ethereum-eips/#high-barrier-to-entry","title":"High Barrier to Entry","text":"<ul> <li>Requires significant technical expertise</li> <li>Formal writing style</li> <li>Comprehensive specification</li> <li>Reference implementation</li> </ul>"},{"location":"docs/adr-research/ethereum-eips/#long-process","title":"Long Process","text":"<ul> <li>Multiple review stages</li> <li>Community consensus building</li> <li>Cross-client implementation</li> <li>Testing and deployment</li> </ul>"},{"location":"docs/adr-research/ethereum-eips/#coordination-complexity","title":"Coordination Complexity","text":"<ul> <li>Multiple independent teams</li> <li>Global distributed contributors</li> <li>Network upgrade coordination</li> <li>Backward compatibility maintenance</li> </ul>"},{"location":"docs/adr-research/ethereum-eips/#comparison-to-software-adrs","title":"Comparison to Software ADRs","text":""},{"location":"docs/adr-research/ethereum-eips/#similarities","title":"Similarities","text":"<ul> <li>Document important decisions</li> <li>Capture rationale</li> <li>Permanent record</li> <li>Version controlled</li> </ul>"},{"location":"docs/adr-research/ethereum-eips/#differences","title":"Differences","text":"Aspect EIPs Traditional ADRs Scope Network-wide protocol Single project/application Stakeholders Entire ecosystem Internal team Process Highly formal, multi-stage Lightweight, team consensus Technical Detail Exhaustive specification Contextual detail as needed Review Public, multiple reviewers Team review Implementation Multiple independent teams Single team Time Scale Months to years Days to weeks"},{"location":"docs/adr-research/ethereum-eips/#use-cases-for-eip-style-process","title":"Use Cases for EIP-style Process","text":""},{"location":"docs/adr-research/ethereum-eips/#best-for","title":"Best For","text":"<ul> <li>Protocol development: Network-wide standards</li> <li>Public blockchains: Decentralized governance</li> <li>Open standards: Industry-wide adoption</li> <li>Critical infrastructure: High-stakes decisions</li> <li>Multiple implementations: Interoperability required</li> </ul>"},{"location":"docs/adr-research/ethereum-eips/#overkill-for","title":"Overkill For","text":"<ul> <li>Internal applications: Single team/codebase</li> <li>Rapid iteration: Fast-moving projects</li> <li>Small changes: Minor improvements</li> <li>Proprietary systems: No external stakeholders</li> </ul>"},{"location":"docs/adr-research/ethereum-eips/#key-takeaways","title":"Key Takeaways","text":"<ol> <li>Most rigorous process: Highest bar for quality and completeness</li> <li>Community-driven: Open participation and governance</li> <li>Protocol-level: For network-wide changes</li> <li>Long timelines: Thorough but slow</li> <li>Multiple implementations: Requires precise specification</li> <li>Permanent record: Comprehensive historical documentation</li> </ol>"},{"location":"docs/adr-research/ethereum-eips/#applicable-lessons-for-software-projects","title":"Applicable Lessons for Software Projects","text":"<p>Even if not adopting full EIP rigor, teams can learn from:</p> <ul> <li>Template structure: Comprehensive sections</li> <li>Rationale section: Document alternatives considered</li> <li>Security considerations: Explicit threat analysis</li> <li>Test cases: Validation requirements</li> <li>Reference implementation: Proof of concept</li> <li>Status tracking: Clear lifecycle states</li> <li>Backwards compatibility: Impact analysis</li> </ul>"},{"location":"docs/adr-research/ethereum-eips/#use-cases","title":"Use Cases","text":"<ul> <li>Best for: Blockchain protocols and decentralized networks</li> <li>Project Size: Very large, network-scale projects</li> <li>Team Size: Multiple independent teams</li> <li>Culture: Open source, decentralized governance</li> <li>Formality: Highly formal</li> <li>Time Investment: Substantial (months to years per proposal)</li> <li>Standards: Industry-wide or ecosystem-wide standards</li> </ul>"},{"location":"docs/adr-research/log4brains/","title":"log4brains - Architecture Decision Records Management Tool","text":""},{"location":"docs/adr-research/log4brains/#overview","title":"Overview","text":"<p>log4brains is an open-source tool that enables teams to document and publish Architecture Decision Records (ADRs) as a searchable knowledge base. It treats documentation as code, storing ADR files in markdown format within your git repository.</p> <p>Website: https://github.com/thomvaill/log4brains Live Example: https://thomvaill.github.io/log4brains/adr/</p>"},{"location":"docs/adr-research/log4brains/#key-features","title":"Key Features","text":"<ul> <li>Local preview with hot-reload editing: Real-time preview of ADR changes during authoring</li> <li>Interactive CLI: Guided creation of new ADRs from customizable templates</li> <li>Static site generation: Publish to GitHub/GitLab Pages or S3</li> <li>Automatic metadata extraction: Pulls information from git history and document content</li> <li>Multi-package support: Works with both single and multi-package projects</li> <li>Searchable timeline interface: No enforced numbering schema, flexible organization</li> </ul>"},{"location":"docs/adr-research/log4brains/#how-it-works","title":"How It Works","text":""},{"location":"docs/adr-research/log4brains/#workflow","title":"Workflow","text":"<ol> <li>Initialize: Run <code>log4brains init</code> to configure the tool</li> <li>Preview: Use <code>log4brains preview</code> to see changes in real-time</li> <li>Create: Run <code>log4brains adr new</code> to create new decisions (uses MADR template by default)</li> <li>Build: Execute <code>log4brains build</code> to generate static website for deployment</li> </ol>"},{"location":"docs/adr-research/log4brains/#adr-properties","title":"ADR Properties","text":"<p>Each ADR record contains:</p> <ul> <li>Slug: Unique identifier (e.g., \u201c20200924-use-markdown-architectural-decision-records\u201d)</li> <li>Title: Descriptive name of the decision</li> <li>Status: One of four states\u2014proposed, accepted, superseded, or deprecated</li> <li>Creation Date: When the ADR was written</li> <li>Publication Date: When it became effective</li> <li>Package: Optional categorization (e.g., \u201cweb\u201d, \u201ccore\u201d, or null for project-wide)</li> </ul>"},{"location":"docs/adr-research/log4brains/#status-workflow","title":"Status Workflow","text":"<p>The decision process follows these stages:</p> <ol> <li>Proposed - Initial submission</li> <li>Accepted - Approved and implemented</li> <li>Superseded - Replaced by a newer ADR</li> <li>Deprecated - No longer relevant</li> </ol>"},{"location":"docs/adr-research/log4brains/#adr-philosophy","title":"ADR Philosophy","text":"<p>Following Michael Nygard\u2019s methodology, log4brains treats ADRs as immutable records capturing context, decisions, and consequences. As the documentation notes:</p> <p>\u201cOnly its status can change. Thanks to this, your documentation is never out-of-date!\u201d</p> <p>This approach prevents blind reversals of past decisions while facilitating developer onboarding through documented rationale rather than tribal knowledge.</p>"},{"location":"docs/adr-research/log4brains/#storage-and-integration","title":"Storage and Integration","text":"<ul> <li>Format: Markdown files</li> <li>Version Control: Stored alongside code in git (typically on <code>develop</code> branch)</li> <li>Integration: Automatically integrated into documentation</li> <li>Collaboration: Designed to support team decision-making backed by pull requests</li> </ul>"},{"location":"docs/adr-research/log4brains/#benefits","title":"Benefits","text":"<ul> <li>Creates a permanent architectural knowledge base</li> <li>Prevents loss of decision context when team members leave</li> <li>Reduces repetitive discussions about past decisions</li> <li>Improves onboarding for new developers</li> <li>Makes architectural evolution transparent</li> </ul>"},{"location":"docs/adr-research/log4brains/#use-cases","title":"Use Cases","text":"<ul> <li>Best for: Teams that want a polished, searchable website for their ADRs</li> <li>Project Size: Small to large projects</li> <li>Team Size: Works well for distributed teams</li> <li>Integration: Teams already using git-based workflows</li> </ul>"},{"location":"docs/adr-research/madr/","title":"MADR - Markdown Architectural Decision Records","text":""},{"location":"docs/adr-research/madr/#overview","title":"Overview","text":"<p>MADR (pronounced like \u201cmatter\u201d) stands for \u201cMarkdown Architectural Decision Records\u201d. It\u2019s a streamlined template for documenting architectural decisions in a structured, lightweight format using Markdown files stored directly in code repositories.</p> <p>Website: https://adr.github.io/madr/ Repository: https://github.com/adr/madr Latest Version: MADR 4.0.0 (released 2024-09-17)</p>"},{"location":"docs/adr-research/madr/#core-definition","title":"Core Definition","text":"<p>According to MADR documentation:</p> <p>\u201cAn Architectural Decision (AD) is a justified software design choice that addresses a functional or non-functional requirement of architectural significance.\u201d</p>"},{"location":"docs/adr-research/madr/#template-versions","title":"Template Versions","text":"<p>MADR provides four template versions to suit different needs:</p> <ol> <li>adr-template.md: All sections with explanations</li> <li>adr-template-minimal.md: Only mandatory sections with explanations</li> <li>adr-template-bare.md: All sections, empty (no explanations)</li> <li>adr-template-bare-minimal.md: Mandatory sections only, no explanations</li> </ol>"},{"location":"docs/adr-research/madr/#template-structure","title":"Template Structure","text":""},{"location":"docs/adr-research/madr/#full-madr-template-sections","title":"Full MADR Template Sections","text":"<p>1. Title</p> <p>Assigns a name to the decision for easy identification and searching, ideally conveying both problem and solution.</p> <p>2. Metadata (Optional)</p> <ul> <li>Status: proposed, rejected, accepted, deprecated, or superseded</li> <li>Date: When last updated (YYYY-MM-DD format)</li> <li>Deciders: Those involved in making the decision</li> <li>Consulted: Subject matter experts with two-way communication</li> <li>Informed: Stakeholders kept updated one-way</li> </ul> <p>3. Context and Problem Statement</p> <p>Describes the context and problem in a few sentences, potentially as a question or narrative inviting discussion.</p> <p>4. Decision Drivers</p> <p>Lists desired qualities, forces, and concerns guiding the choice. Examples:</p> <ul> <li>Performance requirements</li> <li>Security constraints</li> <li>Team expertise</li> <li>Budget limitations</li> <li>Time constraints</li> </ul> <p>5. Considered Options</p> <p>Enumerates alternatives investigated at the same abstraction level. The template recommends listing the chosen option first for clarity.</p> <p>6. Chosen Option</p> <p>References the selected option with justification explaining why it best addresses the decision drivers.</p> <p>7. Consequences</p> <p>Discusses outcomes in both positive and negative forms:</p> <ul> <li>Good, because\u2026: Benefits and advantages</li> <li>Bad, because\u2026: Drawbacks and trade-offs</li> </ul> <p>8. Validation/Confirmation (Optional)</p> <p>Describes how implementation compliance is evaluated or enforced. May include:</p> <ul> <li>Code review checkpoints</li> <li>Automated tests</li> <li>Architecture fitness functions</li> <li>Periodic audits</li> </ul> <p>9. Pros and Cons of Options</p> <p>Provides detailed analysis of alternatives with:</p> <ul> <li>Positive properties: Advantages</li> <li>Negative properties: Disadvantages</li> <li>Neutral properties: Neither good nor bad, but worth noting</li> </ul> <p>10. More Information</p> <p>Supplies additional evidence, team agreements, confidence levels, and related decision links.</p>"},{"location":"docs/adr-research/madr/#minimal-template-madr-light","title":"Minimal Template (\u201cMADR Light\u201d)","text":"<p>The essential core includes only:</p> <ol> <li>Title</li> <li>Context and Problem Statement</li> <li>Decision Drivers</li> <li>Considered Options</li> <li>Chosen Option with Consequences</li> </ol>"},{"location":"docs/adr-research/madr/#file-organization","title":"File Organization","text":""},{"location":"docs/adr-research/madr/#naming-convention","title":"Naming Convention","text":"<p>ADRs follow the pattern: <code>NNNN-title-with-dashes.md</code></p> <ul> <li><code>NNNN</code>: Four-digit sequential number (e.g., 0001, 0002)</li> <li><code>title-with-dashes</code>: Lowercase, hyphen-separated description</li> </ul> <p>Examples:</p> <ul> <li><code>0001-use-markdown-for-adrs.md</code></li> <li><code>0042-switch-to-postgresql.md</code></li> </ul>"},{"location":"docs/adr-research/madr/#directory-structure","title":"Directory Structure","text":"<p>Simple Projects: Store all ADRs in a single directory (e.g., <code>docs/adr/</code>)</p> <p>Complex Projects: Use subdirectories for categorization:</p> <pre><code>docs/adr/\n  backend/\n    0001-use-postgresql.md\n    0002-implement-caching.md\n  frontend/\n    0001-choose-react.md\n    0002-state-management.md\n  infrastructure/\n    0001-use-kubernetes.md\n</code></pre>"},{"location":"docs/adr-research/madr/#yaml-front-matter","title":"YAML Front Matter","text":"<p>MADR supports metadata using YAML front matter:</p> <pre><code>---\nstatus: accepted\ndate: 2024-01-15\ndeciders: [Alice, Bob, Carol]\nconsulted: [Dave, Eve]\ninformed: [Frank]\n---\n</code></pre>"},{"location":"docs/adr-research/madr/#what-makes-madr-distinctive","title":"What Makes MADR Distinctive","text":""},{"location":"docs/adr-research/madr/#1-accessibility","title":"1. Accessibility","text":"<p>Uses Markdown files stored in projects rather than external tools. Developers work where they already are.</p>"},{"location":"docs/adr-research/madr/#2-simplicity","title":"2. Simplicity","text":"<p>Emphasizes lean documentation over heavyweight processes. Can be as minimal or comprehensive as needed.</p>"},{"location":"docs/adr-research/madr/#3-flexibility","title":"3. Flexibility","text":"<ul> <li>Supports \u201cneutral\u201d arguments (neither pro nor con)</li> <li>Optional sections for tailoring to project needs</li> <li>Multiple template variants for different use cases</li> </ul>"},{"location":"docs/adr-research/madr/#4-organization","title":"4. Organization","text":"<p>Allows categorization through subdirectories for large projects while maintaining simplicity for small ones.</p>"},{"location":"docs/adr-research/madr/#5-standardization","title":"5. Standardization","text":"<p>Established conventions for:</p> <ul> <li>Filenames (NNNN-title-with-dashes.md)</li> <li>Metadata (YAML front matter)</li> <li>Status values (proposed, accepted, rejected, deprecated, superseded)</li> </ul>"},{"location":"docs/adr-research/madr/#philosophy","title":"Philosophy","text":"<p>MADR centers on making decision documentation integral to development rather than a separate burden. Key principles:</p> <ul> <li>Low friction: Easy to create and maintain</li> <li>Version controlled: Same workflow as code</li> <li>Searchable: Plain text, git history</li> <li>Reviewable: Pull request workflow</li> <li>Accessible: No special tools required</li> </ul>"},{"location":"docs/adr-research/madr/#integration-with-tools","title":"Integration with Tools","text":"<p>MADR works well with:</p> <ul> <li>log4brains: Uses MADR as default template</li> <li>adr-tools: Command-line tools for managing ADRs</li> <li>Static site generators: Convert to websites (MkDocs, Docusaurus, etc.)</li> <li>Git: Native version control support</li> </ul>"},{"location":"docs/adr-research/madr/#use-cases","title":"Use Cases","text":"<ul> <li>Best for: Teams wanting lightweight, flexible ADR documentation</li> <li>Project Size: Any size (scales from small to large)</li> <li>Team Size: Individual developers to large teams</li> <li>Integration: Teams using git-based workflows</li> <li>Learning Curve: Minimal - just Markdown knowledge needed</li> </ul>"},{"location":"docs/adr-research/madr/#benefits","title":"Benefits","text":"<ul> <li>No vendor lock-in</li> <li>Works offline</li> <li>Easy to backup and migrate</li> <li>Supports pull request workflows</li> <li>Low barrier to adoption</li> <li>Can start minimal and grow as needed</li> </ul>"},{"location":"docs/adr-research/prefect-pins/","title":"Prefect PINs - Prefect Improvement Notices","text":""},{"location":"docs/adr-research/prefect-pins/#overview","title":"Overview","text":"<p>PINs (Prefect Improvement Notices) are Prefect\u2019s approach to memorializing important architectural and design decisions. They provide a structured way to document significant changes to the Prefect workflow orchestration platform.</p> <p>Source: https://github.com/PrefectHQ/prefect (community documentation references) Type: Project-specific decision documentation similar to Python\u2019s PEPs or Rust\u2019s RFCs</p>"},{"location":"docs/adr-research/prefect-pins/#what-are-pins","title":"What Are PINs?","text":"<p>According to Prefect\u2019s community documentation:</p> <p>\u201cImportant architectural and design decisions are memorialized in Prefect Improvement Notices (PINs)\u201d</p> <p>PINs serve as the official record of:</p> <ul> <li>Architectural decisions</li> <li>Design choices</li> <li>Feature proposals</li> <li>Breaking changes</li> <li>Process improvements</li> </ul>"},{"location":"docs/adr-research/prefect-pins/#notable-pins","title":"Notable PINs","text":"<p>Based on the Prefect GitHub repository:</p>"},{"location":"docs/adr-research/prefect-pins/#pin-01-introduce-pins","title":"PIN-01: Introduce PINs","text":"<p>The foundational PIN that introduced the PIN concept itself, establishing the framework for documenting future decisions.</p>"},{"location":"docs/adr-research/prefect-pins/#pin-04-result-handling","title":"PIN-04: Result Handling","text":"<p>A proposal for consolidating result handling logic in the Prefect workflow system.</p>"},{"location":"docs/adr-research/prefect-pins/#pin-08-listener-flows","title":"PIN-08: Listener Flows","text":"<p>A proposal to enable starting a Flow based on events from user-provided sources by leveraging existing Schedule features. (Later superseded)</p>"},{"location":"docs/adr-research/prefect-pins/#pin-15-skip-as-finished-control-flow-conditional","title":"PIN-15: Skip as Finished + Control Flow Conditional","text":"<p>Proposes interpreting Skip states as Finished instead of Successful while introducing more conditional control flow constructs.</p>"},{"location":"docs/adr-research/prefect-pins/#pin-on-flexible-schedules","title":"PIN on Flexible Schedules","text":"<p>Addresses business-day calendars and complex scheduling needs beyond simple cron expressions.</p>"},{"location":"docs/adr-research/prefect-pins/#pin-on-prefect-cli","title":"PIN on Prefect CLI","text":"<p>Proposes a command-line interface for Prefect, defining the CLI\u2019s structure and capabilities.</p>"},{"location":"docs/adr-research/prefect-pins/#pin-on-extension-objects","title":"PIN on Extension Objects","text":"<p>Introduces wrapper objects to extend functionality without changing core APIs, enabling backward-compatible enhancements.</p>"},{"location":"docs/adr-research/prefect-pins/#pin-on-obfuscating-data","title":"PIN on Obfuscating Data","text":"<p>Addresses privacy and data protection for Prefect Cloud users, proposing mechanisms to protect sensitive information.</p>"},{"location":"docs/adr-research/prefect-pins/#pin-characteristics","title":"PIN Characteristics","text":""},{"location":"docs/adr-research/prefect-pins/#purpose","title":"Purpose","text":"<p>PINs document decisions that:</p> <ul> <li>Have significant architectural impact</li> <li>Affect the user-facing API</li> <li>Introduce breaking changes</li> <li>Establish new patterns or conventions</li> <li>Require community input and consensus</li> </ul>"},{"location":"docs/adr-research/prefect-pins/#lifecycle","title":"Lifecycle","text":"<p>Based on repository patterns:</p> <ol> <li>Proposal: Created as GitHub issue or pull request</li> <li>Discussion: Community and maintainers provide feedback</li> <li>Revision: Updated based on feedback</li> <li>Decision: Accepted or rejected by maintainers</li> <li>Implementation: If accepted, implemented in code</li> <li>Documentation: Becomes permanent record</li> </ol>"},{"location":"docs/adr-research/prefect-pins/#status-tracking","title":"Status Tracking","text":"<p>PINs appear to use GitHub\u2019s issue/PR system for status:</p> <ul> <li>Open: Under discussion</li> <li>Closed (Merged): Accepted and implemented</li> <li>Closed (Not Merged): Rejected</li> <li>Superseded: Replaced by later PIN</li> </ul>"},{"location":"docs/adr-research/prefect-pins/#relationship-to-other-processes","title":"Relationship to Other Processes","text":""},{"location":"docs/adr-research/prefect-pins/#similar-to","title":"Similar To","text":"<ul> <li>Python PEPs (Enhancement Proposals): Structured improvement proposals</li> <li>Rust RFCs (Request for Comments): Community-driven design documents</li> <li>Ethereum EIPs: Standards and improvement proposals</li> </ul>"},{"location":"docs/adr-research/prefect-pins/#different-from","title":"Different From","text":"<ul> <li>ADRs: PINs are forward-looking proposals, while ADRs document decisions already made</li> <li>Issue Tracking: PINs are specifically for architectural/design decisions, not bugs or features</li> <li>Documentation: PINs focus on why and how, not just what</li> </ul>"},{"location":"docs/adr-research/prefect-pins/#integration-with-development","title":"Integration with Development","text":""},{"location":"docs/adr-research/prefect-pins/#github-centric","title":"GitHub-Centric","text":"<p>PINs leverage GitHub\u2019s features:</p> <ul> <li>Issues: For initial discussion and proposal</li> <li>Pull Requests: For detailed technical proposals with code examples</li> <li>Comments: For community feedback and iteration</li> <li>Labels: For categorization and tracking</li> <li>Milestones: For version planning</li> </ul>"},{"location":"docs/adr-research/prefect-pins/#community-input","title":"Community Input","text":"<p>PINs enable:</p> <ul> <li>Open discussion before implementation</li> <li>Transparency in decision making</li> <li>Community feedback and alternatives</li> <li>Documentation of rationale</li> <li>Historical context for future maintainers</li> </ul>"},{"location":"docs/adr-research/prefect-pins/#documentation-challenges","title":"Documentation Challenges","text":"<p>Based on GitHub issues:</p> <ul> <li>Issue #930: \u201cLinks to individual PINs are broken in docs\u201d<ul> <li>Indicates there were some challenges maintaining PIN documentation</li> <li>Suggests PINs may have been moved or reorganized</li> </ul> </li> </ul> <p>This highlights a common challenge with any documentation system: maintaining links and accessibility over time.</p>"},{"location":"docs/adr-research/prefect-pins/#benefits-of-the-pin-approach","title":"Benefits of the PIN Approach","text":""},{"location":"docs/adr-research/prefect-pins/#for-the-project","title":"For the Project","text":"<ul> <li>Structured decision making: Consistent process for major changes</li> <li>Community engagement: Users can participate in design</li> <li>Historical record: Understanding why decisions were made</li> <li>Transparency: Open development process</li> </ul>"},{"location":"docs/adr-research/prefect-pins/#for-contributors","title":"For Contributors","text":"<ul> <li>Clear process: Knows how to propose changes</li> <li>Visibility: Can see what\u2019s being considered</li> <li>Feedback mechanism: Can influence direction</li> <li>Learning: Understand design philosophy</li> </ul>"},{"location":"docs/adr-research/prefect-pins/#for-users","title":"For Users","text":"<ul> <li>Advance notice: See upcoming changes</li> <li>Provide input: Influence features that affect them</li> <li>Understanding: Learn why things work the way they do</li> <li>Trust: Transparent, reasoned decision making</li> </ul>"},{"location":"docs/adr-research/prefect-pins/#comparison-to-traditional-adrs","title":"Comparison to Traditional ADRs","text":""},{"location":"docs/adr-research/prefect-pins/#similarities","title":"Similarities","text":"<ul> <li>Document important decisions</li> <li>Capture context and rationale</li> <li>Create permanent record</li> <li>Support future understanding</li> </ul>"},{"location":"docs/adr-research/prefect-pins/#differences","title":"Differences","text":"Aspect PINs Traditional ADRs Timing Before implementation (proposals) After decision (records) Audience Community + maintainers Internal team Process Public discussion Team consensus Platform GitHub issues/PRs Markdown in repo Mutability Can be revised during discussion Immutable once accepted Scope Major features/changes Any architectural decision"},{"location":"docs/adr-research/prefect-pins/#use-cases-for-pin-style-approach","title":"Use Cases for PIN-style Approach","text":""},{"location":"docs/adr-research/prefect-pins/#best-for","title":"Best For","text":"<ul> <li>Open source projects: Community involvement needed</li> <li>Breaking changes: Need to communicate and justify</li> <li>API design: User-facing decisions need input</li> <li>Platform changes: Significant architectural shifts</li> <li>Standard setting: Establishing conventions</li> </ul>"},{"location":"docs/adr-research/prefect-pins/#consider-traditional-adrs-instead-when","title":"Consider Traditional ADRs Instead When","text":"<ul> <li>Internal decisions: No external stakeholders</li> <li>Non-controversial: Team consensus already exists</li> <li>Implementation details: Not user-facing</li> <li>Rapid iteration: Too much process overhead</li> <li>Smaller scope: Doesn\u2019t warrant public discussion</li> </ul>"},{"location":"docs/adr-research/prefect-pins/#implementation-considerations","title":"Implementation Considerations","text":""},{"location":"docs/adr-research/prefect-pins/#starting-a-pin-process","title":"Starting a PIN Process","text":"<ol> <li>Define scope: What types of decisions warrant a PIN?</li> <li>Create template: Structure for proposals</li> <li>Establish process: Workflow from proposal to decision</li> <li>Document guidelines: Help contributors understand</li> <li>Track decisions: Maintain index of PINs</li> </ol>"},{"location":"docs/adr-research/prefect-pins/#maintaining-pins","title":"Maintaining PINs","text":"<ul> <li>Version control: Store in git repository</li> <li>Indexing: Maintain searchable list</li> <li>Linking: Connect to related issues and PRs</li> <li>Archiving: Keep historical PINs accessible</li> <li>Updating: Mark superseded PINs clearly</li> </ul>"},{"location":"docs/adr-research/prefect-pins/#key-takeaways","title":"Key Takeaways","text":"<ol> <li>PINs are proposals, not records: Forward-looking rather than historical</li> <li>Community engagement: Open source projects benefit from transparent discussion</li> <li>GitHub integration: Leverages existing tools rather than new systems</li> <li>Flexible process: Adapts to project needs</li> <li>Documentation challenges: Requires maintenance and organization</li> </ol>"},{"location":"docs/adr-research/prefect-pins/#use-cases","title":"Use Cases","text":"<ul> <li>Best for: Open source projects with community stakeholders</li> <li>Project Size: Medium to large open source projects</li> <li>Team Size: Distributed teams with external contributors</li> <li>Culture: Open, collaborative development</li> <li>Formality: Semi-formal to formal</li> <li>Visibility: Public, transparent decision making</li> </ul>"},{"location":"docs/adr-research/real-world-examples/","title":"Real-World ADR Examples and Implementations","text":""},{"location":"docs/adr-research/real-world-examples/#overview","title":"Overview","text":"<p>This document examines real-world implementations of Architecture Decision Records across different projects to understand practical patterns and approaches.</p>"},{"location":"docs/adr-research/real-world-examples/#arachne-framework","title":"Arachne Framework","text":"<p>Repository: https://github.com/arachne-framework/architecture Example: https://github.com/arachne-framework/architecture/blob/master/adr-002-configuration.md</p>"},{"location":"docs/adr-research/real-world-examples/#adr-structure-used","title":"ADR Structure Used","text":"<p>Arachne follows a clean, straightforward ADR format:</p> <p>1. Title</p> <ul> <li>\u201cArchitecture Decision Record: [Topic]\u201d</li> <li>Example: \u201cArchitecture Decision Record: Configuration\u201d</li> </ul> <p>2. Context</p> <p>Describes the problem space and foundational principles:</p> <ul> <li>Goals and objectives</li> <li>Philosophical underpinnings</li> <li>Current situation</li> <li>Constraints</li> </ul> <p>Example context from ADR-002:</p> <ul> <li>Modularity across different software packages</li> <li>Transparency and introspectability of applications</li> <li>Strong defaults with high configurability</li> <li>References to \u201cdata-first\u201d design philosophy (Rich Hickey, Stuart Halloway)</li> </ul> <p>3. Decision</p> <p>States the chosen approach clearly and concisely.</p> <p>Example:</p> <p>\u201cArachne will take the \u2018everything is data\u2019 philosophy to its logical extreme, and encode as much information about the application as possible in a single, highly general data structure.\u201d</p> <p>Includes specific examples:</p> <ul> <li>Dependency injection</li> <li>Runtime entities</li> <li>HTTP routes</li> <li>Persistence schemas</li> </ul> <p>4. Status</p> <p>A single-line indicator of the current state:</p> <ul> <li>Proposed</li> <li>Accepted</li> <li>Deprecated</li> <li>Superseded</li> </ul> <p>5. Consequences</p> <p>Bullet-pointed outcomes, both positive and challenging:</p> <ul> <li>Benefits and advantages</li> <li>Challenges and trade-offs</li> <li>Impact on other components</li> <li>Future implications</li> </ul>"},{"location":"docs/adr-research/real-world-examples/#key-characteristics","title":"Key Characteristics","text":"<ul> <li>Philosophy-driven: Explicitly references design principles and thought leaders</li> <li>Data-centric: Emphasizes the data structure approach</li> <li>Clear sections: Well-defined structure without extra complexity</li> <li>Consequences-focused: Honest about both benefits and challenges</li> </ul>"},{"location":"docs/adr-research/real-world-examples/#structurizr-python","title":"Structurizr Python","text":"<p>Repository: https://github.com/Midnighter/structurizr-python/tree/devel/docs/development/adr Number of ADRs: 9 documented decisions</p>"},{"location":"docs/adr-research/real-world-examples/#adr-collection","title":"ADR Collection","text":"<p>The project maintains ADRs at <code>docs/development/adr/</code> with:</p> <ol> <li>ADR-0001: \u201cRecord architecture decisions\u201d - establishes the ADR practice itself</li> <li>ADR-0002: Version control approach</li> <li>ADR-0003: Python 3.6 compatibility requirement</li> <li>ADR-0004: Package versioning strategy</li> <li>ADR-0005: Code quality assurance standards</li> <li>ADR-0006: Testing approach</li> <li>ADR-0007: Unit testing specifics</li> <li>ADR-0008: Package structure organization</li> <li>ADR-0009: \u201cUse pydantic for json de-serialization\u201d</li> </ol>"},{"location":"docs/adr-research/real-world-examples/#organization-approach","title":"Organization Approach","text":"<p>Naming Convention</p> <ul> <li><code>NNNN-title.md</code> format</li> <li>Sequential numbering (0001, 0002, etc.)</li> <li>Descriptive but concise titles</li> </ul> <p>Documentation Integration</p> <ul> <li><code>.pages</code> configuration file for navigation</li> <li>Integrated with MkDocs documentation system</li> <li>Part of developer documentation structure</li> </ul> <p>Scope Coverage</p> <p>The ADRs cover diverse decision types:</p> <ul> <li>Process decisions: How to record decisions (ADR-0001)</li> <li>Technical constraints: Python version compatibility (ADR-0003)</li> <li>Quality standards: Code quality requirements (ADR-0005)</li> <li>Architecture: Package structure (ADR-0008)</li> <li>Technology choices: Library selection (ADR-0009)</li> </ul>"},{"location":"docs/adr-research/real-world-examples/#key-characteristics_1","title":"Key Characteristics","text":"<ul> <li>Comprehensive coverage: From meta-decisions to specific library choices</li> <li>Developer-focused: Located in development documentation</li> <li>Tooling integration: Works with MkDocs for documentation site</li> <li>Progressive adoption: ADR-0001 establishes practice, then other decisions follow</li> </ul>"},{"location":"docs/adr-research/real-world-examples/#concourse-ci","title":"Concourse CI","text":"<p>Website: https://concourse-ci.org/internals.html Type: Public documentation of architectural decisions</p>"},{"location":"docs/adr-research/real-world-examples/#approach","title":"Approach","text":"<p>Concourse CI documents architectural decisions as part of their public \u201cInternals\u201d documentation:</p> <ul> <li>Integrated into main documentation site</li> <li>Explains internal architecture and design decisions</li> <li>Focuses on helping contributors understand the system</li> <li>Combines high-level architecture with detailed decisions</li> </ul>"},{"location":"docs/adr-research/real-world-examples/#key-characteristics_2","title":"Key Characteristics","text":"<ul> <li>Public-facing: Not just for internal team</li> <li>Educational: Helps onboard contributors</li> <li>Integrated: Part of main documentation, not separate</li> <li>Detailed: Technical depth for implementation understanding</li> </ul>"},{"location":"docs/adr-research/real-world-examples/#boltons","title":"Boltons","text":"<p>Documentation: https://boltons.readthedocs.io/en/latest/architecture.html Type: Architecture documentation page</p>"},{"location":"docs/adr-research/real-world-examples/#approach_1","title":"Approach","text":"<p>Boltons includes an \u201cArchitecture\u201d page in their documentation that:</p> <ul> <li>Explains design philosophy</li> <li>Documents key architectural decisions</li> <li>Provides context for implementation choices</li> <li>Justifies the library\u2019s structure</li> </ul>"},{"location":"docs/adr-research/real-world-examples/#key-characteristics_3","title":"Key Characteristics","text":"<ul> <li>Single page: All architecture documentation in one place</li> <li>Narrative style: Flows as connected text rather than discrete ADRs</li> <li>Philosophy-focused: Emphasizes the \u201cwhy\u201d behind design</li> <li>User-facing: Part of public documentation</li> </ul>"},{"location":"docs/adr-research/real-world-examples/#timescaledb","title":"TimescaleDB","text":"<p>Documentation: https://docs.timescale.com/latest/introduction/architecture Type: Comprehensive architecture documentation</p>"},{"location":"docs/adr-research/real-world-examples/#approach_2","title":"Approach","text":"<p>TimescaleDB provides extensive architecture documentation:</p> <ul> <li>Detailed system design</li> <li>Technical architecture diagrams</li> <li>Design decision rationale</li> <li>Performance considerations</li> </ul>"},{"location":"docs/adr-research/real-world-examples/#key-characteristics_4","title":"Key Characteristics","text":"<ul> <li>Comprehensive: Complete system overview</li> <li>Visual: Includes diagrams and illustrations</li> <li>Technical depth: Implementation details</li> <li>User-focused: Helps users understand system behavior</li> </ul>"},{"location":"docs/adr-research/real-world-examples/#packet-cafe","title":"Packet Cafe","text":"<p>Documentation: https://iqtlabs.gitbook.io/packet-cafe/design/architecture Type: Design and architecture section</p>"},{"location":"docs/adr-research/real-world-examples/#approach_3","title":"Approach","text":"<p>Uses GitBook for documentation with dedicated architecture section:</p> <ul> <li>Design decisions documented</li> <li>Architecture overview</li> <li>Component descriptions</li> <li>System interactions</li> </ul>"},{"location":"docs/adr-research/real-world-examples/#key-characteristics_5","title":"Key Characteristics","text":"<ul> <li>GitBook platform: Modern documentation hosting</li> <li>Organized sections: Clear navigation structure</li> <li>Design-focused: Emphasizes design choices</li> <li>Accessible: Public documentation for users and contributors</li> </ul>"},{"location":"docs/adr-research/real-world-examples/#common-patterns-across-examples","title":"Common Patterns Across Examples","text":""},{"location":"docs/adr-research/real-world-examples/#1-location","title":"1. Location","text":"<p>Within Repository</p> <ul> <li>Most store ADRs in the repository</li> <li>Common paths:<ul> <li><code>docs/adr/</code></li> <li><code>docs/development/adr/</code></li> <li><code>docs/architecture/</code></li> </ul> </li> </ul> <p>Integration with Documentation</p> <ul> <li>Often part of larger documentation system</li> <li>MkDocs, Sphinx, GitBook, or custom static sites</li> <li>Publicly accessible, not just internal</li> </ul>"},{"location":"docs/adr-research/real-world-examples/#2-format-variations","title":"2. Format Variations","text":"<p>Discrete ADRs</p> <ul> <li>Individual files per decision (Arachne, Structurizr)</li> <li>Sequential numbering</li> <li>Consistent template</li> </ul> <p>Integrated Documentation</p> <ul> <li>Architecture decisions woven into larger docs (Boltons, TimescaleDB)</li> <li>Narrative flow</li> <li>Single or few pages</li> </ul> <p>Hybrid Approach</p> <ul> <li>Both discrete ADRs and overview documentation</li> <li>ADRs for specific decisions</li> <li>Architecture guides for big picture</li> </ul>"},{"location":"docs/adr-research/real-world-examples/#3-scope-of-decisions-documented","title":"3. Scope of Decisions Documented","text":"<p>Technical Decisions</p> <ul> <li>Library choices (Pydantic in Structurizr)</li> <li>Technology stack</li> <li>Framework selection</li> </ul> <p>Process Decisions</p> <ul> <li>Testing approach</li> <li>Code quality standards</li> <li>Version control strategy</li> </ul> <p>Architecture Decisions</p> <ul> <li>System structure</li> <li>Component organization</li> <li>Design patterns</li> </ul> <p>Philosophy and Principles</p> <ul> <li>Design philosophy (Arachne)</li> <li>Core values</li> <li>Guiding principles</li> </ul>"},{"location":"docs/adr-research/real-world-examples/#4-audience-considerations","title":"4. Audience Considerations","text":"<p>Internal Team</p> <ul> <li>Help future team members understand decisions</li> <li>Prevent re-litigating settled questions</li> <li>Maintain consistency</li> </ul> <p>External Contributors</p> <ul> <li>Help open source contributors understand system</li> <li>Explain non-obvious choices</li> <li>Lower barrier to contribution</li> </ul> <p>Users</p> <ul> <li>Help users understand system behavior</li> <li>Explain performance characteristics</li> <li>Build trust through transparency</li> </ul>"},{"location":"docs/adr-research/real-world-examples/#5-maintenance-approaches","title":"5. Maintenance Approaches","text":"<p>Active Maintenance</p> <ul> <li>Regular updates</li> <li>Status changes tracked</li> <li>Deprecated decisions marked</li> </ul> <p>Static Records</p> <ul> <li>Written once, rarely updated</li> <li>Historical record</li> <li>Immutable documentation</li> </ul> <p>Evolving Documentation</p> <ul> <li>Living documents</li> <li>Updated as system changes</li> <li>Reflects current state</li> </ul>"},{"location":"docs/adr-research/real-world-examples/#lessons-learned","title":"Lessons Learned","text":""},{"location":"docs/adr-research/real-world-examples/#what-works-well","title":"What Works Well","text":"<p>1. Start Simple</p> <ul> <li>ADR-0001: \u201cRecord architecture decisions\u201d</li> <li>Establishes practice before demanding compliance</li> <li>Low barrier to adoption</li> </ul> <p>2. Integrate with Existing Tools</p> <ul> <li>Use documentation system already in place</li> <li>Version control in git</li> <li>No special tools required</li> </ul> <p>3. Document Why, Not Just What</p> <ul> <li>Context and rationale most valuable</li> <li>Technical details can be found in code</li> <li>\u201cWhy\u201d endures while \u201chow\u201d changes</li> </ul> <p>4. Make It Public</p> <ul> <li>Even internal projects benefit from public ADRs</li> <li>Transparency builds trust</li> <li>Helps future contributors</li> </ul> <p>5. Cover Different Decision Types</p> <ul> <li>Not just architecture</li> <li>Process, tools, standards</li> <li>Any significant decision benefits from documentation</li> </ul>"},{"location":"docs/adr-research/real-world-examples/#common-challenges","title":"Common Challenges","text":"<p>1. Consistency</p> <ul> <li>Maintaining format across ADRs</li> <li>Getting team buy-in</li> <li>Making it habit</li> </ul> <p>2. Finding Balance</p> <ul> <li>Too detailed \u2192 maintenance burden</li> <li>Too brief \u2192 missing context</li> <li>Right level varies by project</li> </ul> <p>3. Keeping Current</p> <ul> <li>Updating status when decisions change</li> <li>Marking deprecated ADRs</li> <li>Linking superseding decisions</li> </ul> <p>4. Discoverability</p> <ul> <li>Making ADRs easy to find</li> <li>Organizing for browsing</li> <li>Search functionality</li> </ul>"},{"location":"docs/adr-research/real-world-examples/#recommendations-by-project-type","title":"Recommendations by Project Type","text":""},{"location":"docs/adr-research/real-world-examples/#small-projects-1-3-developers","title":"Small Projects (1-3 developers)","text":"<p>Approach: Integrated documentation or Y-Statements</p> <ul> <li>Single architecture.md file</li> <li>Lightweight decision capture</li> <li>Focus on major decisions only</li> </ul> <p>Example: Boltons approach</p>"},{"location":"docs/adr-research/real-world-examples/#medium-projects-4-10-developers","title":"Medium Projects (4-10 developers)","text":"<p>Approach: Discrete ADRs with simple structure</p> <ul> <li>Individual ADR files</li> <li>Sequential numbering</li> <li>Standard template (MADR or similar)</li> </ul> <p>Example: Structurizr approach</p>"},{"location":"docs/adr-research/real-world-examples/#large-projects-10-developers","title":"Large Projects (10+ developers)","text":"<p>Approach: Comprehensive ADR system with tooling</p> <ul> <li>Structured ADR collection</li> <li>Automated site generation (log4brains)</li> <li>Integration with development workflow</li> <li>Multiple categories or packages</li> </ul> <p>Example: Arachne approach</p>"},{"location":"docs/adr-research/real-world-examples/#open-source-projects","title":"Open Source Projects","text":"<p>Approach: Public, accessible ADRs</p> <ul> <li>Part of public documentation</li> <li>Helps contributors understand decisions</li> <li>Builds community trust</li> <li>Consider PIN-style for community input</li> </ul> <p>Example: Structurizr, Concourse CI approaches</p>"},{"location":"docs/adr-research/real-world-examples/#enterpriseregulated","title":"Enterprise/Regulated","text":"<p>Approach: Formal, comprehensive ADRs</p> <ul> <li>Detailed rationale</li> <li>Security considerations</li> <li>Compliance documentation</li> <li>Audit trail</li> </ul> <p>Example: AWS ADR Guide approach</p>"},{"location":"docs/adr-research/real-world-examples/#implementation-checklist","title":"Implementation Checklist","text":"<p>Based on successful examples:</p>"},{"location":"docs/adr-research/real-world-examples/#getting-started","title":"Getting Started","text":"<ul> <li> Create ADR-0001 to establish practice</li> <li> Choose storage location (docs/adr/)</li> <li> Select template (MADR, custom, etc.)</li> <li> Document in CONTRIBUTING or README</li> </ul>"},{"location":"docs/adr-research/real-world-examples/#ongoing-practice","title":"Ongoing Practice","text":"<ul> <li> Create ADR for each significant decision</li> <li> Review ADRs in pull requests</li> <li> Update status when decisions change</li> <li> Link ADRs from related code/docs</li> </ul>"},{"location":"docs/adr-research/real-world-examples/#maintenance","title":"Maintenance","text":"<ul> <li> Maintain index or list of ADRs</li> <li> Integrate with documentation site</li> <li> Review periodically for currency</li> <li> Mark deprecated decisions clearly</li> </ul>"},{"location":"docs/adr-research/real-world-examples/#quality","title":"Quality","text":"<ul> <li> Ensure consistent format</li> <li> Capture sufficient context</li> <li> Document alternatives considered</li> <li> Explain rationale clearly</li> <li> Note consequences honestly</li> </ul>"},{"location":"docs/adr-research/y-statements/","title":"Y-Statements - Abbreviated Architecture Decision Format","text":""},{"location":"docs/adr-research/y-statements/#overview","title":"Overview","text":"<p>Y-Statements (also called (WH)Y-Statements) are an abbreviated, lightweight format for documenting architectural decisions. They condense decision documentation into a single structured sentence, making them ideal for quick capture and communication.</p> <p>Source: https://medium.com/olzzio/y-statements-10eb07b5a177 Origin: Evolved from George Fairbanks\u2019 Architecture Haikus notation Published: Featured in \u201cMaking Architectural Knowledge Sustainable: Industrial Practice Report and Outlook\u201d at SATURN 2012 and in IEEE Software/InfoQ article</p>"},{"location":"docs/adr-research/y-statements/#format-structure","title":"Format Structure","text":"<p>Y-Statements reduce documentation to a single statement following this template:</p> <p>\u201cIn the context of <code>&lt;use case/user story u&gt;</code>, facing <code>&lt;concern c&gt;</code> we decided for <code>&lt;option o&gt;</code> to achieve <code>&lt;quality q&gt;</code>, accepting <code>&lt;downside d&gt;</code>.\u201d</p>"},{"location":"docs/adr-research/y-statements/#six-core-components","title":"Six Core Components","text":"<p>1. Context (In the context of\u2026)</p> <ul> <li>Functional requirement (user story or use case)</li> <li>Or an architecture component</li> <li>Establishes the scope and situation</li> </ul> <p>2. Facing (facing\u2026)</p> <ul> <li>Non-functional requirement</li> <li>Desired quality attribute</li> <li>The problem or concern driving the decision</li> </ul> <p>3. We decided for (we decided for\u2026)</p> <ul> <li>Decision outcome</li> <li>The most important part - what was chosen</li> <li>Clear statement of the solution</li> </ul> <p>4. Neglected (and against\u2026)</p> <ul> <li>Alternatives not chosen</li> <li>Important to remember what was considered but rejected</li> <li>Prevents revisiting dismissed options</li> </ul> <p>5. To achieve (to achieve\u2026)</p> <ul> <li>Benefits of the decision</li> <li>Full or partial satisfaction of the requirement</li> <li>Positive outcomes expected</li> </ul> <p>6. Accepting that (accepting that\u2026)</p> <ul> <li>Drawbacks and trade-offs</li> <li>Impact on other properties/context</li> <li>Effort/cost implications</li> <li>Honest acknowledgment of downsides</li> </ul>"},{"location":"docs/adr-research/y-statements/#example-y-statement","title":"Example Y-Statement","text":"<p>In the context of the Web shop service, facing the need to keep user session data consistent and current across shop instances, we decided for the Database Session State pattern and against Client Session State or Server Session State, to achieve data consistency and cloud elasticity, accepting that a session database needs to be designed and implemented.</p>"},{"location":"docs/adr-research/y-statements/#visual-representation","title":"Visual Representation","text":"<p>The template forms the letter \u201cY\u201d when visualized:</p> <pre><code>                Context\n                   |\n                Facing\n                   |\n        \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n    Decided              Neglected\n        \u2502\n    To Achieve\n        \u2502\n    Accepting\n</code></pre> <p>The \u201cY\u201d shape gives the format its name and is pronounced like the word \u201cwhy\u201d, which reinforces the focus on explaining the reasoning.</p>"},{"location":"docs/adr-research/y-statements/#key-characteristics","title":"Key Characteristics","text":""},{"location":"docs/adr-research/y-statements/#1-brevity","title":"1. Brevity","text":"<ul> <li>Single (long) sentence</li> <li>Forces conciseness</li> <li>Easy to scan and understand quickly</li> </ul>"},{"location":"docs/adr-research/y-statements/#2-completeness","title":"2. Completeness","text":"<p>Despite brevity, captures:</p> <ul> <li>Problem (context + facing)</li> <li>Solution (decided for)</li> <li>Alternatives (neglected)</li> <li>Benefits (to achieve)</li> <li>Trade-offs (accepting)</li> </ul>"},{"location":"docs/adr-research/y-statements/#3-structured","title":"3. Structured","text":"<p>The six sections provide a consistent template that:</p> <ul> <li>Guides thinking</li> <li>Ensures key information is captured</li> <li>Makes decisions comparable</li> </ul>"},{"location":"docs/adr-research/y-statements/#4-lightweight","title":"4. Lightweight","text":"<p>Much leaner than full ADR templates while still capturing essential information.</p>"},{"location":"docs/adr-research/y-statements/#when-to-use-y-statements","title":"When to Use Y-Statements","text":""},{"location":"docs/adr-research/y-statements/#ideal-use-cases","title":"Ideal Use Cases","text":"<ul> <li>Lightweight documentation needs: When full ADRs feel too heavy</li> <li>Quick decision capture: During meetings or design sessions</li> <li>Decision summaries: As TL;DR for longer documents</li> <li>Intermediate decisions: Not architecturally significant enough for full ADR</li> <li>Rapid iteration: Early in design when things are fluid</li> </ul>"},{"location":"docs/adr-research/y-statements/#consider-full-adrs-instead-when","title":"Consider Full ADRs Instead When","text":"<ul> <li>Decision is highly complex with many nuances</li> <li>Multiple stakeholders need detailed justification</li> <li>Regulatory or compliance documentation required</li> <li>Decision needs extensive technical detail</li> <li>Long-term reference documentation needed</li> </ul>"},{"location":"docs/adr-research/y-statements/#relationship-to-adrs","title":"Relationship to ADRs","text":"<p>Y-Statements can work alongside ADRs:</p> <ul> <li>ADR Summary: Use Y-Statement as the summary at the top of a full ADR</li> <li>Lightweight ADRs: Use Y-Statement as the entire ADR for simpler decisions</li> <li>Decision Register: Maintain a list of Y-Statements with links to full ADRs when they exist</li> <li>Hybrid Approach: Start with Y-Statement, expand to full ADR if needed</li> </ul>"},{"location":"docs/adr-research/y-statements/#benefits","title":"Benefits","text":""},{"location":"docs/adr-research/y-statements/#for-teams","title":"For Teams","text":"<ul> <li>Fast to create: Can capture decisions in real-time</li> <li>Easy to review: Quick to read and understand</li> <li>Encourages documentation: Lower barrier than full ADRs</li> <li>Consistent format: Same structure every time</li> </ul>"},{"location":"docs/adr-research/y-statements/#for-communication","title":"For Communication","text":"<ul> <li>Concise: Gets to the point quickly</li> <li>Complete: Still captures essential elements</li> <li>Memorable: Structure makes it stick</li> <li>Shareable: Easy to include in emails, chat, presentations</li> </ul>"},{"location":"docs/adr-research/y-statements/#for-decision-making","title":"For Decision Making","text":"<ul> <li>Forces clarity: Must distill to essentials</li> <li>Highlights trade-offs: \u201cAccepting\u201d clause ensures honest assessment</li> <li>Shows alternatives: \u201cNeglected\u201d prevents tunnel vision</li> <li>Links to goals: \u201cTo achieve\u201d connects decision to objectives</li> </ul>"},{"location":"docs/adr-research/y-statements/#limitations","title":"Limitations","text":""},{"location":"docs/adr-research/y-statements/#what-y-statements-dont-capture-well","title":"What Y-Statements Don\u2019t Capture Well","text":"<ul> <li>Detailed technical analysis: Not enough space for deep dive</li> <li>Complex multi-faceted decisions: Hard to fit in one sentence</li> <li>Multiple alternatives: Can list but not analyze in detail</li> <li>Detailed consequences: Only high-level trade-offs</li> <li>Implementation guidance: Not enough room for \u201chow\u201d</li> </ul>"},{"location":"docs/adr-research/y-statements/#potential-issues","title":"Potential Issues","text":"<ul> <li>Oversimplification: Complex decisions may be trivialized</li> <li>Missing context: Background information often needed</li> <li>Limited traceability: Hard to reference specific requirements</li> <li>One-size-fits-all: Same format for very different decisions</li> </ul>"},{"location":"docs/adr-research/y-statements/#best-practices","title":"Best Practices","text":""},{"location":"docs/adr-research/y-statements/#writing-effective-y-statements","title":"Writing Effective Y-Statements","text":"<ol> <li>Be specific: Avoid vague terms like \u201cbetter\u201d or \u201cimproved\u201d</li> <li>Be honest: Don\u2019t hide or minimize trade-offs</li> <li>Be complete: Fill in all six components</li> <li>Be concise: Each component should be short</li> <li>Be clear: Avoid jargon and acronyms when possible</li> </ol>"},{"location":"docs/adr-research/y-statements/#organizing-y-statements","title":"Organizing Y-Statements","text":"<ul> <li>Decision log: Maintain a numbered or dated list</li> <li>Categorize: Group by component, layer, or concern</li> <li>Link: Reference related decisions</li> <li>Version control: Store in git like code</li> <li>Review: Revisit periodically to validate or supersede</li> </ul>"},{"location":"docs/adr-research/y-statements/#integration-with-workflows","title":"Integration with Workflows","text":""},{"location":"docs/adr-research/y-statements/#design-meetings","title":"Design Meetings","text":"<ol> <li>Discuss problem and options</li> <li>Draft Y-Statement collaboratively</li> <li>Review for completeness</li> <li>Document in decision log</li> <li>Expand to full ADR if needed</li> </ol>"},{"location":"docs/adr-research/y-statements/#pull-requests","title":"Pull Requests","text":"<ul> <li>Include Y-Statement in PR description</li> <li>Helps reviewers understand intent</li> <li>Captures decision at implementation time</li> <li>Creates historical record</li> </ul>"},{"location":"docs/adr-research/y-statements/#documentation","title":"Documentation","text":"<ul> <li>Include in README or design docs</li> <li>Link to relevant code</li> <li>Maintain index of decisions</li> <li>Update status as needed</li> </ul>"},{"location":"docs/adr-research/y-statements/#use-cases","title":"Use Cases","text":"<ul> <li>Best for: Agile teams needing quick decision capture</li> <li>Project Size: Small to medium projects</li> <li>Team Size: Small, co-located teams</li> <li>Integration: Works with any version control system</li> <li>Learning Curve: Very low - just one sentence format</li> <li>Formality: Informal to semi-formal documentation needs</li> </ul>"}]}